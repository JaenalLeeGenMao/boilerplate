module.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=93)}([function(t,e,n){"use strict";t.exports=n(96)},function(t,e,n){var r=n(100);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},function(t,e,n){t.exports=n(98)()},function(t,e,n){"use strict";n.d(e,"a",(function(){return o.css}));var r=n(0),i=n.n(r),o=n(29),a=n(2),s=n.n(a),u=n(30),c=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class)|(on[A-Z].*)|((data|aria|x)-.*))$/i,l=Object(u.a)(c.test.bind(c));function f(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var h,d="__EMOTION_THEMING__",p=((h={})[d]=s.a.object,h);function m(t){this.setState({theme:t})}var g=l,y=function(t){return"theme"!==t&&"innerRef"!==t},b=function(){return!0},v=function(t,e){for(var n=2,r=arguments.length;n<r;n++){var i=arguments[n],o=void 0;for(o in i)t(o)&&(e[o]=i[o])}return e};var w=function(t,e){var n=function(r,i){var o,a,s,u;void 0!==i&&(o=i.e,a=i.label,s=i.target,u=r.__emotion_forwardProp&&i.shouldForwardProp?function(t){return r.__emotion_forwardProp(t)&&i.shouldForwardProp(t)}:i.shouldForwardProp);var c=r.__emotion_real===r,l=void 0===o&&c&&r.__emotion_base||r;return"function"!=typeof u&&(u="string"==typeof l&&l.charAt(0)===l.charAt(0).toLowerCase()?g:y),function(){var h=arguments,g=c&&void 0!==r.__emotion_styles?r.__emotion_styles.slice(0):[];if(void 0!==a&&g.push("label:"+a+";"),void 0===o)if(null==h[0]||void 0===h[0].raw)g.push.apply(g,h);else{g.push(h[0][0]);for(var y=h.length,w=1;w<y;w++)g.push(h[w],h[0][w])}else 0;var T=function(n){function r(){return n.apply(this,arguments)||this}f(r,n);var i=r.prototype;return i.componentWillMount=function(){void 0!==this.context[d]&&(this.unsubscribe=this.context[d].subscribe(m.bind(this)))},i.componentWillUnmount=function(){void 0!==this.unsubscribe&&this.context[d].unsubscribe(this.unsubscribe)},i.render=function(){var n=this.props,r=this.state;this.mergedProps=v(b,{},n,{theme:null!==r&&r.theme||n.theme||{}});var i="",a=[];return n.className&&(i+=void 0===o?t.getRegisteredStyles(a,n.className):n.className+" "),i+=void 0===o?t.css.apply(this,g.concat(a)):o,void 0!==s&&(i+=" "+s),e.createElement(l,v(u,{},n,{className:i,ref:n.innerRef}))},r}(e.Component);return T.displayName=void 0!==a?a:"Styled("+("string"==typeof l?l:l.displayName||l.name||"Component")+")",void 0!==r.defaultProps&&(T.defaultProps=r.defaultProps),T.contextTypes=p,T.__emotion_styles=g,T.__emotion_base=l,T.__emotion_real=T,T.__emotion_forwardProp=u,Object.defineProperty(T,"toString",{value:function(){return"."+s}}),T.withComponent=function(t,e){return n(t,void 0!==e?v(b,{},i,e):i).apply(void 0,g)},T}};return n}(o,i.a);e.b=w},function(t,e){(function(){t.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(this)},function(t,e,n){"use strict";n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return f})),n.d(e,"b",(function(){return h})),n.d(e,"a",(function(){return d})),n.d(e,"e",(function(){return p}));var r=n(3);function i(){var t=c(["{\n  display: grid;\n  grid-template-areas:\n    'progressbar progressbar progressbar duration'\n    'bottomleftsection auto bottomrightsection bottomrightsection';\n  grid-template-rows: 1fr 1fr;\n  grid-template-columns: auto 1fr;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 6em;\n  padding: 1.6em 2em;\n  opacity: 1;\n  background: linear-gradient(to top, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 0) 100%);\n  transition: all 0.3s ease-in;\n  transform: scale(1);\n  transform: translateY(0%);\n  z-index: 102; /* greater than ad-root class and feedback class*/\n\n  &.hide {\n    transform: translateY(50%);\n    opacity: 0;\n  }\n\n  .bottom_left_section {\n    grid-area: bottomleftsection;\n    display: flex;\n    align-items: center;\n  }\n  \n  .bottom_right_section {\n    grid-area: bottomrightsection;\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n  }\n  \n  .duration {\n    grid-area: duration;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 4rem;\n    font-weight: 600;\n  }\n  \n  .progress {\n    grid-area: progressbar;\n    display: flex;\n    align-items: center;\n    position: relative;\n    margin: 0 2em 0 0;\n    height: 100%;\n    border-radius: 0.1em;\n    transition: all 0.1s ease-in;\n  }\n  \n  input[type='range']:hover {\n    cursor: pointer;\n  }\n  \n  .progress_wrapper {\n    position: relative;\n    height: 0.25em;\n    width: 100%;\n    border-radius: 0.1em;\n  }\n  \n  .progressbar_dot {\n    position: relative;\n    display: inline-block;\n    top: -0.35em;\n    left: 99%;\n    margin: 0;\n    width: 1.25em;\n    height: 1.25em;\n    border-radius: 50%;\n    background: #1f93ff;\n    opacity: 0;\n  }\n  \n  .progressbar_progress {\n    position: absolute;\n    width: 0%;\n    height: 100%;\n    background: #1f93ff;\n    border-radius: 0.1em;\n    z-index: 2;\n  }\n  \n  .progressbar_progress_buffer {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 0%;\n    height: 100%;\n    background: #cecece;\n    border-radius: 0.1em;\n    z-index: 1;\n  }\n  \n  .progressbar_progress_background {\n    position: relative;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(255, 255, 255, 0.45);\n    border-radius: 0.1em;\n    z-index: 0;\n  }\n  \n  .volume {\n    display: flex;\n  }\n  \n  .volume > .progress {\n    position: relative;\n    width: 10em;\n    height: 100%;\n    margin: auto 0;\n    border-radius: 0.1em;\n    transition: all 0.1s ease-in;\n  }\n  \n  .volume > .progress:hover {\n    cursor: pointer;\n  }\n  \n  .volume > .progress > .progress_wrapper {\n    position: relative;\n    height: 0.25em;\n    width: 100%;\n    border-radius: 0.1em;\n  }\n  \n  .volume > .progress > .progress_wrapper > .progressbar_progress {\n    position: absolute;\n    width: 0%;\n    height: 100%;\n    background: #ffffff;\n    border-radius: 0.1em;\n    z-index: 2;\n  }\n  \n  .volume > .progress > .progress_wrapper > .progressbar_progress > .progressbar_dot {\n    position: relative;\n    display: inline-block;\n    top: -0.4em;\n    left: 90%;\n    margin: 0;\n    width: 1em;\n    height: 1em;\n    border-radius: 50%;\n    background: #ffffff;\n    opacity: 0;\n    cursor: pointer;\n  }\n  \n  .volume > .progress > .progress_wrapper > .progressbar_progress_background {\n    position: relative;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(255, 255, 255, 0.45);\n    border-radius: 0.1em;\n    z-index: 0;\n  }\n  \n  .seek {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    opacity: 0;\n    width: 100%;\n    margin: auto;\n    z-index: 3;\n  }\n  \n  :global(#vpcc-seek-tooltip) {\n    transform: translateX(-75%);\n  }\n  \n  .tooltip {\n    position: absolute;\n    bottom: 2em;\n    left: 0;\n    background: #333333;\n    border-radius: 0.2em;\n    min-width: 4.25em;\n    padding: 0.47em;\n    font-size: 1.2em;\n    opacity: 0;\n    text-align: center;\n    z-index: 5;\n  }\n  \n  /* .tooltip::after {\n    content: '';\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    margin-left: -0.5em;\n    border-width: 0.5em;\n    border-style: solid;\n    border-color: #333333 transparent transparent transparent;\n  } */\n  \n  .progress:hover > .progress_wrapper > .tooltip {\n    opacity: 0.95;\n    cursor: pointer;\n  }\n\n  .subtitle_popup {\n    /* display: grid; */\n    display: none;\n    grid-template-rows: repeat(1, 1fr);\n    grid-gap: 0em;\n    position: relative;\n    transform: translate(calc(-65% - .85em), calc(-100% - 1rem));\n    padding: 1.5em 0;\n    opacity: 0.95;\n    border-radius: 0.3em;\n    background: #262626;\n    transition: all 0.1s ease-in;\n    min-width: 18em;\n    min-height: 6em;\n    text-align: left;\n    z-index: 5;\n  }\n\n  .quality_popup {\n    /* display: grid; */\n    display: none;\n    grid-template-rows: repeat(1, 1fr);\n    grid-gap: 0em;\n    position: relative;\n    transform: translate(calc(-60% - 1em), calc(-100% - 1rem));\n    padding: 1.5em 0;\n    opacity: 0.95;\n    border-radius: 0.3em;\n    background: #262626;\n    transition: all 0.1s ease-in;\n    min-width: 16em;\n    min-height: 6em;\n    text-align: left;\n    z-index: 5;\n  }\n\n  /* .subtitle_popup::after,\n  .quality_popup::after {\n    content: '';\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    margin-left: -0.5em;\n    border-width: 0.5em;\n    border-style: solid;\n    border-color: #333333 transparent transparent transparent;\n  } */\n\n  .subtitle_list,\n  .quality_list {\n    color: #838586;\n    background: transparent;\n    padding: 0.8em 2.8em;\n    font-size: 1.2em;\n    height: 1em;\n  }\n\n  .subtitle_list:hover,\n  .quality_list:hover {\n    cursor: pointer;\n    color: rgba(255, 255, 255, 1);\n    background: #404040;\n  }\n  \n  .subtitle_list.active,\n  .quality_list.active {\n    color: rgba(255, 255, 255, 1);\n    /* background: rgba(255, 255, 255, 0.25); */\n  }\n  \n  .subtitle_title,\n  .quality_title {\n    color: #c1c2c2;\n    font-size: 1.4em;\n    font-weight: 600;\n    background: transparent;\n    padding: 0 2.25em 0.75em;\n    height: 1em;\n  }\n  \n  .subtitle_tick_wrapper,\n  .quality_tick_wrapper {\n    position: absolute;\n    left: 0.6em;\n  }\n  \n  .subtitle_tick_wrapper > div,\n  .quality_tick_wrapper > div {\n    width: 1em;\n    height: 1em;\n  }\n  \n  .live_text:hover {\n    cursor: pointer;\n  }\n  \n  .live_indicator {\n    position: relative;\n    height: 0.5em;\n    width: 0.5em;\n    background: rgba(255, 0, 0, 1);\n    border-radius: 50%;\n    margin: 0 0.4em;\n  }\n  \n  .live_indicator:hover {\n    cursor: pointer;\n  }\n  \n  .live_indicator_beckground {\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    border: 0.1em solid rgba(255, 0, 0, 1);\n    border-radius: 50%;\n    animation: fadeOutLive 0.8s ease-out infinite;\n  }\n  \n  @keyframes fadeOut {\n    from {\n      opacity: 1;\n      transform: scale(0);\n    }\n  \n    to {\n      opacity: 0;\n      transform: scale(1);\n    }\n  }\n  \n  @keyframes fadeOutLive {\n    from {\n      opacity: 1;\n      transform: scale(1);\n    }\n  \n    to {\n      opacity: 0;\n      transform: scale(2);\n    }\n  }\n  \n}"]);return i=function(){return t},t}function o(){var t=c(["{\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 9.2em;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: all 0.3s ease-in;\n  transform: translateY(25%);\n\n  &.hide {\n    transform: translateY(100%);\n  }\n\n  p {\n    font-size: 1.8em;\n    font-weight: 600;\n    line-height: 1.2;\n    white-space: pre;\n    margin-bottom: 1em;\n    padding: 0.5em;\n    background: rgba(0, 0, 0, 0.6);\n  }\n}"]);return o=function(){return t},t}function a(){var t=c(["{\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 101; /* greater than ad-root class */\n\n  button {\n    min-width: 5em;\n    min-height: 5em;\n    padding: 1rem;\n    background: rgba(0, 0, 0, 0.7);\n    color: white;\n    font-size: 1.8em;\n    font-weight: 600;\n    border: none;\n    outline: none;\n    border-radius: 50%;\n    animation: fadeOut 0.8s ease-out infinite;\n  }\n\n  button.square {\n    border-radius: 0;\n  }\n}"]);return a=function(){return t},t}function s(){var t=c(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  .slider {\n    -webkit-appearance: none !important;\n    width: 100% !important;\n    height: .2em !important;\n    background: rgba(255, 255, 255, 0.45) !important;\n    outline: none !important;\n    opacity: 0.7 !important;\n    -webkit-transition: .2s !important;\n    transition: opacity .2s !important;\n  }\n\n  .slider:hover {\n    opacity: 1 !important;\n  }\n\n  .slider::-webkit-slider-thumb {\n    -webkit-appearance: none !important;\n    appearance: none !important;\n    width: 1em !important;\n    height: 1em !important;\n    background: white !important;\n    border-radius: 50% !important;\n    border: 1px solid #d3d3d3 !important;\n    cursor: pointer !important;\n  }\n\n  .slider::-moz-range-thumb {\n    width: 1em !important;\n    height: 1em !important;\n    background: #4CAF50 !important;\n    background: white !important;\n    border-radius: 50% !important;\n    cursor: pointer;\n  }\n\n  slider::-webkit-slider-runnable-track,\n  slider::-moz-range-progress {\n    color: #13bba4;\n  }\n"]);return s=function(){return t},t}function u(){var t=c(["\n  position: relative;\n  display: inline-block;\n  width: 2.4em;\n  height: 2.4em;\n  margin: 0 0.4em;\n  transition: all 0.2s ease-in-out;\n  overflow: hidden;\n\n  > div.withTooltip {\n    transition: all 0.3s ease-in-out;\n    transform: translate(calc(-30%), calc(-100% - 1em));\n    bottom: auto;\n    left: auto;\n  }\n\n  &:hover {\n    overflow: visible;\n    cursor: pointer;\n\n    > div.withTooltip {\n      opacity: 0.95;\n    }\n  }\n\n  &.disabled:hover {\n    overflow: hidden;\n    cursor: not-allowed !important;\n    opacity: .4;\n\n    > div.withTooltip {\n      opacity: 0;\n    }\n  }\n\n  &.playIcon {\n    background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6I2MxYzJjMjt9LmJ7Y2xpcC1wYXRoOnVybCgjYSk7fTwvc3R5bGU+PGNsaXBQYXRoIGlkPSJhIj48cmVjdCBjbGFzcz0iYSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjc3IDUzNSkiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyBjbGFzcz0iYiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyNzcgLTUzNSkiPjxwYXRoIGNsYXNzPSJhIiBkPSJNMTEsNDA5LjkxMnYxMy4xNzZhLjk2Mi45NjIsMCwwLDAsMS40NTUuNzgxbDExLjU3OS02LjU4OGEuODg3Ljg4NywwLDAsMCwwLTEuNTYybC0xMS41NzktNi41ODhBLjk2Mi45NjIsMCwwLDAsMTEsNDA5LjkxMloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyNzEuNSAxMzAuNSkiLz48L2c+PC9zdmc+);\n    background-repeat: no-repeat;\n    background-size: contain;\n    vertical-align: middle;\n  }\n\n  &.playIcon:hover {\n    background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6I2ZmZjt9LmJ7Y2xpcC1wYXRoOnVybCgjYSk7fTwvc3R5bGU+PGNsaXBQYXRoIGlkPSJhIj48cmVjdCBjbGFzcz0iYSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjc3IDUzNSkiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyBjbGFzcz0iYiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyNzcgLTUzNSkiPjxwYXRoIGNsYXNzPSJhIiBkPSJNMTEsNDA5LjkxMnYxMy4xNzZhLjk2Mi45NjIsMCwwLDAsMS40NTUuNzgxbDExLjU3OS02LjU4OGEuODg3Ljg4NywwLDAsMCwwLTEuNTYybC0xMS41NzktNi41ODhBLjk2Mi45NjIsMCwwLDAsMTEsNDA5LjkxMloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyNzEuNSAxMzAuNSkiLz48L2c+PC9zdmc+);\n    background-repeat: no-repeat;\n    background-size: contain;\n    vertical-align: middle;\n  }\n\n  &.pauseIcon {\n    background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6I2MxYzJjMjt9LmJ7Y2xpcC1wYXRoOnVybCgjYSk7fTwvc3R5bGU+PGNsaXBQYXRoIGlkPSJhIj48cmVjdCBjbGFzcz0iYSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzMwIDE1NDUpIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xhc3M9ImIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzMwIC0xNTQ1KSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTMzNi41IDE1NDgpIj48cmVjdCBjbGFzcz0iYSIgd2lkdGg9IjQiIGhlaWdodD0iMTgiIHJ4PSIyIi8+PHJlY3QgY2xhc3M9ImEiIHdpZHRoPSI0IiBoZWlnaHQ9IjE4IiByeD0iMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNykiLz48L2c+PC9nPjwvc3ZnPg==);\n    background-repeat: no-repeat;\n    background-size: contain;\n    vertical-align: middle;\n  }\n\n  &.pauseIcon:hover {\n    background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6I2ZmZmZmZjt9LmJ7Y2xpcC1wYXRoOnVybCgjYSk7fTwvc3R5bGU+PGNsaXBQYXRoIGlkPSJhIj48cmVjdCBjbGFzcz0iYSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzMwIDE1NDUpIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xhc3M9ImIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzMwIC0xNTQ1KSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTMzNi41IDE1NDgpIj48cmVjdCBjbGFzcz0iYSIgd2lkdGg9IjQiIGhlaWdodD0iMTgiIHJ4PSIyIi8+PHJlY3QgY2xhc3M9ImEiIHdpZHRoPSI0IiBoZWlnaHQ9IjE4IiByeD0iMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNykiLz48L2c+PC9nPjwvc3ZnPg==);\n    background-repeat: no-repeat;\n    background-size: contain;\n    vertical-align: middle;\n  }\n\n  &.forwardIcon {\n    background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6I2MxYzJjMjt9LmJ7Y2xpcC1wYXRoOnVybCgjYSk7fTwvc3R5bGU+PGNsaXBQYXRoIGlkPSJhIj48cmVjdCBjbGFzcz0iYSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjUwIDUyMikiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyBjbGFzcz0iYiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyNTAgLTUyMikiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyNTQuNSA1MjUpIj48cGF0aCBjbGFzcz0iYSIgZD0iTTE0My43LDQxNC4zOTNhMSwxLDAsMCwwLTEuNjY5LS40MjRoMGEuOTkuOTksMCwwLDAtLjI1Ljk3OSw1LjUsNS41LDAsMSwxLTYuOTUtMy42OTRsLTEuMDM1LDEuMDRhMSwxLDAsMSwwLDEuNDEsMS40MWwyLjU2LTIuNTYuNDQtLjQ0YS45ODcuOTg3LDAsMCwwLDAtMS40MWwtLjEzLS4xMy0yLjg3LTIuODdhMSwxLDAsMSwwLTEuNDEsMS40MWwxLjQsMS40MWE3LjQ5NCw3LjQ5NCwwLDEsMCw4LjUsNS4yNzlaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTI5IC00MDUuOTk3KSIvPjxwYXRoIGNsYXNzPSJhIiBkPSJNMTQ5LjU4Niw0MTBsLTIuMjkzLDIuMjkzYTEsMSwwLDEsMCwxLjQxNCwxLjQxNGwzLTNhMSwxLDAsMCwwLDAtMS40MTRsLTMtM2ExLDEsMCwxLDAtMS40MTQsMS40MTRaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTM4IC00MDUuOTk5KSIvPjxwYXRoIGNsYXNzPSJhIiBkPSJNMTM5Ljc0Myw0MjguNjYydi00LjMzOGgtLjU4MmEuNTguNTgsMCwwLDEtLjEzNS4zMi43MTcuNzE3LDAsMCwxLS4zNDQuMiwyLjEsMi4xLDAsMCwxLS42LjA3MXYuNWguNzc1djMuMjQ5WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEzMy41NCAtNDE1LjE2MSkiLz48cGF0aCBjbGFzcz0iYSIgZD0iTTE0NC45LDQyNC4yYTEuNTI3LDEuNTI3LDAsMCwwLS44OTEuMjYsMS42NSwxLjY1LDAsMCwwLS41NzkuNzYsMy4yNDIsMy4yNDIsMCwwLDAtLjIsMS4yMjEsMi42NTYsMi42NTYsMCwwLDAsLjQ0MiwxLjY1LDEuNiwxLjYsMCwwLDAsMi40NTksMCwzLjMxMiwzLjMxMiwwLDAsMC0uMDA1LTMuMzEyQTEuNDYyLDEuNDYyLDAsMCwwLDE0NC45LDQyNC4yWm0uNTY3LDMuNGEuNi42LDAsMCwxLS41NjcuMzQ2LjYxMi42MTIsMCwwLDEtLjU3Ni0uMzQ4LDIuNjIzLDIuNjIzLDAsMCwxLS4xODYtMS4xNTgsMi43NTgsMi43NTgsMCwwLDEsLjE4OC0xLjE4OC42MDguNjA4LDAsMCwxLC41NzItLjM2My42LjYsMCwwLDEsLjU2Ny4zNiwyLjgxNSwyLjgxNSwwLDAsMSwuMTgzLDEuMTkxQTIuNywyLjcsMCwwLDEsMTQ1LjQ3LDQyNy42WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEzNi4xMTQgLTQxNS4xMDEpIi8+PC9nPjwvZz48L3N2Zz4=);\n    background-repeat: no-repeat;\n    background-size: contain;\n    vertical-align: middle;\n\n    > div.withTooltip {\n      width: 6.25em;\n    }\n  }\n\n  &.forwardIcon:hover {\n    background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6I2ZmZjt9LmJ7Y2xpcC1wYXRoOnVybCgjYSk7fTwvc3R5bGU+PGNsaXBQYXRoIGlkPSJhIj48cmVjdCBjbGFzcz0iYSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjUwIDUyMikiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyBjbGFzcz0iYiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyNTAgLTUyMikiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyNTQuNSA1MjUpIj48cGF0aCBjbGFzcz0iYSIgZD0iTTE0My43LDQxNC4zOTNhMSwxLDAsMCwwLTEuNjY5LS40MjRoMGEuOTkuOTksMCwwLDAtLjI1Ljk3OSw1LjUsNS41LDAsMSwxLTYuOTUtMy42OTRsLTEuMDM1LDEuMDRhMSwxLDAsMSwwLDEuNDEsMS40MWwyLjU2LTIuNTYuNDQtLjQ0YS45ODcuOTg3LDAsMCwwLDAtMS40MWwtLjEzLS4xMy0yLjg3LTIuODdhMSwxLDAsMSwwLTEuNDEsMS40MWwxLjQsMS40MWE3LjQ5NCw3LjQ5NCwwLDEsMCw4LjUsNS4yNzlaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTI5IC00MDUuOTk3KSIvPjxwYXRoIGNsYXNzPSJhIiBkPSJNMTQ5LjU4Niw0MTBsLTIuMjkzLDIuMjkzYTEsMSwwLDEsMCwxLjQxNCwxLjQxNGwzLTNhMSwxLDAsMCwwLDAtMS40MTRsLTMtM2ExLDEsMCwxLDAtMS40MTQsMS40MTRaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTM4IC00MDUuOTk5KSIvPjxwYXRoIGNsYXNzPSJhIiBkPSJNMTM5Ljc0Myw0MjguNjYydi00LjMzOGgtLjU4MmEuNTguNTgsMCwwLDEtLjEzNS4zMi43MTcuNzE3LDAsMCwxLS4zNDQuMiwyLjEsMi4xLDAsMCwxLS42LjA3MXYuNWguNzc1djMuMjQ5WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEzMy41NCAtNDE1LjE2MSkiLz48cGF0aCBjbGFzcz0iYSIgZD0iTTE0NC45LDQyNC4yYTEuNTI3LDEuNTI3LDAsMCwwLS44OTEuMjYsMS42NSwxLjY1LDAsMCwwLS41NzkuNzYsMy4yNDIsMy4yNDIsMCwwLDAtLjIsMS4yMjEsMi42NTYsMi42NTYsMCwwLDAsLjQ0MiwxLjY1LDEuNiwxLjYsMCwwLDAsMi40NTksMCwzLjMxMiwzLjMxMiwwLDAsMC0uMDA1LTMuMzEyQTEuNDYyLDEuNDYyLDAsMCwwLDE0NC45LDQyNC4yWm0uNTY3LDMuNGEuNi42LDAsMCwxLS41NjcuMzQ2LjYxMi42MTIsMCwwLDEtLjU3Ni0uMzQ4LDIuNjIzLDIuNjIzLDAsMCwxLS4xODYtMS4xNTgsMi43NTgsMi43NTgsMCwwLDEsLjE4OC0xLjE4OC42MDguNjA4LDAsMCwxLC41NzItLjM2My42LjYsMCwwLDEsLjU2Ny4zNiwyLjgxNSwyLjgxNSwwLDAsMSwuMTgzLDEuMTkxQTIuNywyLjcsMCwwLDEsMTQ1LjQ3LDQyNy42WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEzNi4xMTQgLTQxNS4xMDEpIi8+PC9nPjwvZz48L3N2Zz4=);\n    background-repeat: no-repeat;\n    background-size: contain;\n    vertical-align: middle;\n  }\n\n  &.backwardIcon {\n    background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6I2MxYzJjMjt9LmJ7Y2xpcC1wYXRoOnVybCgjYSk7fTwvc3R5bGU+PGNsaXBQYXRoIGlkPSJhIj48cmVjdCBjbGFzcz0iYSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMDI1IDk1MikiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyBjbGFzcz0iYiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIwMjUgLTk1MikiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIwMjkuNSA5NTQuOTk5KSI+PHBhdGggY2xhc3M9ImEiIGQ9Ik0xOTcuOCw0MDkuMTE0bDEuNC0xLjQxYTEsMSwwLDEsMC0xLjQxLTEuNDFsLTIuODcsMi44Ny0uMTMuMTNhLjk4Ny45ODcsMCwwLDAsMCwxLjQxbC40NC40NCwyLjU2LDIuNTZhMSwxLDAsMCwwLDEuNDEtMS40MWwtMS4wMzUtMS4wNGE1LjUsNS41LDAsMSwxLTYuOTQ5LDMuNjk0Ljk5Ljk5LDAsMCwwLS4yNS0uOTc5aDBhMSwxLDAsMCwwLTEuNjcuNDI0LDcuNSw3LjUsMCwwLDAsNy41NTQsOS42LDcuNSw3LjUsMCwwLDAsLjk0Ni0xNC44NzdaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTg5IC00MDUuOTk3KSIvPjxwYXRoIGNsYXNzPSJhIiBkPSJNMTk0LjI5Myw0MTMuNzA3YTEsMSwwLDAsMCwxLjQxNC0xLjQxNEwxOTMuNDE0LDQxMGwyLjI5My0yLjI5M2ExLDEsMCwwLDAtMS40MTQtMS40MTRsLTMsM2ExLDEsMCwwLDAsMCwxLjQxNFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xOTAgLTQwNS45OTkpIi8+PHBhdGggY2xhc3M9ImEiIGQ9Ik0xOTkuNzQzLDQyOC42NjJ2LTQuMzM4aC0uNTgyYS41OC41OCwwLDAsMS0uMTM1LjMyLjcxNi43MTYsMCwwLDEtLjM0NC4yLDIuMSwyLjEsMCwwLDEtLjYuMDcxdi41aC43NzV2My4yNDlaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTkzLjU0MSAtNDE1LjE2MSkiLz48cGF0aCBjbGFzcz0iYSIgZD0iTTIwNC45LDQyOC42NjhhMS40NTksMS40NTksMCwwLDAsMS4yMjctLjU3NCwzLjMxMiwzLjMxMiwwLDAsMC0uMDA1LTMuMzEyLDEuNDYyLDEuNDYyLDAsMCwwLTEuMjIyLS41NzgsMS41MjcsMS41MjcsMCwwLDAtLjg5MS4yNiwxLjY1LDEuNjUsMCwwLDAtLjU3OS43NiwzLjI0MiwzLjI0MiwwLDAsMC0uMiwxLjIyMSwyLjY1NiwyLjY1NiwwLDAsMCwuNDQyLDEuNjVBMS40NjgsMS40NjgsMCwwLDAsMjA0LjksNDI4LjY2OFptLS41NzQtMy40MTFhLjYwOC42MDgsMCwwLDEsLjU3Mi0uMzYzLjYuNiwwLDAsMSwuNTY3LjM2LDIuODE1LDIuODE1LDAsMCwxLC4xODMsMS4xOTEsMi43LDIuNywwLDAsMS0uMTgsMS4xNi42LjYsMCwwLDEtLjU2Ny4zNDYuNjEyLjYxMiwwLDAsMS0uNTc2LS4zNDgsMi42MjMsMi42MjMsMCwwLDEtLjE4Ni0xLjE1OEEyLjc1OCwyLjc1OCwwLDAsMSwyMDQuMzI5LDQyNS4yNTdaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTk2LjExNSAtNDE1LjEwMSkiLz48L2c+PC9nPjwvc3ZnPg==);\n    background-repeat: no-repeat;\n    background-size: contain;\n    vertical-align: middle;\n\n    > div.withTooltip {\n      width: 7.25em;\n    }\n  }\n\n  &.backwardIcon:hover {\n    background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6I2ZmZjt9LmJ7Y2xpcC1wYXRoOnVybCgjYSk7fTwvc3R5bGU+PGNsaXBQYXRoIGlkPSJhIj48cmVjdCBjbGFzcz0iYSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMDI1IDk1MikiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyBjbGFzcz0iYiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIwMjUgLTk1MikiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIwMjkuNSA5NTQuOTk5KSI+PHBhdGggY2xhc3M9ImEiIGQ9Ik0xOTcuOCw0MDkuMTE0bDEuNC0xLjQxYTEsMSwwLDEsMC0xLjQxLTEuNDFsLTIuODcsMi44Ny0uMTMuMTNhLjk4Ny45ODcsMCwwLDAsMCwxLjQxbC40NC40NCwyLjU2LDIuNTZhMSwxLDAsMCwwLDEuNDEtMS40MWwtMS4wMzUtMS4wNGE1LjUsNS41LDAsMSwxLTYuOTQ5LDMuNjk0Ljk5Ljk5LDAsMCwwLS4yNS0uOTc5aDBhMSwxLDAsMCwwLTEuNjcuNDI0LDcuNSw3LjUsMCwwLDAsNy41NTQsOS42LDcuNSw3LjUsMCwwLDAsLjk0Ni0xNC44NzdaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTg5IC00MDUuOTk3KSIvPjxwYXRoIGNsYXNzPSJhIiBkPSJNMTk0LjI5Myw0MTMuNzA3YTEsMSwwLDAsMCwxLjQxNC0xLjQxNEwxOTMuNDE0LDQxMGwyLjI5My0yLjI5M2ExLDEsMCwwLDAtMS40MTQtMS40MTRsLTMsM2ExLDEsMCwwLDAsMCwxLjQxNFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xOTAgLTQwNS45OTkpIi8+PHBhdGggY2xhc3M9ImEiIGQ9Ik0xOTkuNzQzLDQyOC42NjJ2LTQuMzM4aC0uNTgyYS41OC41OCwwLDAsMS0uMTM1LjMyLjcxNi43MTYsMCwwLDEtLjM0NC4yLDIuMSwyLjEsMCwwLDEtLjYuMDcxdi41aC43NzV2My4yNDlaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTkzLjU0MSAtNDE1LjE2MSkiLz48cGF0aCBjbGFzcz0iYSIgZD0iTTIwNC45LDQyOC42NjhhMS40NTksMS40NTksMCwwLDAsMS4yMjctLjU3NCwzLjMxMiwzLjMxMiwwLDAsMC0uMDA1LTMuMzEyLDEuNDYyLDEuNDYyLDAsMCwwLTEuMjIyLS41NzgsMS41MjcsMS41MjcsMCwwLDAtLjg5MS4yNiwxLjY1LDEuNjUsMCwwLDAtLjU3OS43NiwzLjI0MiwzLjI0MiwwLDAsMC0uMiwxLjIyMSwyLjY1NiwyLjY1NiwwLDAsMCwuNDQyLDEuNjVBMS40NjgsMS40NjgsMCwwLDAsMjA0LjksNDI4LjY2OFptLS41NzQtMy40MTFhLjYwOC42MDgsMCwwLDEsLjU3Mi0uMzYzLjYuNiwwLDAsMSwuNTY3LjM2LDIuODE1LDIuODE1LDAsMCwxLC4xODMsMS4xOTEsMi43LDIuNywwLDAsMS0uMTgsMS4xNi42LjYsMCwwLDEtLjU2Ny4zNDYuNjEyLjYxMiwwLDAsMS0uNTc2LS4zNDgsMi42MjMsMi42MjMsMCwwLDEtLjE4Ni0xLjE1OEEyLjc1OCwyLjc1OCwwLDAsMSwyMDQuMzI5LDQyNS4yNTdaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTk2LjExNSAtNDE1LjEwMSkiLz48L2c+PC9nPjwvc3ZnPg==);\n    background-repeat: no-repeat;\n    background-size: contain;\n    vertical-align: middle;\n  }\n\n  &.upcommingIcon {\n    background: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxOCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMy41IDhMMCAwVjE2TDEzLjUgOFpNMTggMEgxNVYxNkgxOFYwWiIgZmlsbD0iI0MxQzJDMiIvPgo8L3N2Zz4K);\n    background-repeat: no-repeat;\n    background-size: contain;\n    vertical-align: middle;\n    width: 1.8em;\n    height: 1.6em;\n\n    > div.withTooltip {\n      width: 10em;\n      transform: translate(calc(-40% - 0.2em), calc(-100% - 1.25em));\n    }\n  }\n\n  &.upcommingIcon:hover {\n    background: url(data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxOCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTMuNSA4TDAgMFYxNkwxMy41IDhaTTE4IDBIMTVWMTZIMThWMFoiIGZpbGw9IiNGRkZGRkYiLz4NCjwvc3ZnPg==);\n    background-repeat: no-repeat;\n    background-size: contain;\n    vertical-align: middle;\n  }\n\n  &.muteIcon {\n    background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6I2MxYzJjMjt9LmJ7Y2xpcC1wYXRoOnVybCgjYSk7fTwvc3R5bGU+PGNsaXBQYXRoIGlkPSJhIj48cmVjdCBjbGFzcz0iYSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzY4IDYwNikiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyBjbGFzcz0iYiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEzNjggLTYwNikiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzEuNDI5IDYwOS40MjkpIj48cGF0aCBjbGFzcz0iYSIgZD0iTTI2NC41MTUsNDA2LjAyOGEuNS41LDAsMCwwLS41MTUuNXYxLjAwNmEuNS41LDAsMCwwLC40NzkuNSw3LDcsMCwwLDEsMCwxMy45NjguNS41LDAsMCwwLS40NzkuNVY0MjMuNWEuNS41LDAsMCwwLC41MTUuNSw5LDksMCwwLDAsMC0xNy45NzFaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjU1IC00MDYuMDI3KSIvPjxwYXRoIGNsYXNzPSJhIiBkPSJNMjQ4LjMzNCw0MTNIMjQ3YTEsMSwwLDAsMC0xLDF2NmExLDEsMCwwLDAsMSwxaDEuMzMzYTIsMiwwLDAsMSwxLjIuNEwyNTMsNDI0VjQxMGwtMy40NjcsMi42QTIsMiwwLDAsMSwyNDguMzM0LDQxM1oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNDYgLTQwOC4wMTQpIi8+PHBhdGggY2xhc3M9ImEiIGQ9Ik0yNjQuNTY5LDQyNGE0LDQsMCwwLDAsMC03LjkyLjUuNSwwLDAsMC0uNTY5LjVWNDIzLjVBLjUuNSwwLDAsMCwyNjQuNTY5LDQyNFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNTUgLTQxMS4wNDkpIi8+PC9nPjwvZz48L3N2Zz4=);\n    background-repeat: no-repeat;\n    background-size: contain;\n    vertical-align: middle;\n  }\n\n  &.muteIcon:hover {\n    background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6I2ZmZjt9LmJ7Y2xpcC1wYXRoOnVybCgjYSk7fTwvc3R5bGU+PGNsaXBQYXRoIGlkPSJhIj48cmVjdCBjbGFzcz0iYSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzY4IDYwNikiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyBjbGFzcz0iYiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEzNjggLTYwNikiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzEuNDI5IDYwOS40MjkpIj48cGF0aCBjbGFzcz0iYSIgZD0iTTI2NC41MTUsNDA2LjAyOGEuNS41LDAsMCwwLS41MTUuNXYxLjAwNmEuNS41LDAsMCwwLC40NzkuNSw3LDcsMCwwLDEsMCwxMy45NjguNS41LDAsMCwwLS40NzkuNVY0MjMuNWEuNS41LDAsMCwwLC41MTUuNSw5LDksMCwwLDAsMC0xNy45NzFaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjU1IC00MDYuMDI3KSIvPjxwYXRoIGNsYXNzPSJhIiBkPSJNMjQ4LjMzNCw0MTNIMjQ3YTEsMSwwLDAsMC0xLDF2NmExLDEsMCwwLDAsMSwxaDEuMzMzYTIsMiwwLDAsMSwxLjIuNEwyNTMsNDI0VjQxMGwtMy40NjcsMi42QTIsMiwwLDAsMSwyNDguMzM0LDQxM1oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNDYgLTQwOC4wMTQpIi8+PHBhdGggY2xhc3M9ImEiIGQ9Ik0yNjQuNTY5LDQyNGE0LDQsMCwwLDAsMC03LjkyLjUuNSwwLDAsMC0uNTY5LjVWNDIzLjVBLjUuNSwwLDAsMCwyNjQuNTY5LDQyNFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNTUgLTQxMS4wNDkpIi8+PC9nPjwvZz48L3N2Zz4=);\n    background-repeat: no-repeat;\n    background-size: contain;\n    vertical-align: middle;\n  }\n\n  &.mutedIcon {\n    background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6I2MxYzJjMjt9LmJ7Y2xpcC1wYXRoOnVybCgjYSk7fTwvc3R5bGU+PGNsaXBQYXRoIGlkPSJhIj48cmVjdCBjbGFzcz0iYSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjYyIDEzNjApIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xhc3M9ImIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMjYyIC0xMzYwKSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTI2NSAxMzYzKSI+PHBhdGggY2xhc3M9ImEiIGQ9Ik0yNCwyMi45MTRWMjNhMSwxLDAsMCwxLTEsMWgtLjA4NmExLDEsMCwwLDEtLjcwNy0uMjkzTDYuMjkzLDcuNzkzQTEsMSwwLDAsMSw2LDcuMDg2VjdBMSwxLDAsMCwxLDcsNmguMDg2YTEsMSwwLDAsMSwuNzA3LjI5M0wyMy43MDcsMjIuMjA3QTEsMSwwLDAsMSwyNCwyMi45MTRaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNiAtNikiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDAuMDE0KSI+PHBhdGggY2xhc3M9ImEiIGQ9Ik0yNi44LDM2Ljg0bDEuNDksMS40OWE4LjksOC45LDAsMCwxLTMuNzcsMS4wNzVBLjUuNSwwLDAsMSwyNCwzOC45di0xYS41LjUsMCwwLDEsLjQ4LS41QTYuOTkzLDYuOTkzLDAsMCwwLDI2LjgsMzYuODRaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTUgLTIxLjQzNCkiLz48cGF0aCBjbGFzcz0iYSIgZD0iTTMzLDE1LjAxNEE4LjksOC45LDAsMCwxLDMxLjkxLDE5LjNsLTEuNDktMS40OWE3LjAwNiw3LjAwNiwwLDAsMC01Ljk0LTkuNzguNS41LDAsMCwxLS40OC0uNXYtMWEuNS41LDAsMCwxLC41MTUtLjVBOSw5LDAsMCwxLDMzLDE1LjAxNFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNSAtNi4wMjkpIi8+PHBhdGggY2xhc3M9ImEiIGQ9Ik0xOS4yMTUsMTB2MS4zNzVsLS43ODUtLjc4NVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMi4yMTUgLTguMDE0KSIvPjxwYXRoIGNsYXNzPSJhIiBkPSJNMTMsMjEuNjI1VjI3TDkuNTM1LDI0LjRhMi4wMTIsMi4wMTIsMCwwLDAtMS4yLS40SDdhMSwxLDAsMCwxLTEtMVYxN2ExLDEsMCwwLDEsMS0xaC4zNzVaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNiAtMTEuMDE0KSIvPjxwYXRoIGNsYXNzPSJhIiBkPSJNMjguMDI1LDIwLjAzNHEwLC4xOC0uMDE1LjM2bC0zLjk2LTMuOTZhLjQ4OC40ODgsMCwwLDEsLjU0NS0uMzZBNCw0LDAsMCwxLDI4LjAyNSwyMC4wMzRaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTUuMDI1IC0xMS4wNDgpIi8+PC9nPjwvZz48L2c+PC9zdmc+);\n    background-repeat: no-repeat;\n    background-size: contain;\n    vertical-align: middle;\n\n    > div.withTooltip {\n      width: 6em;\n    }\n  }\n\n  &.mutedIcon:hover {\n    background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6I2ZmZjt9LmJ7Y2xpcC1wYXRoOnVybCgjYSk7fTwvc3R5bGU+PGNsaXBQYXRoIGlkPSJhIj48cmVjdCBjbGFzcz0iYSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjYyIDEzNjApIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xhc3M9ImIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMjYyIC0xMzYwKSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTI2NSAxMzYzKSI+PHBhdGggY2xhc3M9ImEiIGQ9Ik0yNCwyMi45MTRWMjNhMSwxLDAsMCwxLTEsMWgtLjA4NmExLDEsMCwwLDEtLjcwNy0uMjkzTDYuMjkzLDcuNzkzQTEsMSwwLDAsMSw2LDcuMDg2VjdBMSwxLDAsMCwxLDcsNmguMDg2YTEsMSwwLDAsMSwuNzA3LjI5M0wyMy43MDcsMjIuMjA3QTEsMSwwLDAsMSwyNCwyMi45MTRaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNiAtNikiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDAuMDE0KSI+PHBhdGggY2xhc3M9ImEiIGQ9Ik0yNi44LDM2Ljg0bDEuNDksMS40OWE4LjksOC45LDAsMCwxLTMuNzcsMS4wNzVBLjUuNSwwLDAsMSwyNCwzOC45di0xYS41LjUsMCwwLDEsLjQ4LS41QTYuOTkzLDYuOTkzLDAsMCwwLDI2LjgsMzYuODRaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTUgLTIxLjQzNCkiLz48cGF0aCBjbGFzcz0iYSIgZD0iTTMzLDE1LjAxNEE4LjksOC45LDAsMCwxLDMxLjkxLDE5LjNsLTEuNDktMS40OWE3LjAwNiw3LjAwNiwwLDAsMC01Ljk0LTkuNzguNS41LDAsMCwxLS40OC0uNXYtMWEuNS41LDAsMCwxLC41MTUtLjVBOSw5LDAsMCwxLDMzLDE1LjAxNFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNSAtNi4wMjkpIi8+PHBhdGggY2xhc3M9ImEiIGQ9Ik0xOS4yMTUsMTB2MS4zNzVsLS43ODUtLjc4NVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMi4yMTUgLTguMDE0KSIvPjxwYXRoIGNsYXNzPSJhIiBkPSJNMTMsMjEuNjI1VjI3TDkuNTM1LDI0LjRhMi4wMTIsMi4wMTIsMCwwLDAtMS4yLS40SDdhMSwxLDAsMCwxLTEtMVYxN2ExLDEsMCwwLDEsMS0xaC4zNzVaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNiAtMTEuMDE0KSIvPjxwYXRoIGNsYXNzPSJhIiBkPSJNMjguMDI1LDIwLjAzNHEwLC4xOC0uMDE1LjM2bC0zLjk2LTMuOTZhLjQ4OC40ODgsMCwwLDEsLjU0NS0uMzZBNCw0LDAsMCwxLDI4LjAyNSwyMC4wMzRaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTUuMDI1IC0xMS4wNDgpIi8+PC9nPjwvZz48L2c+PC9zdmc+);\n    background-repeat: no-repeat;\n    background-size: contain;\n    vertical-align: middle;\n  }\n\n  &.gearIcon {\n    background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6I2MxYzJjMjt9LmJ7Y2xpcC1wYXRoOnVybCgjYSk7fTwvc3R5bGU+PGNsaXBQYXRoIGlkPSJhIj48cmVjdCBjbGFzcz0iYSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMTM4IDgxMikiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyBjbGFzcz0iYiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIxMzggLTgxMikiPjxwYXRoIGNsYXNzPSJhIiBkPSJNNjg0LDQxNi43MzJ2LTEuNDYzYS44ODkuODg5LDAsMCwwLS41NTktLjgyNmwtMS4wMjgtLjQxMWEuODg5Ljg4OSwwLDAsMS0uNDg3LTEuMTc1bC40MzYtMS4wMThhLjg4OC44ODgsMCwwLDAtLjE4OC0uOTc4bC0xLjAzNC0xLjAzNWEuODg4Ljg4OCwwLDAsMC0uOTc5LS4xODhsLTEuMDE4LjQzNmEuODg5Ljg4OSwwLDAsMS0xLjE3NS0uNDg3bC0uNDExLTEuMDI3YS44ODkuODg5LDAsMCwwLS44MjYtLjU1OWgtMS40NjNhLjg4OS44ODksMCwwLDAtLjgyNi41NTlsLS40MTEsMS4wMjdhLjg4OS44ODksMCwwLDEtMS4xNzUuNDg3bC0xLjAxOC0uNDM2YS44ODguODg4LDAsMCwwLS45NzkuMTg4bC0xLjAzNCwxLjAzNWEuODg4Ljg4OCwwLDAsMC0uMTg4Ljk3OGwuNDM2LDEuMDE4YS44ODkuODg5LDAsMCwxLS40ODcsMS4xNzVsLTEuMDI4LjQxMWEuODg5Ljg4OSwwLDAsMC0uNTU5LjgyNnYxLjQ2M2EuODg5Ljg4OSwwLDAsMCwuNTU5LjgyNmwxLjAyOC40MTFhLjg4OS44ODksMCwwLDEsLjQ4NywxLjE3NWwtLjQzNiwxLjAxOGEuODg4Ljg4OCwwLDAsMCwuMTg4Ljk3OGwxLjAzNCwxLjAzNWEuODg4Ljg4OCwwLDAsMCwuOTc5LjE4OGwxLjAxOC0uNDM2YS44ODkuODg5LDAsMCwxLDEuMTc1LjQ4N2wuNDExLDEuMDI3YS44ODkuODg5LDAsMCwwLC44MjYuNTU5aDEuNDYzYS44ODkuODg5LDAsMCwwLC44MjYtLjU1OWwuNDExLTEuMDI3YS44ODkuODg5LDAsMCwxLDEuMTc1LS40ODdsMS4wMTguNDM2YS44ODguODg4LDAsMCwwLC45NzktLjE4OGwxLjAzNC0xLjAzNWEuODg4Ljg4OCwwLDAsMCwuMTg4LS45NzhsLS40MzYtMS4wMThhLjg4OS44ODksMCwwLDEsLjQ4Ny0xLjE3NWwxLjAyOC0uNDExQS44ODkuODg5LDAsMCwwLDY4NCw0MTYuNzMyWk02NzYsNDIwYTQsNCwwLDEsMSw0LTRBNCw0LDAsMCwxLDY3Niw0MjBaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDc0IDQwOCkiLz48L2c+PC9zdmc+);\n    background-repeat: no-repeat;\n    background-size: contain;\n    vertical-align: middle;\n    overflow: visible;\n  }\n\n  &.gearIcon:hover {\n    background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6I2ZmZjt9LmJ7Y2xpcC1wYXRoOnVybCgjYSk7fTwvc3R5bGU+PGNsaXBQYXRoIGlkPSJhIj48cmVjdCBjbGFzcz0iYSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMTM4IDgxMikiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyBjbGFzcz0iYiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIxMzggLTgxMikiPjxwYXRoIGNsYXNzPSJhIiBkPSJNNjg0LDQxNi43MzJ2LTEuNDYzYS44ODkuODg5LDAsMCwwLS41NTktLjgyNmwtMS4wMjgtLjQxMWEuODg5Ljg4OSwwLDAsMS0uNDg3LTEuMTc1bC40MzYtMS4wMThhLjg4OC44ODgsMCwwLDAtLjE4OC0uOTc4bC0xLjAzNC0xLjAzNWEuODg4Ljg4OCwwLDAsMC0uOTc5LS4xODhsLTEuMDE4LjQzNmEuODg5Ljg4OSwwLDAsMS0xLjE3NS0uNDg3bC0uNDExLTEuMDI3YS44ODkuODg5LDAsMCwwLS44MjYtLjU1OWgtMS40NjNhLjg4OS44ODksMCwwLDAtLjgyNi41NTlsLS40MTEsMS4wMjdhLjg4OS44ODksMCwwLDEtMS4xNzUuNDg3bC0xLjAxOC0uNDM2YS44ODguODg4LDAsMCwwLS45NzkuMTg4bC0xLjAzNCwxLjAzNWEuODg4Ljg4OCwwLDAsMC0uMTg4Ljk3OGwuNDM2LDEuMDE4YS44ODkuODg5LDAsMCwxLS40ODcsMS4xNzVsLTEuMDI4LjQxMWEuODg5Ljg4OSwwLDAsMC0uNTU5LjgyNnYxLjQ2M2EuODg5Ljg4OSwwLDAsMCwuNTU5LjgyNmwxLjAyOC40MTFhLjg4OS44ODksMCwwLDEsLjQ4NywxLjE3NWwtLjQzNiwxLjAxOGEuODg4Ljg4OCwwLDAsMCwuMTg4Ljk3OGwxLjAzNCwxLjAzNWEuODg4Ljg4OCwwLDAsMCwuOTc5LjE4OGwxLjAxOC0uNDM2YS44ODkuODg5LDAsMCwxLDEuMTc1LjQ4N2wuNDExLDEuMDI3YS44ODkuODg5LDAsMCwwLC44MjYuNTU5aDEuNDYzYS44ODkuODg5LDAsMCwwLC44MjYtLjU1OWwuNDExLTEuMDI3YS44ODkuODg5LDAsMCwxLDEuMTc1LS40ODdsMS4wMTguNDM2YS44ODguODg4LDAsMCwwLC45NzktLjE4OGwxLjAzNC0xLjAzNWEuODg4Ljg4OCwwLDAsMCwuMTg4LS45NzhsLS40MzYtMS4wMThhLjg4OS44ODksMCwwLDEsLjQ4Ny0xLjE3NWwxLjAyOC0uNDExQS44ODkuODg5LDAsMCwwLDY4NCw0MTYuNzMyWk02NzYsNDIwYTQsNCwwLDEsMSw0LTRBNCw0LDAsMCwxLDY3Niw0MjBaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDc0IDQwOCkiLz48L2c+PC9zdmc+);\n    background-repeat: no-repeat;\n    background-size: contain;\n    vertical-align: middle;\n    overflow: visible;\n  }\n\n  &.chatIcon {\n    background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6I2MxYzJjMjt9LmJ7Y2xpcC1wYXRoOnVybCgjYSk7fTwvc3R5bGU+PGNsaXBQYXRoIGlkPSJhIj48cmVjdCBjbGFzcz0iYSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMTU1IDgwMikiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyBjbGFzcz0iYiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIxNTUgLTgwMikiPjxwYXRoIGNsYXNzPSJhIiBkPSJNNjIzLDQwOEg2MDdhMSwxLDAsMCwwLTEsMXYxMWExLDEsMCwwLDAsMSwxaDhhLjUuNSwwLDAsMSwuNS41VjQyNGw1LjI3Ni0yLjg3OGExLDEsMCwwLDEsLjQ3OS0uMTIySDYyM2ExLDEsMCwwLDAsMS0xVjQwOUExLDEsMCwwLDAsNjIzLDQwOFptLTcsOS41aC03di0yaDdabTUtNC41SDYwOXYtMmgxMloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1NTIgMzk4KSIvPjwvZz48L3N2Zz4=);\n    background-repeat: no-repeat;\n    background-size: contain;\n    vertical-align: middle;\n    overflow: visible;\n  }\n\n  &.chatIcon:hover {\n    background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6I2ZmZjt9LmJ7Y2xpcC1wYXRoOnVybCgjYSk7fTwvc3R5bGU+PGNsaXBQYXRoIGlkPSJhIj48cmVjdCBjbGFzcz0iYSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMTU1IDgwMikiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyBjbGFzcz0iYiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIxNTUgLTgwMikiPjxwYXRoIGNsYXNzPSJhIiBkPSJNNjIzLDQwOEg2MDdhMSwxLDAsMCwwLTEsMXYxMWExLDEsMCwwLDAsMSwxaDhhLjUuNSwwLDAsMSwuNS41VjQyNGw1LjI3Ni0yLjg3OGExLDEsMCwwLDEsLjQ3OS0uMTIySDYyM2ExLDEsMCwwLDAsMS0xVjQwOUExLDEsMCwwLDAsNjIzLDQwOFptLTcsOS41aC03di0yaDdabTUtNC41SDYwOXYtMmgxMloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1NTIgMzk4KSIvPjwvZz48L3N2Zz4=);\n    background-repeat: no-repeat;\n    background-size: contain;\n    vertical-align: middle;\n    overflow: visible;\n  }\n\n  &.enterFullscreenIcon {\n    background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PGRlZnM+PHN0eWxlPi5hLC5je2ZpbGw6I2MxYzJjMjt9LmF7c3Ryb2tlOiM3MDcwNzA7fS5ie2NsaXAtcGF0aDp1cmwoI2EpO308L3N0eWxlPjxjbGlwUGF0aCBpZD0iYSI+PHJlY3QgY2xhc3M9ImEiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjM2NiA3NjkpIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xhc3M9ImIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMzY2IC03NjkpIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMzY5IDc3MykiPjxwYXRoIGNsYXNzPSJjIiBkPSJNNDg2LDQwOHY1LjVoMlY0MTBoNXYtMmgtN1oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00ODYgLTQwOCkiLz48cGF0aCBjbGFzcz0iYyIgZD0iTTUxMyw0MDhoLTV2Mmg1djMuNWgyVjQwOFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00OTcgLTQwOCkiLz48cGF0aCBjbGFzcz0iYyIgZD0iTTUxMyw0MzIuNWgtNXYyaDdWNDI5aC0yWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQ5NyAtNDE4LjUpIi8+PHBhdGggY2xhc3M9ImMiIGQ9Ik00ODgsNDI5aC0ydjUuNWg3di0yaC01WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQ4NiAtNDE4LjUpIi8+PC9nPjwvZz48L3N2Zz4=);\n    background-repeat: no-repeat;\n    background-size: contain;\n    vertical-align: middle;\n\n    > div.withTooltip {\n      width: 9.5em;\n      transform: translate(calc(-65% - 0.2em), calc(-100% - 1em));\n    }\n  }\n\n  &.enterFullscreenIcon:hover {\n    background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PGRlZnM+PHN0eWxlPi5hLC5je2ZpbGw6I2ZmZjt9LmF7c3Ryb2tlOiM3MDcwNzA7fS5ie2NsaXAtcGF0aDp1cmwoI2EpO308L3N0eWxlPjxjbGlwUGF0aCBpZD0iYSI+PHJlY3QgY2xhc3M9ImEiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjM2NiA3NjkpIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xhc3M9ImIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMzY2IC03NjkpIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMzY5IDc3MykiPjxwYXRoIGNsYXNzPSJjIiBkPSJNNDg2LDQwOHY1LjVoMlY0MTBoNXYtMmgtN1oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00ODYgLTQwOCkiLz48cGF0aCBjbGFzcz0iYyIgZD0iTTUxMyw0MDhoLTV2Mmg1djMuNWgyVjQwOFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00OTcgLTQwOCkiLz48cGF0aCBjbGFzcz0iYyIgZD0iTTUxMyw0MzIuNWgtNXYyaDdWNDI5aC0yWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQ5NyAtNDE4LjUpIi8+PHBhdGggY2xhc3M9ImMiIGQ9Ik00ODgsNDI5aC0ydjUuNWg3di0yaC01WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQ4NiAtNDE4LjUpIi8+PC9nPjwvZz48L3N2Zz4=);\n    background-repeat: no-repeat;\n    background-size: contain;\n    vertical-align: middle;\n  }\n\n  &.exitFullscreenIcon {\n    background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6I2MxYzJjMjt9LmJ7Y2xpcC1wYXRoOnVybCgjYSk7fTwvc3R5bGU+PGNsaXBQYXRoIGlkPSJhIj48cmVjdCBjbGFzcz0iYSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNjc1IDMyNTMpIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xhc3M9ImIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNjc1IC0zMjUzKSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjY3OCAzMjU3KSI+PHBhdGggY2xhc3M9ImEiIGQ9Ik01NTMsNDEzLjVWNDA4aC0ydjMuNWgtNXYyaDdaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTQ2IC00MDgpIi8+PHBhdGggY2xhc3M9ImEiIGQ9Ik01NzAsNDEzLjVoNXYtMmgtNVY0MDhoLTJ2NS41WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1NyAtNDA4KSIvPjxwYXRoIGNsYXNzPSJhIiBkPSJNNTcwLDQzMWg1di0yaC03djUuNWgyWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1NyAtNDE4LjUpIi8+PHBhdGggY2xhc3M9ImEiIGQ9Ik01NTEsNDM0LjVoMlY0MjloLTd2Mmg1WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU0NiAtNDE4LjUpIi8+PC9nPjwvZz48L3N2Zz4=);\n    background-repeat: no-repeat;\n    background-size: contain;\n    vertical-align: middle;\n\n    > div.withTooltip {\n      width: 9.5em;\n      transform: translate(calc(-65% - 0.2em), calc(-100% - 1em));\n    }\n  }\n\n  &.exitFullscreenIcon:hover {\n    background: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6I2ZmZmZmZjt9LmJ7Y2xpcC1wYXRoOnVybCgjYSk7fTwvc3R5bGU+PGNsaXBQYXRoIGlkPSJhIj48cmVjdCBjbGFzcz0iYSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNjc1IDMyNTMpIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xhc3M9ImIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNjc1IC0zMjUzKSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjY3OCAzMjU3KSI+PHBhdGggY2xhc3M9ImEiIGQ9Ik01NTMsNDEzLjVWNDA4aC0ydjMuNWgtNXYyaDdaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTQ2IC00MDgpIi8+PHBhdGggY2xhc3M9ImEiIGQ9Ik01NzAsNDEzLjVoNXYtMmgtNVY0MDhoLTJ2NS41WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1NyAtNDA4KSIvPjxwYXRoIGNsYXNzPSJhIiBkPSJNNTcwLDQzMWg1di0yaC03djUuNWgyWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1NyAtNDE4LjUpIi8+PHBhdGggY2xhc3M9ImEiIGQ9Ik01NTEsNDM0LjVoMlY0MjloLTd2Mmg1WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU0NiAtNDE4LjUpIi8+PC9nPjwvZz48L3N2Zz4=);\n    background-repeat: no-repeat;\n    background-size: contain;\n    vertical-align: middle;\n  }\n\n  &.tickIcon {\n    background: url(data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9Ii0xOCAtNDgwIDI0MDAgMjQwMCIgY2xhc3M9InN2Zy1pY29uIG9wdC1pdGVtLWN1ci1wb2ludGVyIHJlcGxhY2VkLXN2ZyI+DQogIDxnIHRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIC0xIDAgMTkyMCkiPg0KICAgPHBhdGggZmlsbD0iI2ZmZmZmZiIgZD0iTTc4MyAyNTUuMTNsLTMyNC42MzIgMzI0LjYzMWMtMTkuNSAxOS40NDA0IC01MS4zNzk5IDUxLjI1IC03MC42ODk1IDcwLjY5MDRsLTM5MC42OSAzOTAuNzVjLTkuNSA5LjY2MDE2IC0xNC4yNSAyMi40NDA0IC0xNC4yNSAzNS4yNXM0Ljc1IDI1LjY0OTQgMTQuMjUgMzUuNDM5NWwzMjQuNjkgMzI0LjYyYzkuNzUgOS43MTk3MyAyMi41ODk4IDE0LjU4MDEgMzUuNDEwMiAxNC41ODAxczI1LjYyMDEgLTQuODYwMzUgMzUuMjgwMyAtMTQuNTgwMSBsMzkwLjYzIC0zOTAuNjJjOS43ODAyNyAtOS43MTk3MyAyMi42MjAxIC0xNC41ODAxIDM1LjQyOTcgLTE0LjU4MDFzMjUuNTg5OCA0Ljg2MDM1IDM1LjI1IDE0LjU4MDFsMTA0OS40MyAxMDQ5LjE4YzkuNzAwMiA5Ljc1OTc3IDIyLjYxMDQgMTQuNjQ5NCAzNS41MzAzIDE0LjY0OTRjMTIuODIwMyAwIDI1LjY1MDQgLTQuODA5NTcgMzUuMzYwNCAtMTQuNDZsMzI2Ljc1IC0zMjIuMjUgYzkuOTI5NjkgLTkuNzA5OTYgMTQuODcwMSAtMjIuNTQ5OCAxNC44NzAxIC0zNS4zOTk0YzAgLTEyLjcwMDIgLTQuODMwMDggLTI1LjQxMDIgLTE0LjQyOTcgLTM1LjEwMDZsLTE0NDcuNSAtMTQ0Ny4zOGMtOS43NSAtOS43MTk3MyAtMjIuNTgwMSAtMTQuNTgwMSAtMzUuMzg5NiAtMTQuNTgwMXMtMjUuNjA5NCA0Ljg2MDM1IC0zNS4yOTk4IDE0LjU4MDF6Ij48L3BhdGg+DQogIDwvZz4NCg0KPC9zdmc+);\n    background-repeat: no-repeat;\n    background-size: contain;\n    vertical-align: middle;\n  }\n"]);return u=function(){return t},t}function c(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var l=Object(r.b)("div")(u()),f=Object(r.b)("div")(s()),h=Object(r.b)("div")(a()),d=Object(r.b)("div")(o()),p=Object(r.a)(i())},function(t,e,n){(function(){var e,r,i,o,a,s,u,c,l,f,h,d,p,m,g,y,b,v={}.hasOwnProperty;b=n(12),y=b.isObject,g=b.isFunction,m=b.isEmpty,p=b.getValue,c=null,i=null,o=null,a=null,s=null,h=null,d=null,f=null,u=null,r=null,l=null,e=null,t.exports=function(){function t(t){this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,c||(c=n(37),i=n(39),o=n(40),a=n(41),s=n(42),h=n(47),d=n(48),f=n(49),u=n(66),r=n(4),l=n(146),n(38),e=n(147))}return Object.defineProperty(t.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(t.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.childNodeList&&this.childNodeList.nodes||(this.childNodeList=new l(this.children)),this.childNodeList}}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){var t;return t=this.parent.children.indexOf(this),this.parent.children[t-1]||null}}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){var t;return t=this.parent.children.indexOf(this),this.parent.children[t+1]||null}}),Object.defineProperty(t.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(t.prototype,"textContent",{get:function(){var t,e,n,i,o;if(this.nodeType===r.Element||this.nodeType===r.DocumentFragment){for(o="",e=0,n=(i=this.children).length;e<n;e++)(t=i[e]).textContent&&(o+=t.textContent);return o}return null},set:function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),t.prototype.setParent=function(t){var e,n,r,i,o;for(this.parent=t,t&&(this.options=t.options,this.stringify=t.stringify),o=[],n=0,r=(i=this.children).length;n<r;n++)e=i[n],o.push(e.setParent(this));return o},t.prototype.element=function(t,e,n){var r,i,o,a,s,u,c,l,f,h,d;if(u=null,null===e&&null==n&&(e=(f=[{},null])[0],n=f[1]),null==e&&(e={}),e=p(e),y(e)||(n=(h=[e,n])[0],e=h[1]),null!=t&&(t=p(t)),Array.isArray(t))for(o=0,c=t.length;o<c;o++)i=t[o],u=this.element(i);else if(g(t))u=this.element(t.apply());else if(y(t)){for(s in t)if(v.call(t,s))if(d=t[s],g(d)&&(d=d.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===s.indexOf(this.stringify.convertAttKey))u=this.attribute(s.substr(this.stringify.convertAttKey.length),d);else if(!this.options.separateArrayItems&&Array.isArray(d)&&m(d))u=this.dummy();else if(y(d)&&m(d))u=this.element(s);else if(this.options.keepNullNodes||null!=d)if(!this.options.separateArrayItems&&Array.isArray(d))for(a=0,l=d.length;a<l;a++)i=d[a],(r={})[s]=i,u=this.element(r);else y(d)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===s.indexOf(this.stringify.convertTextKey)?u=this.element(d):(u=this.element(s)).element(d):u=this.element(s,d);else u=this.dummy()}else u=this.options.keepNullNodes||null!==n?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===t.indexOf(this.stringify.convertTextKey)?this.text(n):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===t.indexOf(this.stringify.convertCDataKey)?this.cdata(n):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===t.indexOf(this.stringify.convertCommentKey)?this.comment(n):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===t.indexOf(this.stringify.convertRawKey)?this.raw(n):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===t.indexOf(this.stringify.convertPIKey)?this.instruction(t.substr(this.stringify.convertPIKey.length),n):this.node(t,e,n):this.dummy();if(null==u)throw new Error("Could not create any elements with: "+t+". "+this.debugInfo());return u},t.prototype.insertBefore=function(t,e,n){var r,i,o,a,s;if(null!=t?t.type:void 0)return a=e,(o=t).setParent(this),a?(i=children.indexOf(a),s=children.splice(i),children.push(o),Array.prototype.push.apply(children,s)):children.push(o),o;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(t));return i=this.parent.children.indexOf(this),s=this.parent.children.splice(i),r=this.parent.element(t,e,n),Array.prototype.push.apply(this.parent.children,s),r},t.prototype.insertAfter=function(t,e,n){var r,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(t));return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i+1),r=this.parent.element(t,e,n),Array.prototype.push.apply(this.parent.children,o),r},t.prototype.remove=function(){var t;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return t=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[t,t-t+1].concat([])),this.parent},t.prototype.node=function(t,e,n){var r,i;return null!=t&&(t=p(t)),e||(e={}),e=p(e),y(e)||(n=(i=[e,n])[0],e=i[1]),r=new c(this,t,e),null!=n&&r.text(n),this.children.push(r),r},t.prototype.text=function(t){var e;return y(t)&&this.element(t),e=new d(this,t),this.children.push(e),this},t.prototype.cdata=function(t){var e;return e=new i(this,t),this.children.push(e),this},t.prototype.comment=function(t){var e;return e=new o(this,t),this.children.push(e),this},t.prototype.commentBefore=function(t){var e,n;return e=this.parent.children.indexOf(this),n=this.parent.children.splice(e),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,n),this},t.prototype.commentAfter=function(t){var e,n;return e=this.parent.children.indexOf(this),n=this.parent.children.splice(e+1),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,n),this},t.prototype.raw=function(t){var e;return e=new h(this,t),this.children.push(e),this},t.prototype.dummy=function(){return new u(this)},t.prototype.instruction=function(t,e){var n,r,i,o,a;if(null!=t&&(t=p(t)),null!=e&&(e=p(e)),Array.isArray(t))for(o=0,a=t.length;o<a;o++)n=t[o],this.instruction(n);else if(y(t))for(n in t)v.call(t,n)&&(r=t[n],this.instruction(n,r));else g(e)&&(e=e.apply()),i=new f(this,t,e),this.children.push(i);return this},t.prototype.instructionBefore=function(t,e){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,r),this},t.prototype.instructionAfter=function(t,e){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n+1),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,r),this},t.prototype.declaration=function(t,e,n){var i,o;return i=this.document(),o=new a(i,t,e,n),0===i.children.length?i.children.unshift(o):i.children[0].type===r.Declaration?i.children[0]=o:i.children.unshift(o),i.root()||i},t.prototype.dtd=function(t,e){var n,i,o,a,u,c,l,f,h;for(n=this.document(),i=new s(n,t,e),o=a=0,c=(f=n.children).length;a<c;o=++a)if(f[o].type===r.DocType)return n.children[o]=i,i;for(o=u=0,l=(h=n.children).length;u<l;o=++u)if(h[o].isRoot)return n.children.splice(o,0,i),i;return n.children.push(i),i},t.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},t.prototype.root=function(){var t;for(t=this;t;){if(t.type===r.Document)return t.rootObject;if(t.isRoot)return t;t=t.parent}},t.prototype.document=function(){var t;for(t=this;t;){if(t.type===r.Document)return t;t=t.parent}},t.prototype.end=function(t){return this.document().end(t)},t.prototype.prev=function(){var t;if((t=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[t-1]},t.prototype.next=function(){var t;if(-1===(t=this.parent.children.indexOf(this))||t===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[t+1]},t.prototype.importDocument=function(t){var e;return(e=t.root().clone()).parent=this,e.isRoot=!1,this.children.push(e),this},t.prototype.debugInfo=function(t){var e,n;return null!=(t=t||this.name)||(null!=(e=this.parent)?e.name:void 0)?null==t?"parent: <"+this.parent.name+">":(null!=(n=this.parent)?n.name:void 0)?"node: <"+t+">, parent: <"+this.parent.name+">":"node: <"+t+">":""},t.prototype.ele=function(t,e,n){return this.element(t,e,n)},t.prototype.nod=function(t,e,n){return this.node(t,e,n)},t.prototype.txt=function(t){return this.text(t)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.com=function(t){return this.comment(t)},t.prototype.ins=function(t,e){return this.instruction(t,e)},t.prototype.doc=function(){return this.document()},t.prototype.dec=function(t,e,n){return this.declaration(t,e,n)},t.prototype.e=function(t,e,n){return this.element(t,e,n)},t.prototype.n=function(t,e,n){return this.node(t,e,n)},t.prototype.t=function(t){return this.text(t)},t.prototype.d=function(t){return this.cdata(t)},t.prototype.c=function(t){return this.comment(t)},t.prototype.r=function(t){return this.raw(t)},t.prototype.i=function(t,e){return this.instruction(t,e)},t.prototype.u=function(){return this.up()},t.prototype.importXMLBuilder=function(t){return this.importDocument(t)},t.prototype.replaceChild=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.removeChild=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.appendChild=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.hasChildNodes=function(){return 0!==this.children.length},t.prototype.cloneNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isSupported=function(t,e){return!0},t.prototype.hasAttributes=function(){return 0!==this.attribs.length},t.prototype.compareDocumentPosition=function(t){var n;return this,this===t?0:this.document()!==t.document()?(n=e.Disconnected|e.ImplementationSpecific,Math.random()<.5?n|=e.Preceding:n|=e.Following,n):this.isAncestor(t)?e.Contains|e.Preceding:this.isDescendant(t)?e.Contains|e.Following:this.isPreceding(t)?e.Preceding:e.Following},t.prototype.isSameNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.lookupPrefix=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isDefaultNamespace=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.lookupNamespaceURI=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isEqualNode=function(t){var e,n,r;if(t.nodeType!==this.nodeType)return!1;if(t.children.length!==this.children.length)return!1;for(e=n=0,r=this.children.length-1;0<=r?n<=r:n>=r;e=0<=r?++n:--n)if(!this.children[e].isEqualNode(t.children[e]))return!1;return!0},t.prototype.getFeature=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.setUserData=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getUserData=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.contains=function(t){return!!t&&(t===this||this.isDescendant(t))},t.prototype.isDescendant=function(t){var e,n,r,i;for(n=0,r=(i=this.children).length;n<r;n++){if(t===(e=i[n]))return!0;if(e.isDescendant(t))return!0}return!1},t.prototype.isAncestor=function(t){return t.isDescendant(this)},t.prototype.isPreceding=function(t){var e,n;return e=this.treePosition(t),n=this.treePosition(this),-1!==e&&-1!==n&&e<n},t.prototype.isFollowing=function(t){var e,n;return e=this.treePosition(t),n=this.treePosition(this),-1!==e&&-1!==n&&e>n},t.prototype.treePosition=function(t){var e,n;return n=0,e=!1,this.foreachTreeNode(this.document(),(function(r){if(n++,!e&&r===t)return e=!0})),e?n:-1},t.prototype.foreachTreeNode=function(t,e){var n,r,i,o,a;for(t||(t=this.document()),r=0,i=(o=t.children).length;r<i;r++){if(a=e(n=o[r]))return a;if(a=this.foreachTreeNode(n,e))return a}},t}()}).call(this)},function(t,e,n){"use strict";t.exports=function(t){return i.test("number"==typeof t?r(t):t.charAt(0))};var r=String.fromCharCode,i=/\s/},function(t,e,n){"use strict";n.d(e,"h",(function(){return d})),n.d(e,"g",(function(){return p})),n.d(e,"a",(function(){return m})),n.d(e,"e",(function(){return g})),n.d(e,"f",(function(){return y})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return v})),n.d(e,"b",(function(){return w}));var r=n(3);function i(){var t=h(["\n   {\n    &.fullscreen {\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      z-index: 1;\n\n      img {\n        width: 100%;\n        height: 100%;\n      }\n    }\n\n    &.wide {\n      position: absolute;\n      top: 2em;\n      right: 2em;\n      z-index: 1;\n\n      img {\n        width: auto;\n        height: 11.4em;\n      }\n    }\n\n    &.square {\n      position: absolute;\n      top: 2em;\n      right: 2em;\n      z-index: 1;\n\n      img {\n        width: auto;\n        height: 11.4em;\n      }\n    }\n  }\n"]);return i=function(){return t},t}function o(){var t=h(["\n   {\n    &.playIcon {\n      width: 5rem;\n      height: 5rem;\n      margin: 0 1rem;\n      display: inline-block;\n      background: url(data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNSAxNiI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6IzFmOTNmZjt9PC9zdHlsZT48L2RlZnM+PHBhdGggY2xhc3M9ImEiIGQ9Ik0xNTEuMDg4LDI4Ljc3MWwtMTEuMjIzLTYuMTM4YTEuODksMS44OSwwLDAsMC0yLjgwNywxLjYyN1YzNi41MzRhMS44OSwxLjg5LDAsMCwwLDIuODA3LDEuNjI1bDExLjIyMy02LjEzOEExLjg0NiwxLjg0NiwwLDAsMCwxNTEuMDg4LDI4Ljc3MVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzcuMDU5IC0yMi4zOTYpIi8+PC9zdmc+);\n      background-repeat: no-repeat;\n      background-size: contain;\n      vertical-align: middle;\n      border: none;\n      cursor: pointer;\n\n      @media (max-width: 640px),\n        @media only screen and (orientation: landscape) {\n        width: 44px;\n        height: 44px;\n        margin: 0 10px;\n        display: inline-block;\n        background: url(data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNSAxNiI+PGRlZnM+PHN0eWxlPi5he2ZpbGw6IzFmOTNmZjt9PC9zdHlsZT48L2RlZnM+PHBhdGggY2xhc3M9ImEiIGQ9Ik0xNTEuMDg4LDI4Ljc3MWwtMTEuMjIzLTYuMTM4YTEuODksMS44OSwwLDAsMC0yLjgwNywxLjYyN1YzNi41MzRhMS44OSwxLjg5LDAsMCwwLDIuODA3LDEuNjI1bDExLjIyMy02LjEzOEExLjg0NiwxLjg0NiwwLDAsMCwxNTEuMDg4LDI4Ljc3MVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzcuMDU5IC0yMi4zOTYpIi8+PC9zdmc+);\n        background-repeat: no-repeat;\n        background-size: contain;\n        vertical-align: middle;\n        border: none;\n        cursor: pointer;\n      }\n    }\n  }\n"]);return o=function(){return t},t}function a(){var t=h(["\n   {\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    min-width: 5rem;\n    background-color: rgba(0, 0, 0, 0.9);\n    padding: 2.3em 1.8em;\n    outline: none !important;\n    border: 0;\n    border-radius: 0.3em;\n    color: white;\n    transform: translate(-50%, -50%);\n    z-index: 2;\n    cursor: pointer;\n  }\n"]);return a=function(){return t},t}function s(){var t=h(["\n   {\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    min-width: 5rem;\n    background-color: transparent;\n    outline: none !important;\n    border: 0;\n    color: white;\n    transform: translate(-50%, -50%);\n    z-index: 2;\n    cursor: pointer;\n  }\n"]);return s=function(){return t},t}function u(){var t=h(["\n   {\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    z-index: 2;\n\n    img {\n      background-size: cover;\n      position: absolute;\n      margin: auto;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      width: 100%;\n      height: 100%;\n    }\n  }\n"]);return u=function(){return t},t}function c(){var t=h(["\n   {\n    position: relative;\n    z-index: 2;\n    height: 12.3935%;\n    cursor: pointer;\n    display: block;\n    margin: auto;\n    width: auto;\n  }\n"]);return c=function(){return t},t}function l(){var t=h(["\n   {\n    opacity: 1;\n    transition: all 300ms ease-in-out;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    max-width: 100vw;\n    width: 100%;\n    height: 100%;\n    max-width: 100%; /* important to prevent greater than video width itself */\n    max-height: 100%; /* important to prevent greater than video height itself */\n    margin: auto;\n    z-index: 1;\n  }\n"]);return l=function(){return t},t}function f(){var t=h(["\n   {\n    position: relative;\n    height: 100%;\n    width: 100%;\n    user-select: none;\n    color: #ffffff;\n    background: #000000;\n    font-size: 1rem;\n\n    &.fullscreen {\n      font-size: 1.8rem;\n\n      @media only screen and (max-width: 840px) {\n        font-size: 12px;\n      }\n    }\n\n    code {\n      font-size: 1.4rem;\n      line-height: 1.4;\n      white-space: pre-line;\n      color: rgb(255, 255, 255);\n      font-family: 'Public Sans', sans-serif;\n\n      @media (max-width: 640px) {\n        font-size: 12px;\n      }\n    }\n\n    video {\n      display: inherit;\n      max-width: 100%;\n      margin: auto;\n    }\n  }\n"]);return f=function(){return t},t}function h(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var d=Object(r.a)(f()),p=Object(r.a)(l()),m=Object(r.b)("img")(c()),g=Object(r.b)("div")(u()),y=Object(r.b)("div")(s()),b=Object(r.b)("div")(a()),v=Object(r.b)("div")(o()),w=Object(r.b)("div")(i())},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){
/*! zero-fill. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.exports=function t(e,n,r){return void 0===n?function(n,r){return t(e,n,r)}:(void 0===r&&(r="0"),(e-=n.toString().length)>0?new Array(e+(/\./.test(n)?2:1)).join(r)+n:n+"")}},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var t=s(h);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){(function(){var e,n,r,i,o,a,s,u=[].slice,c={}.hasOwnProperty;e=function(){var t,e,n,r,i,a;if(a=arguments[0],i=2<=arguments.length?u.call(arguments,1):[],o(Object.assign))Object.assign.apply(null,arguments);else for(t=0,n=i.length;t<n;t++)if(null!=(r=i[t]))for(e in r)c.call(r,e)&&(a[e]=r[e]);return a},o=function(t){return!!t&&"[object Function]"===Object.prototype.toString.call(t)},a=function(t){var e;return!!t&&("function"==(e=typeof t)||"object"===e)},r=function(t){return o(Array.isArray)?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},i=function(t){var e;if(r(t))return!t.length;for(e in t)if(c.call(t,e))return!1;return!0},s=function(t){var e,n;return a(t)&&(n=Object.getPrototypeOf(t))&&(e=n.constructor)&&"function"==typeof e&&e instanceof e&&Function.prototype.toString.call(e)===Function.prototype.toString.call(Object)},n=function(t){return o(t.valueOf)?t.valueOf():t},t.exports.assign=e,t.exports.isFunction=o,t.exports.isObject=a,t.exports.isArray=r,t.exports.isEmpty=i,t.exports.isPlainObject=s,t.exports.getValue=n}).call(this)},function(t,e){t.exports=function(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var i in r)n.call(r,i)&&(t[i]=r[i])}return t};var n=Object.prototype.hasOwnProperty},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},function(t,e,n){"use strict";var r=n(26),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=f;var o=Object.create(n(17));o.inherits=n(14);var a=n(70),s=n(53);o.inherits(f,a);for(var u=i(s.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(t){if(!(this instanceof f))return new f(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),f.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},function(t,e){(e=t.exports=function(t){return t.replace(/^\s*|\s*$/g,"")}).left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,n(24).Buffer)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return l}));var r=n(3);function i(){var t=s(["\n  &.fadeIn {\n  transition: opacity ease 0.5s;\n}\n"]);return i=function(){return t},t}function o(){var t=s(["\n  @keyframes fadein {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n  animation: fadein 2s;\n"]);return o=function(){return t},t}function a(){var t=s(["\n  .errorBackground {\n    background-image: url('data:image/svg+xml;base64,PCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluICAtLT4KPHN2ZyB2ZXJzaW9uPSIxLjEiCiAgICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeG1sbnM6YT0iaHR0cDovL25zLmFkb2JlLmNvbS9BZG9iZVNWR1ZpZXdlckV4dGVuc2lvbnMvMy4wLyIKICAgICB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjQwOS42cHgiIGhlaWdodD0iMzIzLjNweCIgdmlld0JveD0iMCAwIDQwOS42IDMyMy4zIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDkuNiAzMjMuMzsiCiAgICAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+CiAgICAuc3Qwe2ZpbGw6I0E2QTZBNjt9Cjwvc3R5bGU+CjxkZWZzPgo8L2RlZnM+CjxnPgogICAgPHBhdGggY2xhc3M9InN0MCIgZD0iTTQwOS42LDRjMCwxMDUuMSwwLDIxMC4xLDAsMzE1LjJjLTIuNiwzLjQtNi4xLDQtMTAuMiw0Yy0xMjkuNy0wLjEtMjU5LjQtMC4xLTM4OS4xLTAuMQogICAgICAgIGMtOC4zLDAtMTAuMi0xLjgtMTAuMi0xMEMwLDIxMi4yLDAsMTExLjEsMCwxMC4xYzAtOC4yLDEuOS0xMCwxMC4yLTEwYzEyOS43LDAsMjU5LjQsMCwzODkuMS0wLjFDNDAzLjUsMCw0MDcsMC43LDQwOS42LDR6CiAgICAgICAgIE0zNzAuNiwyNzAuMWMwLTEuNywwLTMuMSwwLTQuNGMwLTczLjcsMC0xNDcuNCwwLTIyMS4xYzAtNS40LDAtNS40LTUuNC01LjRjLTEwNi45LDAtMjEzLjgsMC0zMjAuNywwYy01LjQsMC01LjQsMC01LjQsNS41CiAgICAgICAgYzAsNzAuNCwwLDE0MC44LDAsMjExLjFjMCwxLjQtMC41LDIuOSwwLjUsNC4yYzEuNC0wLjYsMi0xLjksMi43LTIuOWMyOC44LTM4LjcsNTcuNy03Ny40LDg2LjUtMTE2YzEuMS0xLjUsMi4yLTMsMy40LTQuNQogICAgICAgIGMxLjUtMS44LDMuMi0xLjksNC44LTAuMmMxLjEsMS4yLDIuMSwyLjQsMy4xLDMuNmMyNC40LDMwLDQ4LjcsNjAsNzMsOTAuMWMyLDIuNSwzLjIsMyw1LjgsMC42YzE4LjUtMTYuNSwzNy4yLTMyLjgsNTUuOC00OS4yCiAgICAgICAgYzQuOC00LjIsNS00LjIsOS4zLDAuM2MyNy40LDI4LjQsNTQuOCw1Ni43LDgyLjMsODUuMUMzNjcuNCwyNjgsMzY4LjIsMjY5LjUsMzcwLjYsMjcwLjF6Ii8+CiAgICA8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzA0LjMsMTAyLjhjLTAuOSwxOC4zLTE2LjgsMzEuMS0zMy40LDI5LjhjLTE4LjEtMS4zLTMxLjUtMTYuOS0yOS45LTMzLjljMS43LTE4LjQsMTYuOS0zMC4zLDMzLjEtMjkuNQogICAgICAgIEMyOTMuMiw3MC4zLDMwNS40LDg2LjUsMzA0LjMsMTAyLjh6Ii8+CjwvZz4KPC9zdmc+');\n    display: block;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    background-repeat: no-repeat;\n    background-size: 50px 50px;\n    background-position-x: 50%;\n    background-position-y: 50%;\n  }\n\n  img {\n    outline: 0;\n  }\n\n  img:not([src]) {\n    visibility: hidden;\n  }\n\n  a {\n    text-decoration: none;\n    outline: 0;\n  }\n\n  .fadeIn {\n    transition: opacity ease 0.3s;\n  }\n"]);return a=function(){return t},t}function s(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var u=Object(r.a)(a()),c=Object(r.a)(o()),l=Object(r.a)(i())},function(t,e,n){var r=n(61)(Object,"create");t.exports=r},function(t,e,n){var r=n(127);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(133);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){(function(){var e,r={}.hasOwnProperty;e=n(6),t.exports=function(t){function e(t){e.__super__.constructor.call(this,t),this.value=""}return function(t,e){for(var n in e)r.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this.value},set:function(t){return this.value=t||""}}),Object.defineProperty(e.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(e.prototype,"textContent",{get:function(){return this.value},set:function(t){return this.value=t||""}}),e.prototype.clone=function(){return Object.create(this)},e.prototype.substringData=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.appendData=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.insertData=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.deleteData=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.replaceData=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.isEqualNode=function(t){return!!e.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)&&t.data===this.data},e}(e)}).call(this)},function(t,e){(function(){t.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(this)},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(152),i=n(153),o=n(69);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=h(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(e,n),i=(t=s(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|d(e.length);return 0===(t=s(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):h(t,e);if("Buffer"===e.type&&o(e.data))return h(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(l(e),t=s(t,e<0?0:0|d(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|d(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function p(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(t).length;default:if(r)return B(t).length;e=(""+e).toLowerCase(),r=!0}}function m(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return N(this,e,n);case"utf8":case"utf-8":return I(this,e,n);case"ascii":return A(this,e,n);case"latin1":case"binary":return k(this,e,n);case"base64":return M(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function y(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:b(t,e,n,r,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,r,i){var o,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(c(t,o+h)!==c(e,h)){f=!1;break}if(f)return o}return-1}function v(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function w(t,e,n,r){return Y(B(e,t.length-n),t,n,r)}function T(t,e,n,r){return Y(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function S(t,e,n,r){return T(t,e,n,r)}function x(t,e,n,r){return Y(F(e),t,n,r)}function E(t,e,n,r){return Y(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function M(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function I(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,u,c=t[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return f(null,t)},u.allocUnsafeSlow=function(t){return f(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?I(this,0,t):m.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),c=this.slice(r,i),l=t.slice(e,n),f=0;f<s;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return T(this,t,e,n);case"latin1":case"binary":return S(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function k(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function N(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=z(t[o]);return i}function L(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function D(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function O(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function _(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function P(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(t,e,n,r,o){return o||P(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function R(t,e,n,r,o){return o||P(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||D(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||D(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||D(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||D(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||D(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||D(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||D(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||D(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||D(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||D(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||C(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||C(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):_(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):_(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);C(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);C(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):_(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):_(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return j(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return j(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return R(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return R(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=u.isBuffer(t)?t:B(new u(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function z(t){return t<16?"0"+t.toString(16):t.toString(16)}function B(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function F(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(U,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Y(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(9))},function(t,e,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise((function(n,r){function i(){void 0!==o&&t.removeListener("error",o),n([].slice.call(arguments))}var o;"error"!==e&&(o=function(n){t.removeListener(e,i),r(n)},t.once("error",o)),t.once(e,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function f(t,e,n,r){var i,o,a,s;if(c(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if("function"==typeof a?a=o[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=l(t))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return t}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=h.bind(r);return i.listener=n,r.wrapFn=i,i}function p(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):g(i,i.length)}function m(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[t];if(void 0===u)return!1;if("function"==typeof u)o(u,this,e);else{var c=u.length,l=g(u,c);for(n=0;n<c;++n)o(l[n],this,e)}return!0},s.prototype.addListener=function(t,e){return f(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return f(this,t,e,!0)},s.prototype.once=function(t,e){return c(e),this.on(t,d(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return c(e),this.prependListener(t,d(this,t,e)),this},s.prototype.removeListener=function(t,e){var n,r,i,o,a;if(c(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},s.prototype.listeners=function(t){return p(this,t,!0)},s.prototype.rawListeners=function(t){return p(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):m.call(t,e)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){"use strict";(function(e){void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,n)}));case 3:return e.nextTick((function(){t.call(null,n,r)}));case 4:return e.nextTick((function(){t.call(null,n,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick((function(){t.apply(null,o)}))}}}:t.exports=e}).call(this,n(11))},function(t,e,n){"use strict";t.exports=function(t){var e="string"==typeof t?t.charCodeAt(0):t;return e>=48&&e<=57}},function(t,e,n){"use strict";t.exports=s;var r=n(198),i=r.CONTINUE,o=r.SKIP,a=r.EXIT;function s(t,e,n,i){"function"==typeof e&&"function"!=typeof n&&(i=n,n=e,e=null),r(t,e,(function(t,e){var r=e[e.length-1],i=r?r.children.indexOf(t):null;return n(t,i,r)}),i)}s.CONTINUE=i,s.SKIP=o,s.EXIT=a},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"flush",(function(){return a})),n.d(e,"hydrate",(function(){return s})),n.d(e,"cx",(function(){return u})),n.d(e,"merge",(function(){return c})),n.d(e,"getRegisteredStyles",(function(){return l})),n.d(e,"injectGlobal",(function(){return f})),n.d(e,"keyframes",(function(){return h})),n.d(e,"css",(function(){return d})),n.d(e,"sheet",(function(){return p})),n.d(e,"caches",(function(){return m}));var r=n(92),i=void 0!==t?t:{},o=Object(r.a)(i),a=o.flush,s=o.hydrate,u=o.cx,c=o.merge,l=o.getRegisteredStyles,f=o.injectGlobal,h=o.keyframes,d=o.css,p=o.sheet,m=o.caches}.call(this,n(9))},function(t,e,n){"use strict";e.a=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}},function(t,e,n){(function(e){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function r(t){var e=new a(t),n=o(a.prototype.request,e);return i.extend(n,a.prototype,e),i.extend(n,e),n}var i=n(2),o=n(3),a=n(4),s=n(22),u=r(n(10));u.Axios=a,u.create=function(t){return r(s(u.defaults,t))},u.Cancel=n(23),u.CancelToken=n(24),u.isCancel=n(9),u.all=function(t){return Promise.all(t)},u.spread=n(25),t.exports=u,t.exports.default=u},function(t,e,n){"use strict";function r(t){return"[object Array]"===c.call(t)}function i(t){return void 0===t}function o(t){return null!==t&&"object"==typeof t}function a(t){return"[object Function]"===c.call(t)}function s(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),r(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}var u=n(3),c=Object.prototype.toString;t.exports={isArray:r,isArrayBuffer:function(t){return"[object ArrayBuffer]"===c.call(t)},isBuffer:function(t){return null!==t&&!i(t)&&null!==t.constructor&&!i(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:o,isUndefined:i,isDate:function(t){return"[object Date]"===c.call(t)},isFile:function(t){return"[object File]"===c.call(t)},isBlob:function(t){return"[object Blob]"===c.call(t)},isFunction:a,isStream:function(t){return o(t)&&a(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:s,merge:function t(){function e(e,r){"object"==typeof n[r]&&"object"==typeof e?n[r]=t(n[r],e):n[r]=e}for(var n={},r=0,i=arguments.length;r<i;r++)s(arguments[r],e);return n},deepMerge:function t(){function e(e,r){"object"==typeof n[r]&&"object"==typeof e?n[r]=t(n[r],e):n[r]="object"==typeof e?t({},e):e}for(var n={},r=0,i=arguments.length;r<i;r++)s(arguments[r],e);return n},extend:function(t,e,n){return s(e,(function(e,r){t[r]=n&&"function"==typeof e?u(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";function r(t){this.defaults=t,this.interceptors={request:new a,response:new a}}var i=n(2),o=n(5),a=n(6),s=n(7),u=n(22);r.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=u(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[s,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},r.prototype.getUri=function(t){return t=u(this.defaults,t),o(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(t){r.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}})),i.forEach(["post","put","patch"],(function(t){r.prototype[t]=function(e,n,r){return this.request(i.merge(r||{},{method:t,url:e,data:n}))}})),t.exports=r},function(t,e,n){"use strict";function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var i=n(2);t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(i.isURLSearchParams(e))o=e.toString();else{var a=[];i.forEach(e,(function(t,e){null!=t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,(function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),a.push(r(e)+"="+r(t))})))})),o=a.join("&")}if(o){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},function(t,e,n){"use strict";function r(){this.handlers=[]}var i=n(2);r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){i.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=r},function(t,e,n){"use strict";function r(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var i=n(2),o=n(8),a=n(9),s=n(10);t.exports=function(t){return r(t),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||s.adapter)(t).then((function(e){return r(t),e.data=o(e.data,e.headers,t.transformResponse),e}),(function(e){return a(e)||(r(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var r=n(2);t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,n,r){"use strict";function i(t,e){!o.isUndefined(t)&&o.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var o=r(2),a=r(11),s={"Content-Type":"application/x-www-form-urlencoded"},u={adapter:function(){var t;return("undefined"!=typeof XMLHttpRequest||void 0!==e&&"[object process]"===Object.prototype.toString.call(e))&&(t=r(12)),t}(),transformRequest:[function(t,e){return a(e,"Accept"),a(e,"Content-Type"),o.isFormData(t)||o.isArrayBuffer(t)||o.isBuffer(t)||o.isStream(t)||o.isFile(t)||o.isBlob(t)?t:o.isArrayBufferView(t)?t.buffer:o.isURLSearchParams(t)?(i(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):o.isObject(t)?(i(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};o.forEach(["delete","get","head"],(function(t){u.headers[t]={}})),o.forEach(["post","put","patch"],(function(t){u.headers[t]=o.merge(s)})),t.exports=u},function(t,e,n){"use strict";var r=n(2);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},function(t,e,n){"use strict";var r=n(2),i=n(13),o=n(5),a=n(16),s=n(19),u=n(20),c=n(14);t.exports=function(t){return new Promise((function(e,l){var f=t.data,h=t.headers;r.isFormData(f)&&delete h["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",m=t.auth.password||"";h.Authorization="Basic "+btoa(p+":"+m)}var g=a(t.baseURL,t.url);if(d.open(t.method.toUpperCase(),o(g,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:t,request:d};i(e,l,r),d=null}},d.onabort=function(){d&&(l(c("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){l(c("Network Error",t,null,d)),d=null},d.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),l(c(e,t,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var y=n(21),b=(t.withCredentials||u(g))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;b&&(h[t.xsrfHeaderName]=b)}if("setRequestHeader"in d&&r.forEach(h,(function(t,e){void 0===f&&"content-type"===e.toLowerCase()?delete h[e]:d.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){d&&(d.abort(),l(t),d=null)})),void 0===f&&(f=null),d.send(f)}))}},function(t,e,n){"use strict";var r=n(14);t.exports=function(t,e,n){var i=n.config.validateStatus;!i||i(n.status)?t(n):e(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(t,e,n){"use strict";var r=n(15);t.exports=function(t,e,n,i,o){var a=new Error(t);return r(a,e,n,i,o)}},function(t,e){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var r=n(17),i=n(18);t.exports=function(t,e){return t&&!r(e)?i(t,e):e}},function(t,e){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(2),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(r.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(a[e]&&i.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},function(t,e,n){"use strict";var r=n(2);t.exports=r.isStandardBrowserEnv()?function(){function t(t){var e=t;return n&&(i.setAttribute("href",e),e=i.href),i.setAttribute("href",e),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}var e,n=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");return e=t(window.location.href),function(n){var i=r.isString(n)?t(n):n;return i.protocol===e.protocol&&i.host===e.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(2);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(2);t.exports=function(t,e){e=e||{};var n={},i=["url","method","params","data"],o=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(i,(function(t){void 0!==e[t]&&(n[t]=e[t])})),r.forEach(o,(function(i){r.isObject(e[i])?n[i]=r.deepMerge(t[i],e[i]):void 0!==e[i]?n[i]=e[i]:r.isObject(t[i])?n[i]=r.deepMerge(t[i]):void 0!==t[i]&&(n[i]=t[i])})),r.forEach(a,(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])}));var s=i.concat(o).concat(a),u=Object.keys(e).filter((function(t){return-1===s.indexOf(t)}));return r.forEach(u,(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])})),n}},function(t,e){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},function(t,e,n){"use strict";function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new i(t),e(n.reason))}))}var i=n(23);r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r((function(e){t=e})),cancel:t}},t.exports=r},function(t,e){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}}])}).call(this,n(11))},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=n(60),i=n(106);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},function(t,e,n){var r=n(35).Symbol;t.exports=r},function(t,e,n){var r=n(103),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e){(function(){e.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(this)},function(t,e,n){(function(){var e,r,i,o,a,s,u,c,l={}.hasOwnProperty;c=n(12),u=c.isObject,s=c.isFunction,a=c.getValue,o=n(6),e=n(4),r=n(65),i=n(38),t.exports=function(t){function n(t,r,i){var o,a,s,u;if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(r),this.type=e.Element,this.attribs={},this.schemaTypeInfo=null,null!=i&&this.attribute(i),t.type===e.Document&&(this.isRoot=!0,this.documentObject=t,t.rootObject=this,t.children))for(a=0,s=(u=t.children).length;a<s;a++)if((o=u[a]).type===e.DocType){o.name=this.name;break}}return function(t,e){for(var n in e)l.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),Object.defineProperty(n.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(n.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(n.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(n.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(n.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"attributes",{get:function(){return this.attributeMap&&this.attributeMap.nodes||(this.attributeMap=new i(this.attribs)),this.attributeMap}}),n.prototype.clone=function(){var t,e,n,r;for(e in(n=Object.create(this)).isRoot&&(n.documentObject=null),n.attribs={},r=this.attribs)l.call(r,e)&&(t=r[e],n.attribs[e]=t.clone());return n.children=[],this.children.forEach((function(t){var e;return(e=t.clone()).parent=n,n.children.push(e)})),n},n.prototype.attribute=function(t,e){var n,i;if(null!=t&&(t=a(t)),u(t))for(n in t)l.call(t,n)&&(i=t[n],this.attribute(n,i));else s(e)&&(e=e.apply()),this.options.keepNullAttributes&&null==e?this.attribs[t]=new r(this,t,""):null!=e&&(this.attribs[t]=new r(this,t,e));return this},n.prototype.removeAttribute=function(t){var e,n,r;if(null==t)throw new Error("Missing attribute name. "+this.debugInfo());if(t=a(t),Array.isArray(t))for(n=0,r=t.length;n<r;n++)e=t[n],delete this.attribs[e];else delete this.attribs[t];return this},n.prototype.toString=function(t){return this.options.writer.element(this,this.options.writer.filterOptions(t))},n.prototype.att=function(t,e){return this.attribute(t,e)},n.prototype.a=function(t,e){return this.attribute(t,e)},n.prototype.getAttribute=function(t){return this.attribs.hasOwnProperty(t)?this.attribs[t].value:null},n.prototype.setAttribute=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getAttributeNode=function(t){return this.attribs.hasOwnProperty(t)?this.attribs[t]:null},n.prototype.setAttributeNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.removeAttributeNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.setAttributeNS=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.removeAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getAttributeNodeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.setAttributeNodeNS=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagNameNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.hasAttribute=function(t){return this.attribs.hasOwnProperty(t)},n.prototype.hasAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.setIdAttribute=function(t,e){return this.attribs.hasOwnProperty(t)?this.attribs[t].isId:e},n.prototype.setIdAttributeNS=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.setIdAttributeNode=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagNameNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByClassName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.isEqualNode=function(t){var e,r,i;if(!n.__super__.isEqualNode.apply(this,arguments).isEqualNode(t))return!1;if(t.namespaceURI!==this.namespaceURI)return!1;if(t.prefix!==this.prefix)return!1;if(t.localName!==this.localName)return!1;if(t.attribs.length!==this.attribs.length)return!1;for(e=r=0,i=this.attribs.length-1;0<=i?r<=i:r>=i;e=0<=i?++r:--r)if(!this.attribs[e].isEqualNode(t.attribs[e]))return!1;return!0},n}(o)}).call(this)},function(t,e){(function(){t.exports=function(){function t(t){this.nodes=t}return Object.defineProperty(t.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.getNamedItem=function(t){return this.nodes[t]},t.prototype.setNamedItem=function(t){var e;return e=this.nodes[t.nodeName],this.nodes[t.nodeName]=t,e||null},t.prototype.removeNamedItem=function(t){var e;return e=this.nodes[t],delete this.nodes[t],e||null},t.prototype.item=function(t){return this.nodes[Object.keys(this.nodes)[t]]||null},t.prototype.getNamedItemNS=function(t,e){throw new Error("This DOM method is not implemented.")},t.prototype.setNamedItemNS=function(t){throw new Error("This DOM method is not implemented.")},t.prototype.removeNamedItemNS=function(t,e){throw new Error("This DOM method is not implemented.")},t}()}).call(this)},function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;e=n(4),r=n(22),t.exports=function(t){function n(t,r){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=e.CData,this.value=this.stringify.cdata(r)}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(t){return this.options.writer.cdata(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;e=n(4),r=n(22),t.exports=function(t){function n(t,r){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=e.Comment,this.value=this.stringify.comment(r)}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(t){return this.options.writer.comment(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},function(t,e,n){(function(){var e,r,i,o={}.hasOwnProperty;i=n(12).isObject,r=n(6),e=n(4),t.exports=function(t){function n(t,r,o,a){var s;n.__super__.constructor.call(this,t),i(r)&&(r=(s=r).version,o=s.encoding,a=s.standalone),r||(r="1.0"),this.type=e.Declaration,this.version=this.stringify.xmlVersion(r),null!=o&&(this.encoding=this.stringify.xmlEncoding(o)),null!=a&&(this.standalone=this.stringify.xmlStandalone(a))}return function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.toString=function(t){return this.options.writer.declaration(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},function(t,e,n){(function(){var e,r,i,o,a,s,u,c,l={}.hasOwnProperty;c=n(12).isObject,u=n(6),e=n(4),r=n(43),o=n(44),i=n(45),a=n(46),s=n(38),t.exports=function(t){function n(t,r,i){var o,a,s,u,l,f;if(n.__super__.constructor.call(this,t),this.type=e.DocType,t.children)for(a=0,s=(u=t.children).length;a<s;a++)if((o=u[a]).type===e.Element){this.name=o.name;break}this.documentObject=t,c(r)&&(r=(l=r).pubID,i=l.sysID),null==i&&(i=(f=[r,i])[0],r=f[1]),null!=r&&(this.pubID=this.stringify.dtdPubID(r)),null!=i&&(this.sysID=this.stringify.dtdSysID(i))}return function(t,e){for(var n in e)l.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),Object.defineProperty(n.prototype,"entities",{get:function(){var t,n,r,i,o;for(i={},n=0,r=(o=this.children).length;n<r;n++)(t=o[n]).type!==e.EntityDeclaration||t.pe||(i[t.name]=t);return new s(i)}}),Object.defineProperty(n.prototype,"notations",{get:function(){var t,n,r,i,o;for(i={},n=0,r=(o=this.children).length;n<r;n++)(t=o[n]).type===e.NotationDeclaration&&(i[t.name]=t);return new s(i)}}),Object.defineProperty(n.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(n.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(n.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),n.prototype.element=function(t,e){var n;return n=new i(this,t,e),this.children.push(n),this},n.prototype.attList=function(t,e,n,i,o){var a;return a=new r(this,t,e,n,i,o),this.children.push(a),this},n.prototype.entity=function(t,e){var n;return n=new o(this,!1,t,e),this.children.push(n),this},n.prototype.pEntity=function(t,e){var n;return n=new o(this,!0,t,e),this.children.push(n),this},n.prototype.notation=function(t,e){var n;return n=new a(this,t,e),this.children.push(n),this},n.prototype.toString=function(t){return this.options.writer.docType(this,this.options.writer.filterOptions(t))},n.prototype.ele=function(t,e){return this.element(t,e)},n.prototype.att=function(t,e,n,r,i){return this.attList(t,e,n,r,i)},n.prototype.ent=function(t,e){return this.entity(t,e)},n.prototype.pent=function(t,e){return this.pEntity(t,e)},n.prototype.not=function(t,e){return this.notation(t,e)},n.prototype.up=function(){return this.root()||this.documentObject},n.prototype.isEqualNode=function(t){return!!n.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)&&(t.name===this.name&&(t.publicId===this.publicId&&t.systemId===this.systemId))},n}(u)}).call(this)},function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;r=n(6),e=n(4),t.exports=function(t){function n(t,r,i,o,a,s){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing DTD element name. "+this.debugInfo());if(null==i)throw new Error("Missing DTD attribute name. "+this.debugInfo(r));if(!o)throw new Error("Missing DTD attribute type. "+this.debugInfo(r));if(!a)throw new Error("Missing DTD attribute default. "+this.debugInfo(r));if(0!==a.indexOf("#")&&(a="#"+a),!a.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(r));if(s&&!a.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(r));this.elementName=this.stringify.name(r),this.type=e.AttributeDeclaration,this.attributeName=this.stringify.name(i),this.attributeType=this.stringify.dtdAttType(o),s&&(this.defaultValue=this.stringify.dtdAttDefault(s)),this.defaultValueType=a}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.toString=function(t){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},function(t,e,n){(function(){var e,r,i,o={}.hasOwnProperty;i=n(12).isObject,r=n(6),e=n(4),t.exports=function(t){function n(t,r,o,a){if(n.__super__.constructor.call(this,t),null==o)throw new Error("Missing DTD entity name. "+this.debugInfo(o));if(null==a)throw new Error("Missing DTD entity value. "+this.debugInfo(o));if(this.pe=!!r,this.name=this.stringify.name(o),this.type=e.EntityDeclaration,i(a)){if(!a.pubID&&!a.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(o));if(a.pubID&&!a.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(o));if(this.internal=!1,null!=a.pubID&&(this.pubID=this.stringify.dtdPubID(a.pubID)),null!=a.sysID&&(this.sysID=this.stringify.dtdSysID(a.sysID)),null!=a.nData&&(this.nData=this.stringify.dtdNData(a.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(o))}else this.value=this.stringify.dtdEntityValue(a),this.internal=!0}return function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),Object.defineProperty(n.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(n.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(n.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(n.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(n.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(n.prototype,"xmlVersion",{get:function(){return null}}),n.prototype.toString=function(t){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;r=n(6),e=n(4),t.exports=function(t){function n(t,r,i){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing DTD element name. "+this.debugInfo());i||(i="(#PCDATA)"),Array.isArray(i)&&(i="("+i.join(",")+")"),this.name=this.stringify.name(r),this.type=e.ElementDeclaration,this.value=this.stringify.dtdElementValue(i)}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.toString=function(t){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;r=n(6),e=n(4),t.exports=function(t){function n(t,r,i){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing DTD notation name. "+this.debugInfo(r));if(!i.pubID&&!i.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(r));this.name=this.stringify.name(r),this.type=e.NotationDeclaration,null!=i.pubID&&(this.pubID=this.stringify.dtdPubID(i.pubID)),null!=i.sysID&&(this.sysID=this.stringify.dtdSysID(i.sysID))}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),Object.defineProperty(n.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(n.prototype,"systemId",{get:function(){return this.sysID}}),n.prototype.toString=function(t){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;e=n(4),r=n(6),t.exports=function(t){function n(t,r){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing raw text. "+this.debugInfo());this.type=e.Raw,this.value=this.stringify.raw(r)}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(t){return this.options.writer.raw(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;e=n(4),r=n(22),t.exports=function(t){function n(t,r){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=e.Text,this.value=this.stringify.text(r)}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),Object.defineProperty(n.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"wholeText",{get:function(){var t,e,n;for(n="",e=this.previousSibling;e;)n=e.data+n,e=e.previousSibling;for(n+=this.data,t=this.nextSibling;t;)n+=t.data,t=t.nextSibling;return n}}),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(t){return this.options.writer.text(this,this.options.writer.filterOptions(t))},n.prototype.splitText=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.replaceWholeText=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n}(r)}).call(this)},function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;e=n(4),r=n(22),t.exports=function(t){function n(t,r,i){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing instruction target. "+this.debugInfo());this.type=e.ProcessingInstruction,this.target=this.stringify.insTarget(r),this.name=this.target,i&&(this.value=this.stringify.insValue(i))}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(t){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(t))},n.prototype.isEqualNode=function(t){return!!n.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)&&t.target===this.target},n}(r)}).call(this)},function(t,e,n){(function(){var e,r={}.hasOwnProperty;e=n(68),t.exports=function(t){function e(t){e.__super__.constructor.call(this,t)}return function(t,e){for(var n in e)r.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,t),e.prototype.document=function(t,e){var n,r,i,o,a;for(e=this.filterOptions(e),o="",r=0,i=(a=t.children).length;r<i;r++)n=a[r],o+=this.writeChildNode(n,e,0);return e.pretty&&o.slice(-e.newline.length)===e.newline&&(o=o.slice(0,-e.newline.length)),o},e}(e)}).call(this)},function(t,e,n){(e=t.exports=n(70)).Stream=e,e.Readable=e,e.Writable=n(53),e.Duplex=n(15),e.Transform=n(74),e.PassThrough=n(161)},function(t,e,n){var r=n(24),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=a),o(i,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){"use strict";(function(e,r,i){var o=n(26);function a(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=b;var s,u=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:o.nextTick;b.WritableState=y;var c=Object.create(n(17));c.inherits=n(14);var l={deprecate:n(159)},f=n(71),h=n(52).Buffer,d=i.Uint8Array||function(){};var p,m=n(72);function g(){}function y(t,e){s=s||n(15),t=t||{};var r=e instanceof s;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,c=t.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===t.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,i){--e.pendingcb,n?(o.nextTick(i,r),o.nextTick(E,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),E(t,e))}(t,n,r,e,i);else{var a=S(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||T(t,n),r?u(w,t,n,a,i):w(t,n,a,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function b(t){if(s=s||n(15),!(p.call(b,this)||this instanceof s))return new b(t);this._writableState=new y(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),f.call(this)}function v(t,e,n,r,i,o,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function w(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),E(t,e)}function T(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),o=e.corkedRequestsFree;o.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,v(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new a(e),e.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,f=n.callback;if(v(t,e,!1,e.objectMode?1:c.length,c,l,f),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function S(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function x(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),E(t,e)}))}function E(t,e){var n=S(e);return n&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(x,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}c.inherits(b,f),y.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(y.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(t){return!!p.call(this,t)||this===b&&(t&&t._writableState instanceof y)}})):p=function(t){return t instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(t,e,n){var r,i=this._writableState,a=!1,s=!i.objectMode&&(r=t,h.isBuffer(r)||r instanceof d);return s&&!h.isBuffer(t)&&(t=function(t){return h.from(t)}(t)),"function"==typeof e&&(n=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof n&&(n=g),i.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),o.nextTick(e,n)}(this,n):(s||function(t,e,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),o.nextTick(r,a),i=!1),i}(this,i,t,n))&&(i.pendingcb++,a=function(t,e,n,r,i,o){if(!n){var a=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=h.from(e,n));return e}(e,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=e.objectMode?1:r.length;e.length+=s;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else v(t,e,!1,s,r,i,o);return u}(this,i,s,t,e,n)),a},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||T(this,t))},b.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,E(t,e),n&&(e.finished?o.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),b.prototype.destroy=m.destroy,b.prototype._undestroy=m.undestroy,b.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(11),n(73).setImmediate,n(9))},function(t,e,n){"use strict";var r=n(160).Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=c,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=l,this.end=f,e=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function l(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function h(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=a(e[r]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=a(e[r]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=a(e[r]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";var r=n(187),i=n(188),o=n(27),a=n(189),s=n(190),u=n(191);t.exports=function(t,e){var n,o,a={};e||(e={});for(o in h)n=e[o],a[o]=null==n?h[o]:n;(a.position.indent||a.position.start)&&(a.indent=a.position.indent||[],a.position=a.position.start);return function(t,e){var n,o,a,h,v,w,T,S,x,E,M,I,A,k,N,L,D,C,O,_=e.additional,P=e.nonTerminated,j=e.text,R=e.reference,U=e.warning,z=e.textContext,B=e.referenceContext,F=e.warningContext,Y=e.position,G=e.indent||[],H=t.length,W=0,V=-1,Z=Y.column||1,K=Y.line||1,Q="",X=[];"string"==typeof _&&(_=_.charCodeAt(0));L=q(),S=U?function(t,e){var n=q();n.column+=e,n.offset+=e,U.call(F,y[t],n,t)}:f,W--,H++;for(;++W<H;)if(10===v&&(Z=G[V]||1),38===(v=t.charCodeAt(W))){if(9===(T=t.charCodeAt(W+1))||10===T||12===T||32===T||38===T||60===T||T!=T||_&&T===_){Q+=l(v),Z++;continue}for(I=A=W+1,O=A,35===T?(O=++I,88===(T=t.charCodeAt(O))||120===T?(k=p,O=++I):k="decimal"):k=d,n="",M="",h="",N=g[k],O--;++O<H&&(T=t.charCodeAt(O),N(T));)h+=l(T),k===d&&c.call(r,h)&&(n=h,M=r[h]);(a=59===t.charCodeAt(O))&&(O++,(o=k===d&&u(h))&&(n=h,M=o)),C=1+O-A,(a||P)&&(h?k===d?(a&&!M?S(5,1):(n!==h&&(O=I+n.length,C=1+O-I,a=!1),a||(x=n?1:3,e.attribute?61===(T=t.charCodeAt(O))?(S(x,C),M=null):s(T)?M=null:S(x,C):S(x,C))),w=M):(a||S(2,C),w=parseInt(h,m[k]),(J=w)>=55296&&J<=57343||J>1114111?(S(7,C),w=l(65533)):w in i?(S(6,C),w=i[w]):(E="",b(w)&&S(6,C),w>65535&&(E+=l((w-=65536)>>>10|55296),w=56320|1023&w),w=E+l(w))):k!==d&&S(4,C)),w?($(),L=q(),W=O-1,Z+=O-A+1,X.push(w),(D=q()).offset++,R&&R.call(B,w,{start:L,end:D},t.slice(A-1,O)),L=D):(h=t.slice(A-1,O),Q+=h,Z+=h.length,W=O-1)}else 10===v&&(K++,V++,Z=0),v==v?(Q+=l(v),Z++):$();var J;return X.join("");function q(){return{line:K,column:Z,offset:W+(Y.offset||0)}}function $(){Q&&(X.push(Q),j&&j.call(z,Q,{start:L,end:q()}),Q="")}}(t,a)};var c={}.hasOwnProperty,l=String.fromCharCode,f=Function.prototype,h={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},d="named",p="hexadecimal",m={hexadecimal:16,decimal:10},g={};g[d]=s,g.decimal=o,g[p]=a;var y={};function b(t){return t>=1&&t<=8||11===t||t>=13&&t<=31||t>=127&&t<=159||t>=64976&&t<=65007||65535==(65535&t)||65534==(65535&t)}y[1]="Named character references must be terminated by a semicolon",y[2]="Numeric character references must be terminated by a semicolon",y[3]="Named character references cannot be empty",y[4]="Numeric character references cannot be empty",y[5]="Named character references must be known",y[6]="Numeric character references cannot be disallowed",y[7]="Numeric character references cannot be outside the permissible Unicode range"},function(t,e,n){"use strict";
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var r,i="";t.exports=function(t,e){if("string"!=typeof t)throw new TypeError("expected a string");if(1===e)return t;if(2===e)return t+t;var n=t.length*e;if(r!==t||void 0===r)r=t,i="";else if(i.length>=n)return i.substr(0,n);for(;n>i.length&&e>1;)1&e&&(i+=t),e>>=1,t+=t;return i=(i+=t).substr(0,n)}},function(t,e,n){"use strict";t.exports=function(t){var e=String(t),n=e.length;for(;"\n"===e.charAt(--n););return e.slice(0,n+1)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r){var i,o,a,s,u,c,l=["pedantic","commonmark"],f=l.length,h=t.length,d=-1;for(;++d<h;){for(i=t[d],o=i[1]||{},a=i[0],s=-1,c=!1;++s<f;)if(void 0!==o[u=l[s]]&&o[u]!==n.options[u]){c=!0;break}if(!c&&e[a].apply(n,r))return!0}return!1}},function(t,e,n){"use strict";var r=n(211);t.exports=function(t){return r(t).toLowerCase()}},function(t,e,n){var r=n(34),i=n(104),o=n(105),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},function(t,e,n){var r=n(114),i=n(119);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){(function(){t.exports=function(){function t(){}return t.prototype.hasFeature=function(t,e){return!0},t.prototype.createDocumentType=function(t,e,n){throw new Error("This DOM method is not implemented.")},t.prototype.createDocument=function(t,e,n){throw new Error("This DOM method is not implemented.")},t.prototype.createHTMLDocument=function(t){throw new Error("This DOM method is not implemented.")},t.prototype.getFeature=function(t,e){throw new Error("This DOM method is not implemented.")},t}()}).call(this)},function(t,e,n){(function(){var e,r,i,o,a,s,u,c={}.hasOwnProperty;u=n(12).isPlainObject,i=n(63),r=n(143),o=n(6),e=n(4),s=n(67),a=n(50),t.exports=function(t){function n(t){n.__super__.constructor.call(this,null),this.name="#document",this.type=e.Document,this.documentURI=null,this.domConfig=new r,t||(t={}),t.writer||(t.writer=new a),this.options=t,this.stringify=new s(t)}return function(t,e){for(var n in e)c.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),Object.defineProperty(n.prototype,"implementation",{value:new i}),Object.defineProperty(n.prototype,"doctype",{get:function(){var t,n,r,i;for(n=0,r=(i=this.children).length;n<r;n++)if((t=i[n]).type===e.DocType)return t;return null}}),Object.defineProperty(n.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(n.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(n.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(n.prototype,"xmlEncoding",{get:function(){return 0!==this.children.length&&this.children[0].type===e.Declaration?this.children[0].encoding:null}}),Object.defineProperty(n.prototype,"xmlStandalone",{get:function(){return 0!==this.children.length&&this.children[0].type===e.Declaration&&"yes"===this.children[0].standalone}}),Object.defineProperty(n.prototype,"xmlVersion",{get:function(){return 0!==this.children.length&&this.children[0].type===e.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(n.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(n.prototype,"origin",{get:function(){return null}}),Object.defineProperty(n.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(n.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(n.prototype,"contentType",{get:function(){return null}}),n.prototype.end=function(t){var e;return e={},t?u(t)&&(e=t,t=this.options.writer):t=this.options.writer,t.document(this,t.filterOptions(e))},n.prototype.toString=function(t){return this.options.writer.document(this,this.options.writer.filterOptions(t))},n.prototype.createElement=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createTextNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createComment=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createCDATASection=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createProcessingInstruction=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createAttribute=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createEntityReference=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.importNode=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createElementNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagNameNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementById=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.adoptNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.renameNode=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByClassName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createEvent=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createNodeIterator=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createTreeWalker=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n}(o)}).call(this)},function(t,e,n){(function(){var e;e=n(4),n(6),t.exports=function(){function t(t,n,r){if(this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),null==n)throw new Error("Missing attribute name. "+this.debugInfo(n));this.name=this.stringify.name(n),this.value=this.stringify.attValue(r),this.type=e.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(t.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(t.prototype,"textContent",{get:function(){return this.value},set:function(t){return this.value=t||""}}),Object.defineProperty(t.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(t.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(t.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(t.prototype,"specified",{get:function(){return!0}}),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(t){return this.options.writer.attribute(this,this.options.writer.filterOptions(t))},t.prototype.debugInfo=function(t){return null==(t=t||this.name)?"parent: <"+this.parent.name+">":"attribute: {"+t+"}, parent: <"+this.parent.name+">"},t.prototype.isEqualNode=function(t){return t.namespaceURI===this.namespaceURI&&(t.prefix===this.prefix&&(t.localName===this.localName&&t.value===this.value))},t}()}).call(this)},function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;r=n(6),e=n(4),t.exports=function(t){function n(t){n.__super__.constructor.call(this,t),this.type=e.Dummy}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(t){return""},n}(r)}).call(this)},function(t,e){(function(){var e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty;t.exports=function(){function t(t){var r,i,o;for(r in this.assertLegalName=e(this.assertLegalName,this),this.assertLegalChar=e(this.assertLegalChar,this),t||(t={}),this.options=t,this.options.version||(this.options.version="1.0"),i=t.stringify||{})n.call(i,r)&&(o=i[r],this[r]=o)}return t.prototype.name=function(t){return this.options.noValidation?t:this.assertLegalName(""+t||"")},t.prototype.text=function(t){return this.options.noValidation?t:this.assertLegalChar(this.textEscape(""+t||""))},t.prototype.cdata=function(t){return this.options.noValidation?t:(t=(t=""+t||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(t))},t.prototype.comment=function(t){if(this.options.noValidation)return t;if((t=""+t||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+t);return this.assertLegalChar(t)},t.prototype.raw=function(t){return this.options.noValidation?t:""+t||""},t.prototype.attValue=function(t){return this.options.noValidation?t:this.assertLegalChar(this.attEscape(t=""+t||""))},t.prototype.insTarget=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.insValue=function(t){if(this.options.noValidation)return t;if((t=""+t||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+t);return this.assertLegalChar(t)},t.prototype.xmlVersion=function(t){if(this.options.noValidation)return t;if(!(t=""+t||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+t);return t},t.prototype.xmlEncoding=function(t){if(this.options.noValidation)return t;if(!(t=""+t||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+t);return this.assertLegalChar(t)},t.prototype.xmlStandalone=function(t){return this.options.noValidation?t:t?"yes":"no"},t.prototype.dtdPubID=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdSysID=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdElementValue=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdAttType=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdAttDefault=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdEntityValue=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdNData=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(t){var e,n;if(this.options.noValidation)return t;if(e="","1.0"===this.options.version){if(e=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,n=t.match(e))throw new Error("Invalid character in string: "+t+" at index "+n.index)}else if("1.1"===this.options.version&&(e=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,n=t.match(e)))throw new Error("Invalid character in string: "+t+" at index "+n.index);return t},t.prototype.assertLegalName=function(t){var e;if(this.options.noValidation)return t;if(this.assertLegalChar(t),e=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!t.match(e))throw new Error("Invalid character in name");return t},t.prototype.textEscape=function(t){var e;return this.options.noValidation?t:(e=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},t.prototype.attEscape=function(t){var e;return this.options.noValidation?t:(e=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},t}()}).call(this)},function(t,e,n){(function(){var e,r,i,o={}.hasOwnProperty;i=n(12).assign,e=n(4),n(41),n(42),n(39),n(40),n(37),n(47),n(48),n(49),n(66),n(43),n(45),n(44),n(46),r=n(23),t.exports=function(){function t(t){var e,n,r;for(e in t||(t={}),this.options=t,n=t.writer||{})o.call(n,e)&&(r=n[e],this["_"+e]=this[e],this[e]=r)}return t.prototype.filterOptions=function(t){var e,n,o,a,s,u,c,l;return t||(t={}),t=i({},this.options,t),(e={writer:this}).pretty=t.pretty||!1,e.allowEmpty=t.allowEmpty||!1,e.indent=null!=(n=t.indent)?n:"  ",e.newline=null!=(o=t.newline)?o:"\n",e.offset=null!=(a=t.offset)?a:0,e.dontPrettyTextNodes=null!=(s=null!=(u=t.dontPrettyTextNodes)?u:t.dontprettytextnodes)?s:0,e.spaceBeforeSlash=null!=(c=null!=(l=t.spaceBeforeSlash)?l:t.spacebeforeslash)?c:"",!0===e.spaceBeforeSlash&&(e.spaceBeforeSlash=" "),e.suppressPrettyCount=0,e.user={},e.state=r.None,e},t.prototype.indent=function(t,e,n){var r;return!e.pretty||e.suppressPrettyCount?"":e.pretty&&(r=(n||0)+e.offset+1)>0?new Array(r).join(e.indent):""},t.prototype.endline=function(t,e,n){return!e.pretty||e.suppressPrettyCount?"":e.newline},t.prototype.attribute=function(t,e,n){var r;return this.openAttribute(t,e,n),r=" "+t.name+'="'+t.value+'"',this.closeAttribute(t,e,n),r},t.prototype.cdata=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"<![CDATA[",e.state=r.InsideTag,i+=t.value,e.state=r.CloseTag,i+="]]>"+this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.comment=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"\x3c!-- ",e.state=r.InsideTag,i+=t.value,e.state=r.CloseTag,i+=" --\x3e"+this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.declaration=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"<?xml",e.state=r.InsideTag,i+=' version="'+t.version+'"',null!=t.encoding&&(i+=' encoding="'+t.encoding+'"'),null!=t.standalone&&(i+=' standalone="'+t.standalone+'"'),e.state=r.CloseTag,i+=e.spaceBeforeSlash+"?>",i+=this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.docType=function(t,e,n){var i,o,a,s,u;if(n||(n=0),this.openNode(t,e,n),e.state=r.OpenTag,s=this.indent(t,e,n),s+="<!DOCTYPE "+t.root().name,t.pubID&&t.sysID?s+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(s+=' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(s+=" [",s+=this.endline(t,e,n),e.state=r.InsideTag,o=0,a=(u=t.children).length;o<a;o++)i=u[o],s+=this.writeChildNode(i,e,n+1);e.state=r.CloseTag,s+="]"}return e.state=r.CloseTag,s+=e.spaceBeforeSlash+">",s+=this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),s},t.prototype.element=function(t,n,i){var a,s,u,c,l,f,h,d,p,m,g,y,b,v;for(p in i||(i=0),m=!1,g="",this.openNode(t,n,i),n.state=r.OpenTag,g+=this.indent(t,n,i)+"<"+t.name,y=t.attribs)o.call(y,p)&&(a=y[p],g+=this.attribute(a,n,i));if(c=0===(u=t.children.length)?null:t.children[0],0===u||t.children.every((function(t){return(t.type===e.Text||t.type===e.Raw)&&""===t.value})))n.allowEmpty?(g+=">",n.state=r.CloseTag,g+="</"+t.name+">"+this.endline(t,n,i)):(n.state=r.CloseTag,g+=n.spaceBeforeSlash+"/>"+this.endline(t,n,i));else if(!n.pretty||1!==u||c.type!==e.Text&&c.type!==e.Raw||null==c.value){if(n.dontPrettyTextNodes)for(l=0,h=(b=t.children).length;l<h;l++)if(((s=b[l]).type===e.Text||s.type===e.Raw)&&null!=s.value){n.suppressPrettyCount++,m=!0;break}for(g+=">"+this.endline(t,n,i),n.state=r.InsideTag,f=0,d=(v=t.children).length;f<d;f++)s=v[f],g+=this.writeChildNode(s,n,i+1);n.state=r.CloseTag,g+=this.indent(t,n,i)+"</"+t.name+">",m&&n.suppressPrettyCount--,g+=this.endline(t,n,i),n.state=r.None}else g+=">",n.state=r.InsideTag,n.suppressPrettyCount++,m=!0,g+=this.writeChildNode(c,n,i+1),n.suppressPrettyCount--,m=!1,n.state=r.CloseTag,g+="</"+t.name+">"+this.endline(t,n,i);return this.closeNode(t,n,i),g},t.prototype.writeChildNode=function(t,n,r){switch(t.type){case e.CData:return this.cdata(t,n,r);case e.Comment:return this.comment(t,n,r);case e.Element:return this.element(t,n,r);case e.Raw:return this.raw(t,n,r);case e.Text:return this.text(t,n,r);case e.ProcessingInstruction:return this.processingInstruction(t,n,r);case e.Dummy:return"";case e.Declaration:return this.declaration(t,n,r);case e.DocType:return this.docType(t,n,r);case e.AttributeDeclaration:return this.dtdAttList(t,n,r);case e.ElementDeclaration:return this.dtdElement(t,n,r);case e.EntityDeclaration:return this.dtdEntity(t,n,r);case e.NotationDeclaration:return this.dtdNotation(t,n,r);default:throw new Error("Unknown XML node type: "+t.constructor.name)}},t.prototype.processingInstruction=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"<?",e.state=r.InsideTag,i+=t.target,t.value&&(i+=" "+t.value),e.state=r.CloseTag,i+=e.spaceBeforeSlash+"?>",i+=this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.raw=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n),e.state=r.InsideTag,i+=t.value,e.state=r.CloseTag,i+=this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.text=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n),e.state=r.InsideTag,i+=t.value,e.state=r.CloseTag,i+=this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.dtdAttList=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"<!ATTLIST",e.state=r.InsideTag,i+=" "+t.elementName+" "+t.attributeName+" "+t.attributeType,"#DEFAULT"!==t.defaultValueType&&(i+=" "+t.defaultValueType),t.defaultValue&&(i+=' "'+t.defaultValue+'"'),e.state=r.CloseTag,i+=e.spaceBeforeSlash+">"+this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.dtdElement=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"<!ELEMENT",e.state=r.InsideTag,i+=" "+t.name+" "+t.value,e.state=r.CloseTag,i+=e.spaceBeforeSlash+">"+this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.dtdEntity=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"<!ENTITY",e.state=r.InsideTag,t.pe&&(i+=" %"),i+=" "+t.name,t.value?i+=' "'+t.value+'"':(t.pubID&&t.sysID?i+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(i+=' SYSTEM "'+t.sysID+'"'),t.nData&&(i+=" NDATA "+t.nData)),e.state=r.CloseTag,i+=e.spaceBeforeSlash+">"+this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.dtdNotation=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"<!NOTATION",e.state=r.InsideTag,i+=" "+t.name,t.pubID&&t.sysID?i+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.pubID?i+=' PUBLIC "'+t.pubID+'"':t.sysID&&(i+=' SYSTEM "'+t.sysID+'"'),e.state=r.CloseTag,i+=e.spaceBeforeSlash+">"+this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.openNode=function(t,e,n){},t.prototype.closeNode=function(t,e,n){},t.prototype.openAttribute=function(t,e,n){},t.prototype.closeAttribute=function(t,e,n){},t}()}).call(this)},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";(function(e,r){var i=n(26);t.exports=v;var o,a=n(69);v.ReadableState=b;n(25).EventEmitter;var s=function(t,e){return t.listeners(e).length},u=n(71),c=n(52).Buffer,l=e.Uint8Array||function(){};var f=Object.create(n(17));f.inherits=n(14);var h=n(155),d=void 0;d=h&&h.debuglog?h.debuglog("stream"):function(){};var p,m=n(156),g=n(72);f.inherits(v,u);var y=["error","close","destroy","pause","resume"];function b(t,e){t=t||{};var r=e instanceof(o=o||n(15));this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,a=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=n(54).StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function v(t){if(o=o||n(15),!(this instanceof v))return new v(t);this._readableState=new b(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function w(t,e,n,r,i){var o,a=t._readableState;null===e?(a.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,x(t)}(t,a)):(i||(o=function(t,e){var n;r=e,c.isBuffer(r)||r instanceof l||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(a,e)),o?t.emit("error",o):a.objectMode||e&&e.length>0?("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===c.prototype||(e=function(t){return c.from(t)}(e)),r?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):T(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?T(t,a,e,!1):M(t,a)):T(t,a,e,!1))):r||(a.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(a)}function T(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&x(t)),M(t,e)}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),v.prototype.destroy=g.destroy,v.prototype._undestroy=g.undestroy,v.prototype._destroy=function(t,e){this.push(null),e(t)},v.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=c.from(t,e),e=""),n=!0),w(this,t,e,!1,n)},v.prototype.unshift=function(t){return w(this,t,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(t){return p||(p=n(54).StringDecoder),this._readableState.decoder=new p(t),this._readableState.encoding=t,this};function S(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=8388608?t=8388608:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function x(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(E,t):E(t))}function E(t){d("emit readable"),t.emit("readable"),N(t)}function M(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(I,t,e))}function I(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(d("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function A(t){d("readable nexttick read 0"),t.read(0)}function k(t,e){e.reading||(d("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),N(t),e.flowing&&!e.reading&&t.read(0)}function N(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function L(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;t-=i.length;for(;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(a===o.length?i+=o:i+=o.slice(0,t),0===(t-=a)){a===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(a));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=c.allocUnsafe(t),r=e.head,i=1;r.data.copy(n),t-=r.data.length;for(;r=r.next;){var o=r.data,a=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,a),0===(t-=a)){a===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(a));break}++i}return e.length-=i,n}(t,e);return r}(t,e.buffer,e.decoder),n);var n}function D(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(C,e,t))}function C(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function O(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}v.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?D(this):x(this),null;if(0===(t=S(t,e))&&e.ended)return 0===e.length&&D(this),null;var r,i=e.needReadable;return d("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",i=!0),e.ended||e.reading?d("reading or ended",i=!1):i&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=S(n,e))),null===(r=t>0?L(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&D(this)),null!==r&&this.emit("data",r),r},v.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,e);var u=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?l:v;function c(e,r){d("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,d("cleanup"),t.removeListener("close",y),t.removeListener("finish",b),t.removeListener("drain",f),t.removeListener("error",g),t.removeListener("unpipe",c),n.removeListener("end",l),n.removeListener("end",v),n.removeListener("data",m),h=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||f())}function l(){d("onend"),t.end()}o.endEmitted?i.nextTick(u):n.once("end",u),t.on("unpipe",c);var f=function(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,N(t))}}(n);t.on("drain",f);var h=!1;var p=!1;function m(e){d("ondata"),p=!1,!1!==t.write(e)||p||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==O(o.pipes,t))&&!h&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function g(e){d("onerror",e),v(),t.removeListener("error",g),0===s(t,"error")&&t.emit("error",e)}function y(){t.removeListener("finish",b),v()}function b(){d("onfinish"),t.removeListener("close",y),v()}function v(){d("unpipe"),n.unpipe(t)}return n.on("data",m),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?a(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",g),t.once("close",y),t.once("finish",b),t.emit("pipe",n),o.flowing||(d("pipe resume"),n.resume()),t},v.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=O(e.pipes,t);return-1===a||(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},v.prototype.on=function(t,e){var n=u.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&x(this):i.nextTick(A,this))}return n},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(k,t,e))}(this,t)),this},v.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(d("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){(d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<y.length;o++)t.on(y[o],this.emit.bind(this,y[o]));return this._read=function(e){d("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=L}).call(this,n(9),n(11))},function(t,e,n){t.exports=n(25).EventEmitter},function(t,e,n){"use strict";var r=n(26);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(r.nextTick(i,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(158),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(9))},function(t,e,n){"use strict";t.exports=a;var r=n(15),i=Object.create(n(17));function o(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(t){if(!(this instanceof a))return new a(t);r.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"==typeof this._flush?this._flush((function(e,n){u(t,e,n)})):u(this,null,null)}function u(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=n(14),i.inherits(a,r),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},a.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},a.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},function(t,e){(function(){"use strict";var t;t=new RegExp(/(?!xmlns)^.*:/),e.normalize=function(t){return t.toLowerCase()},e.firstCharLowerCase=function(t){return t.charAt(0).toLowerCase()+t.slice(1)},e.stripPrefix=function(e){return e.replace(t,"")},e.parseNumbers=function(t){return isNaN(t)||(t=t%1==0?parseInt(t,10):parseFloat(t)),t},e.parseBooleans=function(t){return/^(?:true|false)$/i.test(t)&&(t="true"===t.toLowerCase()),t}}).call(this)},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,i="/"===a.charAt(0))}return(i?"/":"")+(e=n(r(e.split("/"),(function(t){return!!t})),!i).join("/"))||"."},e.normalize=function(t){var o=e.isAbsolute(t),a="/"===i(t,-1);return(t=n(r(t.split("/"),(function(t){return!!t})),!o).join("/"))||o||(t="."),t&&a&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}var c=[];for(u=s;u<i.length;u++)c.push("..");return(c=c.concat(o.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,i=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},e.basename=function(t,e){var n=function(t){"string"!=typeof t&&(t+="");var e,n=0,r=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){n=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":t.slice(n,r)}(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,n=0,r=-1,i=!0,o=0,a=t.length-1;a>=0;--a){var s=t.charCodeAt(a);if(47!==s)-1===r&&(i=!1,r=a+1),46===s?-1===e?e=a:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){n=a+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===n+1?"":t.slice(e,r)};var i="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(11))},function(t,e,n){"use strict";t.exports=function(t){var e="string"==typeof t?t.charCodeAt(0):t;return e>=97&&e<=122||e>=65&&e<=90}},function(t,e,n){"use strict";t.exports={position:!0,gfm:!0,commonmark:!1,footnotes:!1,pedantic:!1,blocks:n(195)}},function(t,e,n){"use strict";t.exports=function(t){var e,n=0,i=0,o=t.charAt(n),a={};for(;o in r;)i+=e=r[o],e>1&&(i=Math.floor(i/e)*e),a[i]=n,o=t.charAt(++n);return{indent:i,stops:a}};var r={" ":1,"\t":4}},function(t,e,n){"use strict";var r="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\u0000-\\u0020]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",i="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>";e.openCloseTag=new RegExp("^(?:"+r+"|"+i+")"),e.tag=new RegExp("^(?:"+r+"|"+i+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Za-z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)")},function(t,e,n){"use strict";t.exports=function(t,e){return t.indexOf("<",e)}},function(t,e,n){"use strict";t.exports=function(t,e){var n=t.indexOf("[",e),r=t.indexOf("![",e);if(-1===r)return n;return n<r?n:r}},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(84),i=n.n(r),o=n(1),a=n.n(o);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=function(t){return i.a.parseStringPromise(t.toString()).then((function(t){var e=a()(t,"['vmap:VMAP']['vmap:AdBreak']",[]);return e=e.map((function(t){var e=a()(t,"['vmap:AdSource']['0']['vmap:VASTAdData']['0']['VAST']['0']['Ad']['0']['$']['id']",""),n=a()(t,"['vmap:AdSource']['0']['vmap:VASTAdData']['0']['VAST']['0']['Ad']['0']['InLine']['0']['Impression']['0']",""),r=a()(t,"['vmap:AdSource']['0']['vmap:VASTAdData']['0']['VAST']['0']['Ad']['0']['InLine']['0']['Creatives']['0']['Creative']['0']['Linear']['0']","");return u(u({},t.$),{},{id:e,impression:n,durations:a()(r,"Duration",[]),mediafile:a()(r,"['MediaFiles']['0']['MediaFile']['0']['_']",""),isPlayed:!1})}))})).catch((function(t){return console.log("failed",t),[]}))}},function(t,e,n){(function(){"use strict";var t,r,i,o,a={}.hasOwnProperty;r=n(36),t=n(141),i=n(150),o=n(75),e.defaults=r.defaults,e.processors=o,e.ValidationError=function(t){function e(t){this.message=t}return function(t,e){for(var n in e)a.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(e,Error),e}(),e.Builder=t.Builder,e.Parser=i.Parser,e.parseString=i.parseString,e.parseStringPromise=i.parseStringPromise}).call(this)},function(t,e,n){"use strict";(function(t){var r=n(0),i=n.n(r),o=n(2),a=n(18);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){b(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?g(t):e}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(c,e);var n,r,o,s=p(c);function c(e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),b(g(n=s.call(this,e)),"initObserver",(function(){var t=new IntersectionObserver((function(e){var r=e[0],i=r.isIntersecting,o=r.intersectionRatio;i&&o>0&&(n.createImage(),t.disconnect(),t=null)}),{threshold:[.1,.5,.75,1]});t.observe(n.image.current)})),b(g(n),"createImage",(function(){n.loadImage(t.webpSupport&&n.props.webp)})),b(g(n),"loadImage",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=n.props,r=e.src,i=e.onErrorShowDefault,o=t?n.imageWebPUrl:r,a=new window.Image;a.onload=function(){n.image.current&&n.setState({sources:o,isLoaded:!0})},a.onerror=function(){t?n.loadImage():!0&&i&&n.setState({isError:!0,isLoaded:!1})},a.src=o})),b(g(n),"loadPolyfills",(function(){return!!n.supportsIntersectionObserver()})),b(g(n),"supportsIntersectionObserver",(function(){return"IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in IntersectionObserverEntry.prototype})),n.image=i.a.createRef(),n.state={isLoaded:!1,sources:e.lazy?e.initial:e.image,widthSet:!1},n}return n=c,(r=[{key:"componentDidMount",value:function(){var e=this.props.src;this.props.handleCallback(!1),e&&(this.props.lazy&&this.loadPolyfills()?this.initObserver():this.loadImage(t.webpSupport&&this.props.webp))}},{key:"componentDidUpdate",value:function(e){this.props.handleCallback(this.state.load),this.props.src!==e.src&&(this.props.lazy&&this.loadPolyfills()?this.initObserver():this.loadImage(t.webpSupport&&this.props.webp))}},{key:"render",value:function(){var t=this.state,e=t.sources,n=t.isError,r=t.isLoaded,o=this.props,s=o.alt,u=o.containerClassName,c=o.containerStyle,l=o.style,h=o.onClick,d=o.children,p=o.className,m=o.src,g=o.errorImgClassName,y=(o.onEmptyShowDefault,o.onHoverBorder),b=o.fallbackImageUri,v=d&&!m;return i.a.createElement(i.a.Fragment,null,v&&i.a.createElement("div",{className:"".concat(u||""," ").concat(a.a," ").concat(a.c),style:f({},c),onClick:h},d),b&&i.a.createElement("img",{src:b,className:"".concat(a.b," fallbackImg fadeIn"),style:{opacity:r?0:1}}),!v&&i.a.createElement("div",{className:"".concat(u||""," ").concat(a.a," imageWrapper ").concat(r?"loaded":""),style:f(f({},c),{},{position:b?"absolute":"relative",top:0,left:0}),onClick:h},y&&i.a.createElement("div",{className:"imageBorder"}),!n&&i.a.createElement("img",{ref:this.image,className:"".concat(p||""," fadeIn"),style:f(f({},l),{},{opacity:r?1:0}),src:e,alt:s}),n&&!b&&i.a.createElement("div",{className:"errorBackground ".concat(g||"")})))}},{key:"dataProps",get:function(){var t={};return Object.entries(this.props).forEach((function(e){var n=u(e,2),r=n[0],i=n[1];r.startsWith("data-")&&(t[r]=i)})),t}},{key:"imageWebPUrl",get:function(){return"".concat(this.props.src,".webp")}}])&&h(n.prototype,r),o&&h(n,o),c}(r.PureComponent);b(v,"propTypes",{alt:o.string,className:o.string,containerClassName:o.string,containerStyle:o.object,fadeIn:o.bool,width:o.string,height:o.string,initial:o.string,lazy:o.bool,src:o.string,style:o.object,webp:o.bool,onClick:o.func,children:o.node,onErrorShowDefault:o.bool,onEmptyShowDefault:o.bool,errorImgClassName:o.string,handleCallback:o.func}),b(v,"defaultProps",{alt:"",className:"",containerClassName:"",containerStyle:{},fadeIn:!0,width:"100%",height:"auto",initial:"",lazy:!0,onClick:function(){},style:{},webp:!0,children:null,src:null,onErrorShowDefault:!1,onEmptyShowDefault:!1,errorImgClassName:"",handleCallback:function(){}}),e.a=v}).call(this,n(9))},function(t,e,n){t.exports=function(){"use strict";return function(t){function e(e){if(e)try{t(e+"}")}catch(t){}}return function(n,r,i,o,a,s,u,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return t(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return t(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(e)}}}}()},function(t,e,n){"use strict";var r=n(88);e.a=r.a},function(t,e,n){"use strict";(function(t){var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=n(89),u=n.n(s),c=n(5);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){S(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=T(t);if(e){var i=T(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v(this,n)}}function v(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?w(t):e}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x,E=0,M=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(l,e);var n,r,o,s=b(l);function l(){var t;m(this,l);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return S(w(t=s.call.apply(s,[this].concat(n))),"state",{qualities:[],subtitles:[],bufferedPercentage:0,isMuteFeedbackHidden:!0,isPlayPauseFeedbackHidden:!0,isSkipFeedbackHidden:!0,isfullscreenFeedbackHidden:!0,skippedDuration:0,cue:{text:"",hidden:!0}}),S(w(t),"_getElementById",(function(e){var n="vpcc-custom-controller-".concat(t.props.id);return document.querySelector("#".concat(n," #").concat(e))})),S(w(t),"handleFeedbackOnClick",(function(){var e=t._getElementById("vpcc-quality"),n=a()(e,"children[0]",""),r=t._getElementById("vpcc-subtitle"),i=a()(r,"children[0]","");i&&(i.style.display="none"),n&&(n.style.display="none")})),S(w(t),"handleKeyboardEvent",(function(){t.props.config.keyboardShortcutsEnabled&&(document.onkeyup=function(e){var n=w(t),r=n.props.player,i=r&&r.getMediaElement(),o=a()(t.props,"isPreroll",!1);switch(e.which||e.keyCode){case 37:o||n._seekTo(-10);break;case 38:e.preventDefault(),i.volume=Math.min(1,i.volume+.1);break;case 39:o||n._seekTo(10);break;case 40:e.preventDefault(),i.volume=Math.max(0,i.volume-.1);break;case 70:e.preventDefault(),n._toggleFullscreen();break;case 77:e.preventDefault(),n._toggleMute();break;case 80:e.preventDefault(),n._togglePlayPause();break;default:e.preventDefault()}})})),S(w(t),"_getQuality",(function(){var e=t.props.player;return e&&e.getVariantTracks()||[]})),S(w(t),"_setQuality",(function(e){var n=t.props.player;if(n){var r=t._getQuality();if(r&&r.length>0){var i=r.filter((function(t){return t.id==e}))[0];if(i)n.selectVariantTrack(i,!0);else{var o,s=n.getStats(),u=a()(s,"estimatedBandwidth",0);r.reverse().map((function(t){u>t.bandwidth&&!o&&(n.selectVariantTrack(t,!0),o=t)})),o||n.selectVariantTrack(r[0],!0)}}}})),S(w(t),"_getSubtitle",(function(){var e=t.props.player,n=e&&e.getMediaElement();return e&&Array.from(n.textTracks)||[]})),S(w(t),"_setSubtitle",(function(e){if(t.props.player){var n=t._getSubtitle();if(n&&n.length>1){var r,i=n[e],o=d(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(i.language==a.language){if(a.addEventListener("cuechange",t.handleCueOnChange),a.cues&&a.cues.length>0){var s,u=d(a.cues);try{for(u.s();!(s=u.n()).done;){var c=s.value;c.addEventListener("enter",t.handleCueOnEnter),c.addEventListener("exit",t.handleCueOnExit)}}catch(t){u.e(t)}finally{u.f()}}}else if(a.removeEventListener("cuechange",t.handleCueOnChange),a.cues&&a.cues.length>0){var l,f=d(a.cues);try{for(f.s();!(l=f.n()).done;){var h=l.value;h.removeEventListener("enter",t.handleCueOnEnter),h.removeEventListener("exit",t.handleCueOnExit)}}catch(t){f.e(t)}finally{f.f()}}}}catch(t){o.e(t)}finally{o.f()}t.setState({cue:{text:"",hidden:!0}})}}})),S(w(t),"handleCueOnChange",(function(e){var n=a()(e,"target.activeCues",{});n.length>0&&t.setState((function(t){return{cue:h(h({},t.cue),{},{text:n[0].text})}}))})),S(w(t),"handleCueOnEnter",(function(){t.setState((function(t){return{cue:h(h({},t.cue),{},{hidden:!1})}}))})),S(w(t),"handleCueOnExit",(function(){t.setState((function(t){return{cue:h(h({},t.cue),{},{text:"",hidden:!0})}}))})),S(w(t),"handleQualityFilter",(function(){var e=t._getQuality(),n=[],r=[];e.reverse().map((function(t){t.height&&!r.includes(t.height)&&(r.push(t.height),n.push(h(h({},t),{},{active:!1})))})),n.sort((function(t,e){return e.height-t.height})),n.push({bandwidth:"Auto",width:"Auto",height:"Auto",id:-1,active:!0}),t.setState({qualities:n})})),S(w(t),"handleSubtitleFilter",(function(){var e=t._getSubtitle(),n=(e=e.map((function(e,n){return h(h({},e),{},{id:n,active:e.language.toLowerCase()==t.props.config.preferredTextLanguage.toLowerCase(),name:e.language?e.label:null})})).filter((function(t){return t.name}))).filter((function(t){return t.active}))[0],r=[{id:0,active:!n,name:"Off",type:"SRT",kind:"metadata"}].concat(e);t.setState({subtitles:r.reverse()||[]},(function(){n&&t._setSubtitle(n.id)}))})),S(w(t),"initEventListeners",(function(e){var n=t._getElementById("vpcc-seek"),r=e&&e.isLive();n&&!r&&n.addEventListener("mousemove",t._updateSeekTooltip),(e&&e.getMediaElement()).addEventListener("progress",t._updateBuffer)})),S(w(t),"_updateBuffer",(function(){var e=t.props.player,n=e&&e.getMediaElement(),r=Math.round(a()(n,"duration",0)),i=Math.round(a()(n,"currentTime",0)),o=a()(n,"buffered",[]);if(r>0)for(var s=0;s<o.length;s++)if(o.start(o.length-1-s)<i){t.setState({bufferedPercentage:o.end(o.length-1-s)/r*100});break}})),S(w(t),"_formatTime",(function(t){var e=isFinite(t)?t:0,n=new Date(1e3*Math.abs(e)).toISOString().substr(11,8),r={hours:n.substr(0,2),minutes:n.substr(3,2),seconds:n.substr(6,2)};return parseInt(r.hours,10)>0?n:"".concat(r.minutes,":").concat(r.seconds)})),S(w(t),"_updateSeekTooltip",(function(e){var n=t.props.player,r=n&&n.getMediaElement(),i=t._getElementById("vpcc-seek"),o=Math.round(a()(r,"duration",0)),s=a()(t.props,"isPreroll",!1),u=n&&n.isLive();if(r&&!s&&!u){var c=t._getElementById("vpcc-seek-tooltip"),l=Math.round(e.offsetX/e.target.clientWidth*o);i.setAttribute("data-seek",l),c.textContent=t._formatTime(l);var f=r.getBoundingClientRect();t.isFullscreen(),c.style.left="".concat(e.pageX-f.left-.0875*f.height,"px")}})),S(w(t),"_updateSeekValue",(function(e){var n=e.target.value,r=t.props.player,i=r&&r.getMediaElement(),o=a()(t.props,"isPreroll",!1),s=r&&r.isLive();i&&!o&&!s&&t.props.config.seekBarEnabled&&(t.setState({currentTime:n}),i.currentTime=n)})),S(w(t),"_updateLocalStorage",(function(t,e){try{var n=JSON.parse(localStorage.getItem(t));n?localStorage.setItem(t,JSON.stringify(h(h({},n),e))):localStorage.setItem(t,JSON.stringify(e))}catch(t){}})),S(w(t),"_updateVolume",(function(e){var n=t.props.player,r=n&&n.getMediaElement();t._getElementById("vpcc-volume");r&&(r.muted&&(r.muted=!1),t.setState({volume:e.target.value}),r.volume=e.target.value,t._updateLocalStorage("player-volume-info",{volume:r.volume,muted:r.muted}))})),S(w(t),"_toggleMute",(function(){var e=t.props.player,n=e&&e.getMediaElement(),r=t._getElementById("vpcc-volume");n&&t.props.config.toggleMuteEnabled&&(t._debounce((function(){var e,i;(n.muted=!n.muted,n.muted)?(E=0,r.setAttribute("data-volume",r.value),n.volume=0):(E=0,n.volume=null!==(e=null==r||null===(i=r.dataset)||void 0===i?void 0:i.volume)&&void 0!==e?e:1);t._updateLocalStorage("player-volume-info",{volume:n.volume,muted:n.muted}),t.setState({isMuteFeedbackHidden:!0})}),500),t.setState({isMuteFeedbackHidden:!1}))})),S(w(t),"_togglePlayPause",(function(){var e=t.props.player,n=e&&e.getMediaElement();n&&t.props.config.togglePlayPauseEnabled&&(t._debounce((function(){E=0,n.paused||n.ended?n.play():n.pause(),t.setState({isPlayPauseFeedbackHidden:!0})}),500),t.setState({isPlayPauseFeedbackHidden:!1}))})),S(w(t),"_toggleFullscreen",(function(){var e=t.props.player,n=e&&e.getMediaElement();t.props.config.toggleFullscreenEnabled&&(t._debounce((function(){E=0,n&&(t.isFullscreen()?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():n.parentNode.requestFullscreen?n.parentNode.requestFullscreen():n.parentNode.mozRequestFullScreen?n.parentNode.mozRequestFullScreen():n.parentNode.webkitRequestFullscreen?n.parentNode.webkitRequestFullscreen():n.parentNode.msRequestFullscreen&&n.parentNode.msRequestFullscreen()),t.setState({isfullscreenFeedbackHidden:!0})}),500),t.setState({isfullscreenFeedbackHidden:!1}))})),S(w(t),"isFullscreen",(function(){return null!=document.fullscreenElement})),S(w(t),"_updateQuality",(function(e){var n=t.props.player,r=t.state.qualities.map((function(n,r){return n.id===e?(t._setQuality(e),h(h({},n),{},{active:!0})):h(h({},n),{},{active:!1})}));n&&(t._toggleQualityPopup(),t.setState({qualities:r}))})),S(w(t),"_toggleQualityPopup",(function(){var e=t._getElementById("vpcc-quality"),n=a()(e,"children[0]","");n&&(n.style.display="grid"===n.style.display?"none":"grid");var r=t._getElementById("vpcc-subtitle"),i=a()(r,"children[0]","");i&&(i.style.display="none")})),S(w(t),"_updateSubtitle",(function(e){var n=t.props.player,r=t.state.subtitles.map((function(n){return n.id===e&&t._setSubtitle(n.id),h(h({},n),{},{active:n.id===e})}));n&&(t._toggleSubtitlePopup(),t.setState({subtitles:r}))})),S(w(t),"_toggleSubtitlePopup",(function(){var e=t._getElementById("vpcc-subtitle"),n=a()(e,"children[0]","");n&&(n.style.display="grid"===n.style.display?"none":"grid");var r=t._getElementById("vpcc-quality"),i=a()(r,"children[0]","");i&&(i.style.display="none")})),S(w(t),"_seekToLive",(function(){var e=t.props.player;if(e){var n=e&&e.getMediaElement();n&&(n.currentTime=e.seekRange().end)}})),S(w(t),"_seekTo",(function(e){var n=t.props.player,r=n&&n.isLive();if(n&&!r){var i=n&&n.getMediaElement();i&&t.props.config.seekBarEnabled&&(i.pause(),t._debounce((function(){i.currentTime+E*e<0?i.currentTime=0:i.currentTime+E*e>i.duration?i.currentTime=i.duration:i.currentTime+=E*e,E=0,i.play(),t.setState({isSkipFeedbackHidden:!0,skippedDuration:0})}),500),t.setState({isSkipFeedbackHidden:!1,skippedDuration:E*e}))}})),S(w(t),"_debounce",(function(t){clearTimeout(x),t&&(E+=1,x=setTimeout(t,500))})),S(w(t),"_skipVideo",(function(t){t&&t.id&&window&&(window.globalHistory?window.globalHistory.push("/watch?v=".concat(t.id,"&autoplay=1")):window.location.href="/watch?v=".concat(t.id,"&autoplay=1"))})),S(w(t),"renderFeedback",(function(){var e=t.props.player,n=e&&e.getMediaElement(),r=a()(n,"paused",!1),o=a()(n,"muted",!1),s=t.state,u=s.isMuteFeedbackHidden,l=s.isPlayPauseFeedbackHidden,f=s.isSkipFeedbackHidden,h=s.skippedDuration,d=s.isfullscreenFeedbackHidden;return i.a.createElement(c.b,{onClick:t.handleFeedbackOnClick},!f&&i.a.createElement("button",null,h>0?"+".concat(h,"s"):"".concat(h,"s")),!l&&i.a.createElement("button",null,r?"PLAY":"PAUSE"),!u&&i.a.createElement("button",null,o?"UNMUTE":"MUTED"),!d&&i.a.createElement("button",{className:"square"},t.isFullscreen()?"EXIT FULLSCREEN":"ENTER FULLSCREEN"))})),S(w(t),"renderCue",(function(){var e=t.state.cue,n=a()(t.props,"isPreroll",!1),r=a()(t.props,"isHover",!1);return i.a.createElement(i.a.Fragment,null,!e.hidden&&e.text&&!n&&i.a.createElement(c.a,{className:"".concat(r?"":"hide")},i.a.createElement(u.a,{source:e.text.replace(/-/g,"—"),escapeHtml:!1})))})),t}return n=l,(r=[{key:"componentDidMount",value:function(){var e=this.props.player;t.env.BROWSER&&e&&(this.handleQualityFilter(),this.handleSubtitleFilter(),this.initEventListeners(e),this.handleKeyboardEvent())}},{key:"componentWillUnmount",value:function(){this.props.config.keyboardShortcutsEnabled&&(document.onkeyup=null)}},{key:"render",value:function(){var t=this,e=this.props.player,n=a()(this.props,"isPreroll",!1),r=e&&e.isLive(),o=e&&e.getMediaElement(),s=a()(o,"paused",!1),u=isFinite(a()(o,"duration",0))?a()(o,"duration",0):0,l=isFinite(a()(o,"currentTime",0))?a()(o,"currentTime",0):0,f=a()(o,"volume",0),h=a()(o,"muted",!1),d=this.state,p=d.bufferedPercentage,m=d.qualities,g=d.subtitles,y=r?"100%":"".concat(l/u*100,"%"),b="".concat(l/u*100,"%"),v=r&&n||!r,w=this.props.recommendation;return i.a.createElement(i.a.Fragment,null,this.renderFeedback(),this.renderCue(),i.a.createElement("div",{id:"vpcc-custom-controller-".concat(this.props.id),refs:function(e){return t.rootController=e},className:"".concat(c.e," ").concat(this.props.isHover?"":"hide")},i.a.createElement("div",{className:"duration"},r&&!n&&i.a.createElement("p",{className:"live_text",onClick:this._seekToLive},"LIVE"),r&&!n&&i.a.createElement("span",{onClick:this._seekToLive,className:"live_indicator"},i.a.createElement("div",{className:"live_indicator_beckground"})),v&&this._formatTime(u-l)),i.a.createElement("div",{className:"progress"},i.a.createElement("div",{className:"progress_wrapper"},i.a.createElement("div",{className:"progressbar_progress",style:{width:n?b:y}}),i.a.createElement("div",{className:"progressbar_progress_buffer",style:{width:"".concat(n?0:p,"%")}}),i.a.createElement("div",{className:"progressbar_progress_background"}),i.a.createElement("input",{className:"seek",id:"vpcc-seek",value:l,min:"0",max:u,type:"range",step:"0.01",onChange:this._updateSeekValue}),!r&&!n&&i.a.createElement("div",{className:"tooltip",id:"vpcc-seek-tooltip"},"00:00"))),i.a.createElement("div",{className:"bottom_left_section"},i.a.createElement(c.c,{className:"".concat(s?"playIcon":"pauseIcon"," ").concat(this.props.config.togglePlayPauseEnabled?"":"disabled"),onClick:this._togglePlayPause},i.a.createElement("div",{className:"tooltip withTooltip"},s?"Play":"Pause"," (p)")),!r&&!n&&i.a.createElement(i.a.Fragment,null,i.a.createElement(c.c,{className:"forwardIcon ".concat(this.props.config.seekBarEnabled?"":"disabled"),onClick:function(){return t._seekTo(10)}},i.a.createElement("div",{className:"tooltip withTooltip"},"Forward (⭢)")),i.a.createElement(c.c,{className:"backwardIcon ".concat(this.props.config.seekBarEnabled?"":"disabled"),onClick:function(){return t._seekTo(-10)}},i.a.createElement("div",{className:"tooltip withTooltip"},"Backward (⭠)"))),w&&!n&&i.a.createElement(c.c,{className:"upcommingIcon",onClick:function(){return t._skipVideo(w)}},i.a.createElement("div",{className:"tooltip withTooltip"},"Skip To Next Video")),i.a.createElement("div",{className:"volume"},i.a.createElement(c.c,{id:"volume-button",className:"".concat(h||0==f?"mutedIcon":"muteIcon"," ").concat(this.props.config.toggleMuteEnabled?"":"disabled"),onClick:this._toggleMute},i.a.createElement("div",{className:"tooltip withTooltip"},h?"Unmute":"Mute"," (m)")),this.props.config.volumeBarEnabled&&i.a.createElement("div",{className:"progress"},i.a.createElement("div",{className:"progress_wrapper"},i.a.createElement("div",{className:"progressbar_progress",style:{width:"".concat(100*f,"%")}},i.a.createElement("span",{className:"progressbar_dot",style:{opacity:l/u==0?0:1}})),i.a.createElement("div",{className:"progressbar_progress_background"}),i.a.createElement(c.d,null,i.a.createElement("input",{className:"slider seek",id:"vpcc-volume",value:f,type:"range",max:"1",min:"0",step:"0.01",onChange:this._updateVolume})))))),i.a.createElement("div",{className:"bottom_right_section"},!n&&m.length>1&&i.a.createElement(c.c,{id:"vpcc-quality",className:"gearIcon",onClick:this._toggleQualityPopup},i.a.createElement("div",{className:"quality_popup"},i.a.createElement("div",{className:"quality_title"},"Qualities"),m.map((function(e){return i.a.createElement("div",{className:"quality_list ".concat(e.active?"active":""),onClick:function(){return t._updateQuality(e.id)}},e.active&&i.a.createElement("div",{className:"quality_tick_wrapper"},i.a.createElement(c.c,{className:"tickIcon",onClick:t._toggleQualityPopup})),e.height)})))),!n&&g.length>1&&i.a.createElement(c.c,{id:"vpcc-subtitle",className:"chatIcon",onClick:this._toggleSubtitlePopup},i.a.createElement("div",{className:"subtitle_popup"},i.a.createElement("div",{className:"subtitle_title"},"Subtitles"),g.map((function(e){return i.a.createElement(i.a.Fragment,null,e.name&&i.a.createElement("div",{className:"subtitle_list ".concat(e.active?"active":""),onClick:function(){return t._updateSubtitle(e.id)}},e.active&&i.a.createElement("div",{className:"subtitle_tick_wrapper"},i.a.createElement(c.c,{className:"tickIcon",onClick:t._toggleSubtitlePopup})),e.name))})))),i.a.createElement(c.c,{id:"vpcc-fullscreen",className:"".concat(this.isFullscreen()?"exitFullscreenIcon":"enterFullscreenIcon"," ").concat(this.props.config.toggleFullscreenEnabled?"":"disabled"),onClick:this._toggleFullscreen},i.a.createElement("div",{className:"tooltip withTooltip"},this.isFullscreen()?"Exit Fullscreen":"Enter Fullscreen"," (f)")))))}}])&&g(n.prototype,r),o&&g(n,o),l}(r.Component);e.a=M}).call(this,n(11))},function(t,e,n){"use strict";function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i=n(13),o=n(167),a=n(180),s=n(2),u=n(235),c=n(237),l=n(238),f=n(239),h=n(242),d=n(243),p=n(244),m=n(245),g=n(246),y=Object.keys(m),b=function(t){var e=t.source||t.children||"",n=t.parserOptions;if(t.allowedTypes&&t.disallowedTypes)throw new Error("Only one of `allowedTypes` and `disallowedTypes` should be defined");var r=i(m,t.renderers),s=[[a,n]].concat(t.plugins||[]).reduce(v,o()),p=s.parse(e),b=i(t,{renderers:r,definitions:d(p)}),w=function(t){var e=[h,u()],n=t.disallowedTypes;t.allowedTypes&&(n=y.filter((function(e){return"root"!==e&&-1===t.allowedTypes.indexOf(e)})));var r=t.unwrapDisallowed?"unwrap":"remove";n&&n.length>0&&e.push(l.ofType(n,r));t.allowNode&&e.push(l.ifNotMatch(t.allowNode,r));var i=!t.escapeHtml&&!t.skipHtml,o=(t.astPlugins||[]).some((function(t){return(Array.isArray(t)?t[0]:t).identity===g.HtmlParser}));i&&!o&&e.push(c);return t.astPlugins?e.concat(t.astPlugins):e}(t),T=s.runSync(p),S=w.reduce((function(t,e){return e(t,b)}),T);return f(S,b)};function v(t,e){return Array.isArray(e)?t.use.apply(t,r(e)):t.use(e)}b.defaultProps={renderers:{},escapeHtml:!0,skipHtml:!1,sourcePos:!1,rawSourcePos:!1,transformLinkUri:p,astPlugins:[],plugins:[],parserOptions:{}},b.propTypes={className:s.string,source:s.string,children:s.string,sourcePos:s.bool,rawSourcePos:s.bool,escapeHtml:s.bool,skipHtml:s.bool,allowNode:s.func,allowedTypes:s.arrayOf(s.oneOf(y)),disallowedTypes:s.arrayOf(s.oneOf(y)),transformLinkUri:s.oneOfType([s.func,s.bool]),linkTarget:s.oneOfType([s.func,s.string]),transformImageUri:s.func,astPlugins:s.arrayOf(s.func),unwrapDisallowed:s.bool,renderers:s.object,plugins:s.array,parserOptions:s.object},b.types=y,b.renderers=m,b.uriTransformer=p,t.exports=b},function(t,e,n){"use strict";function r(t){if(!isNaN(t))return t;const e=t.match(/^(?:(\d{2,}):)?(\d{2}):(\d{2})[,.](\d{3})$/);if(!e)throw new Error('Invalid SRT or VTT time format: "'+t+'"');return(e[1]?36e5*parseInt(e[1],10):0)+6e4*parseInt(e[2],10)+1e3*parseInt(e[3],10)+parseInt(e[4],10)}n.d(e,"a",(function(){return o}));n(10);const i=/^((?:\d{2,}:)?\d{2}:\d{2}[,.]\d{3}) --> ((?:\d{2,}:)?\d{2}:\d{2}[,.]\d{3})(?: (.*))?$/;function o(t){if(!t)return[];const e=t.trim().concat("\n").replace(/\r\n/g,"\n").replace(/\n{3,}/g,"\n\n").replace(/^WEBVTT.*\n(?:.*: .*\n)*\n/,"").split("\n");return e.reduce((t,n,o)=>{const a=t[t.length-1];if(!a.index&&/^\d+$/.test(n))return a.index=parseInt(n,10),t;if(!a.hasOwnProperty("start")){const e=function(t){const e=i.exec(t);if(e){const t={start:r(e[1]),end:r(e[2])};return e[3]&&(t.settings=e[3]),t}}(n);return e?Object.assign(a,e):t.length>1&&(t[t.length-2].text+="\n"+n),t}return""===n?(delete a.index,o!==e.length-1&&t.push({})):a.text=a.text?a.text+"\n"+n:n,t},[{}])}},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=n(85).a,u=n(3);function c(){var t=function(t,e){e||(e=t.slice(0));return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["{\n  span {\n    color: #fff;\n    font-weight: bold;\n    display: inline-block;\n    vertical-align: middle;\n    padding-left: 0.5rem;\n  }\n\n  .animationContainer {\n    display: inline-block;\n    vertical-align: middle;\n    position: relative;\n    width: 2rem;\n    height: 2rem;\n  }\n  \n  .animationContainer svg {\n    position: absolute;\n  }\n  \n  .animationContainer i {\n    background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiIgdmlld0JveD0iMCAwIDIyIDIyIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDojMmM1NmZmO30uYntmaWxsOiNmZmY7fTwvc3R5bGU+PC9kZWZzPjxjaXJjbGUgY2xhc3M9ImEiIGN4PSIxMSIgY3k9IjExIiByPSIxMSIvPjxwYXRoIGNsYXNzPSJiIiBkPSJNMjkuNDc3LDI2LjI4MSwyMi43NDMsMjIuNTRhMS4xMzQsMS4xMzQsMCwwLDAtMS42ODQuOTkydjcuNDgyQTEuMTM0LDEuMTM0LDAsMCwwLDIyLjc0MywzMmw2LjczMy0zLjc0MUExLjEzNCwxLjEzNCwwLDAsMCwyOS40NzcsMjYuMjgxWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEzLjA1OSAtMTYuMzk2KSIvPjwvc3ZnPg==');\n    background-repeat: no-repeat;\n    background-size: contain;\n    display: inline-block;\n    width: 1.6rem;\n    height: 1.6rem;\n    vertical-align: middle;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n  }\n  \n  .timeCount {\n    transition: all 1s linear;\n    stroke-linecap: round;\n  }\n  \n  @media screen and (max-width: 640px) {\n    .animationContainer {\n      width: 16px;\n      height: 16px;\n    }\n  \n    .animationContainer i {\n      width: 12px;\n      height: 12px;\n    }\n  }\n}"]);return c=function(){return t},t}var l=Object(u.a)(c());function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b(t);if(e){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=2*Math.PI*49,T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(a,t);var e,n,r,o=m(a);function a(){var t;h(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return v(y(t=o.call.apply(o,[this].concat(n))),"state",{seconds:t.props.startSecond,radius:w,durationLeftState:"",increment:100/t.props.startSecond,percent:100/t.props.startSecond}),t}return e=a,(n=[{key:"tick",value:function(){var t=this.state,e=t.seconds,n=t.percent,r=t.increment;if(e<=0)this.setState({radius:0}),this.props.onTimeFinish&&this.props.onTimeFinish(),clearInterval(this.interval);else{var i=w-n/100*w;this.setState((function(t){return{seconds:t.seconds-1,percent:t.percent+r,radius:i}}))}}},{key:"componentDidMount",value:function(){var t=this;this.interval=setInterval((function(){return t.tick()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var t=this.props.isMobile,e=t?"0 1 120 120":"-5 3 120 120",n=t?"16.5":"2.2rem";return i.a.createElement("div",{className:l},i.a.createElement("div",{className:"animationContainer"},i.a.createElement("svg",{width:n,height:n,viewBox:e,style:{transform:"rotate(-90deg)"}},i.a.createElement("circle",{r:49,cy:"58",cx:"60",strokeWidth:"12",stroke:"#486CFF",fill:"none"}),i.a.createElement("circle",{className:"timeCount".concat(" circle_animation"),r:49,cy:"58",cx:"60",strokeWidth:"12",stroke:"#FFFFFF",fill:"none",strokeDasharray:w,strokeDashoffset:this.state.radius})),i.a.createElement("i",null)),i.a.createElement("span",null,"Play next movie in ",this.state.seconds))}}])&&d(e.prototype,n),r&&d(e,r),a}(r.Component),S=function(t){var e=document.getElementsByClassName(t);[].forEach.call(e,(function(t){for(var e=t.innerHTML.split(" ");t.scrollHeight>t.offsetHeight;){if(!(e.length>1))return;e.pop(),t.innerHTML="".concat(e.join(" "),"...")}}))};function x(){var t=function(t,e){e||(e=t.slice(0));return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n   {\n    position: relative;\n    height: calc(100% - 10em);\n    bottom: 0;\n    left: 50%;\n    transform: translateX(-50%);\n    display: block;\n    pointer-events: none;\n    z-index: 103;\n\n    .container {\n      position: absolute;\n      display: block;\n      bottom: 0;\n      right: 2rem;\n      width: 35rem;\n      height: 15.3rem;\n      max-height: 15.3rem;\n      max-width: 35rem;\n      background-color: #1f1f1f;\n      pointer-events: auto;\n    }\n\n    .poster {\n      height: 100%;\n      width: 25%;\n      float: left;\n      display: block;\n    }\n\n    .poster img,\n    .poster div {\n      height: 100%;\n    }\n\n    .content {\n      position: relative;\n      width: 75%;\n      height: 100%;\n      float: right;\n      display: block;\n      padding: 1.4rem 1rem 1rem 1rem;\n      box-sizing: border-box;\n    }\n\n    .title {\n      position: relative;\n      height: 70%;\n      font-size: 1.8rem;\n      line-height: 1.2;\n      font-weight: bold;\n      margin-bottom: 0.5rem;\n      max-height: 4.4rem;\n    }\n\n    .title p {\n      height: 100%;\n      overflow: hidden;\n    }\n\n    .desc {\n      position: relative;\n      height: 40%;\n      font-size: 1.2rem;\n      line-height: 1.3;\n      color: #969696;\n      padding-top: 0.5rem;\n    }\n\n    .desc p {\n      height: 70%;\n      overflow: hidden;\n    }\n\n    .link {\n      display: flex;\n      align-items: flex-end;\n      justify-content: space-between;\n      font-size: 1.2rem;\n      padding-top: 0.5rem;\n      vertical-align: middle;\n      height: 25%;\n      width: calc(100% - 2rem);\n      bottom: 1rem;\n      position: absolute;\n    }\n\n    .play {\n      background-color: rgba(44, 86, 255, 0.8);\n      border-radius: 0.3rem;\n      padding: 0.3rem 0.5rem 0.4rem 1rem;\n      width: 100%;\n      transition: all 0.3s ease-in;\n    }\n\n    .play:hover {\n      background-color: rgba(44, 86, 255, 1);\n      cursor: pointer;\n    }\n\n    .close {\n      color: #808080;\n      border: 1px solid #808080;\n      margin-left: 1rem;\n      border-radius: 0.3rem;\n      vertical-align: middle;\n      padding: 0.6rem;\n      text-align: center;\n      width: 30%;\n      transition: all 0.3s ease-in;\n    }\n\n    .close:hover {\n      color: #fff;\n      cursor: pointer;\n    }\n\n    @media screen and (max-width: 640px) {\n      .container {\n        bottom: 0;\n        right: 0;\n        width: calc(100% - 10px);\n        height: calc(100% - 60px);\n        margin: 0 5px;\n        max-height: 153px;\n        max-width: 350px;\n      }\n\n      .poster {\n        height: 65.25%;\n        width: 50%;\n      }\n\n      .content {\n        width: 50%;\n        height: 65.25%;\n        padding: 10px;\n      }\n\n      .title {\n        font-size: 12px;\n        max-height: 30px;\n      }\n\n      .title p {\n        height: 100%;\n      }\n\n      .desc {\n        font-size: 11px;\n        height: 33px;\n        padding-top: 3px;\n      }\n\n      .desc p {\n        height: 100%;\n      }\n\n      .link {\n        font-size: 11px;\n        align-items: center;\n        height: 34.75%;\n        padding: 0;\n        position: relative;\n        width: 100%;\n        bottom: 0;\n      }\n\n      .play {\n        width: 50%;\n        margin-left: 5px;\n        padding: 5px 5px 5px 8px;\n      }\n\n      .play:hover {\n        cursor: pointer;\n      }\n\n      .close {\n        text-align: center;\n        width: calc(50% - 5px);\n        margin: 0 5px;\n        border-radius: 3px;\n        padding: 6.5px;\n      }\n    }\n\n    @media screen and (max-width: 320px) {\n      .container {\n        height: calc(100% - 60px);\n        max-height: 153px;\n        max-width: 350px;\n      }\n\n      .title {\n        height: 25px;\n      }\n\n      .link {\n        font-size: 9px;\n      }\n\n      .play {\n        padding: 3.5px 4px 3.5px 8px;\n      }\n    }\n  }\n"]);return x=function(){return t},t}var E=Object(u.a)(x());function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function N(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=C(t);if(e){var i=C(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return L(this,n)}}function L(t,e){return!e||"object"!==M(e)&&"function"!=typeof e?D(t):e}function D(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(u,t);var e,n,r,o=N(u);function u(){var t;I(this,u);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return O(D(t=o.call.apply(o,[this].concat(n))),"state",{adsHeight:0,adsWidth:0,isFullscreenMobile:!1}),O(D(t),"cancelUpcVideo",(function(e){t.props.handleCancelVideo&&t.props.handleCancelVideo(),e.preventDefault()})),O(D(t),"redirectToNextVideo",(function(t){window&&(window.globalHistory?window.globalHistory.push("/watch?v=".concat(t,"&autoplay=1")):window.location.href="/watch?v=".concat(t,"&autoplay=1"))})),t}return e=u,(n=[{key:"componentDidMount",value:function(){S("upc-video-title"),S("upc-video-desc")}},{key:"render",value:function(){var t=this,e=this.props,n=e.data,r=e.isMobile,o=void 0!==r&&r,u=e.startInterval,c=void 0===u?20:u,l=this.state,f=l.adsWidth,h=(l.adsHeight,l.isFullscreenMobile),d=f?"".concat(f,"px"):"100%",p=o&&!h?{}:{bottom:"0"},m=a()(n,"images.cover[".concat(o?"landscape":"portrait"),"");return i.a.createElement("div",{className:E,style:{width:d}},i.a.createElement("div",{className:"container",style:p},i.a.createElement("div",{className:"poster"},i.a.createElement(s,{src:m})),i.a.createElement("div",{className:"content"},i.a.createElement("div",{className:"title"},i.a.createElement("p",{className:"upc-video-title"},n.title)),i.a.createElement("div",{className:"desc"},i.a.createElement("p",{className:"upc-video-desc"},n.shortDescription)),!o&&i.a.createElement("div",{className:"link"},i.a.createElement("a",{className:"play",onClick:function(){return t.redirectToNextVideo(n.id)}},i.a.createElement(T,{startSecond:c,onTimeFinish:function(){return t.redirectToNextVideo(n.id)}})),i.a.createElement("a",{className:"close",onClick:this.cancelUpcVideo},"Close"))),o&&i.a.createElement("div",{className:"link"},i.a.createElement("a",{className:"play",onClick:function(){return t.redirectToNextVideo(n.id)}},i.a.createElement(T,{isMobile:o,startSecond:c,onTimeFinish:function(){return t.redirectToNextVideo(n.id)}})),i.a.createElement("a",{className:"close",onClick:this.cancelUpcVideo},"Close"))))}}])&&A(e.prototype,n),r&&A(e,r),u}(r.Component);e.a=_},function(t,e,n){"use strict";var r=n(30),i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var o=function(t){for(var e,n=t.length,r=n^n,i=0;n>=4;)e=1540483477*(65535&(e=255&t.charCodeAt(i)|(255&t.charCodeAt(++i))<<8|(255&t.charCodeAt(++i))<<16|(255&t.charCodeAt(++i))<<24))+((1540483477*(e>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(e=1540483477*(65535&(e^=e>>>24))+((1540483477*(e>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:r^=(255&t.charCodeAt(i+2))<<16;case 2:r^=(255&t.charCodeAt(i+1))<<8;case 1:r=1540483477*(65535&(r^=255&t.charCodeAt(i)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),((r^=r>>>15)>>>0).toString(36)};var a=function(t){function e(t,e,r){var i=e.trim().split(p);e=i;var o=i.length,a=t.length;switch(a){case 0:case 1:var s=0;for(t=0===a?"":t[0]+" ";s<o;++s)e[s]=n(t,e[s],r).trim();break;default:var u=s=0;for(e=[];s<o;++s)for(var c=0;c<a;++c)e[u++]=n(t[c]+" ",i[s],r).trim()}return e}function n(t,e,n){var r=e.charCodeAt(0);switch(33>r&&(r=(e=e.trim()).charCodeAt(0)),r){case 38:return e.replace(m,"$1"+t.trim());case 58:return t.trim()+e.replace(m,"$1"+t.trim());default:if(0<1*n&&0<e.indexOf("\f"))return e.replace(m,(58===t.charCodeAt(0)?"":"$1")+t.trim())}return t+e}function r(t,e,n,o){var a=t+";",s=2*e+3*n+4*o;if(944===s){t=a.indexOf(":",9)+1;var u=a.substring(t,a.length-1).trim();return u=a.substring(0,t).trim()+u+";",1===N||2===N&&i(u,1)?"-webkit-"+u+u:u}if(0===N||2===N&&!i(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(M,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return h.test(a)?a.replace(f,":-webkit-")+a.replace(f,":-moz-")+a:a;case 1e3:switch(e=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(e)){case 226:u=a.replace(v,"tb");break;case 232:u=a.replace(v,"tb-rl");break;case 220:u=a.replace(v,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(e=(a=t).length-10,s=(u=(33===a.charCodeAt(e)?a.substring(0,e):a).substring(t.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(S,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(S,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===E.test(t))return 115===(u=t.substring(t.indexOf(":")+1)).charCodeAt(0)?r(t.replace("stretch","fill-available"),e,n,o).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+o&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(d,"$1-webkit-$2")+a}return a}function i(t,e){var n=t.indexOf(1===e?":":"{"),r=t.substring(0,3!==e?n:10);return n=t.substring(n+1,t.length-1),O(2!==e?r:r.replace(x,"$1"),n,e)}function o(t,e){var n=r(e,e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2));return n!==e+";"?n.replace(T," or ($1)").substring(4):"("+e+")"}function a(t,e,n,r,i,o,a,s,c,l){for(var f,h=0,d=e;h<C;++h)switch(f=D[h].call(u,t,d,n,r,i,o,a,s,c,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==e)return d}function s(t){return void 0!==(t=t.prefix)&&(O=null,t?"function"!=typeof t?N=1:(N=2,O=t):N=0),s}function u(t,n){var s=t;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<C){var u=a(-1,n,s,s,A,I,0,0,0,0);void 0!==u&&"string"==typeof u&&(n=u)}var f=function t(n,s,u,f,h){for(var d,p,m,v,T,S=0,x=0,E=0,M=0,D=0,O=0,P=m=d=0,j=0,R=0,U=0,z=0,B=u.length,F=B-1,Y="",G="",H="",W="";j<B;){if(p=u.charCodeAt(j),j===F&&0!==x+M+E+S&&(0!==x&&(p=47===x?10:47),M=E=S=0,B++,F++),0===x+M+E+S){if(j===F&&(0<R&&(Y=Y.replace(l,"")),0<Y.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:Y+=u.charAt(j)}p=59}switch(p){case 123:for(d=(Y=Y.trim()).charCodeAt(0),m=1,z=++j;j<B;){switch(p=u.charCodeAt(j)){case 123:m++;break;case 125:m--;break;case 47:switch(p=u.charCodeAt(j+1)){case 42:case 47:t:{for(P=j+1;P<F;++P)switch(u.charCodeAt(P)){case 47:if(42===p&&42===u.charCodeAt(P-1)&&j+2!==P){j=P+1;break t}break;case 10:if(47===p){j=P+1;break t}}j=P}}break;case 91:p++;case 40:p++;case 34:case 39:for(;j++<F&&u.charCodeAt(j)!==p;);}if(0===m)break;j++}switch(m=u.substring(z,j),0===d&&(d=(Y=Y.replace(c,"").trim()).charCodeAt(0)),d){case 64:switch(0<R&&(Y=Y.replace(l,"")),p=Y.charCodeAt(1)){case 100:case 109:case 115:case 45:R=s;break;default:R=L}if(z=(m=t(s,R,m,p,h+1)).length,0<C&&(T=a(3,m,R=e(L,Y,U),s,A,I,z,p,h,f),Y=R.join(""),void 0!==T&&0===(z=(m=T.trim()).length)&&(p=0,m="")),0<z)switch(p){case 115:Y=Y.replace(w,o);case 100:case 109:case 45:m=Y+"{"+m+"}";break;case 107:m=(Y=Y.replace(g,"$1 $2"))+"{"+m+"}",m=1===N||2===N&&i("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=Y+m,112===f&&(G+=m,m="")}else m="";break;default:m=t(s,e(s,Y,U),m,f,h+1)}H+=m,m=U=R=P=d=0,Y="",p=u.charCodeAt(++j);break;case 125:case 59:if(1<(z=(Y=(0<R?Y.replace(l,""):Y).trim()).length))switch(0===P&&(d=Y.charCodeAt(0),45===d||96<d&&123>d)&&(z=(Y=Y.replace(" ",":")).length),0<C&&void 0!==(T=a(1,Y,s,n,A,I,G.length,f,h,f))&&0===(z=(Y=T.trim()).length)&&(Y="\0\0"),d=Y.charCodeAt(0),p=Y.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){W+=Y+u.charAt(j);break}default:58!==Y.charCodeAt(z-1)&&(G+=r(Y,d,p,Y.charCodeAt(2)))}U=R=P=d=0,Y="",p=u.charCodeAt(++j)}}switch(p){case 13:case 10:47===x?x=0:0===1+d&&107!==f&&0<Y.length&&(R=1,Y+="\0"),0<C*_&&a(0,Y,s,n,A,I,G.length,f,h,f),I=1,A++;break;case 59:case 125:if(0===x+M+E+S){I++;break}default:switch(I++,v=u.charAt(j),p){case 9:case 32:if(0===M+S+x)switch(D){case 44:case 58:case 9:case 32:v="";break;default:32!==p&&(v=" ")}break;case 0:v="\\0";break;case 12:v="\\f";break;case 11:v="\\v";break;case 38:0===M+x+S&&(R=U=1,v="\f"+v);break;case 108:if(0===M+x+S+k&&0<P)switch(j-P){case 2:112===D&&58===u.charCodeAt(j-3)&&(k=D);case 8:111===O&&(k=O)}break;case 58:0===M+x+S&&(P=j);break;case 44:0===x+E+M+S&&(R=1,v+="\r");break;case 34:case 39:0===x&&(M=M===p?0:0===M?p:M);break;case 91:0===M+x+E&&S++;break;case 93:0===M+x+E&&S--;break;case 41:0===M+x+S&&E--;break;case 40:if(0===M+x+S){if(0===d)switch(2*D+3*O){case 533:break;default:d=1}E++}break;case 64:0===x+E+M+S+P+m&&(m=1);break;case 42:case 47:if(!(0<M+S+E))switch(x){case 0:switch(2*p+3*u.charCodeAt(j+1)){case 235:x=47;break;case 220:z=j,x=42}break;case 42:47===p&&42===D&&z+2!==j&&(33===u.charCodeAt(z+2)&&(G+=u.substring(z,j+1)),v="",x=0)}}0===x&&(Y+=v)}O=D,D=p,j++}if(0<(z=G.length)){if(R=s,0<C&&(void 0!==(T=a(2,G,R,n,A,I,z,f,h,f))&&0===(G=T).length))return W+G+H;if(G=R.join(",")+"{"+G+"}",0!=N*k){switch(2!==N||i(G,2)||(k=0),k){case 111:G=G.replace(b,":-moz-$1")+G;break;case 112:G=G.replace(y,"::-webkit-input-$1")+G.replace(y,"::-moz-$1")+G.replace(y,":-ms-input-$1")+G}k=0}}return W+G+H}(L,s,n,0,0);return 0<C&&(void 0!==(u=a(-2,f,s,s,A,I,f.length,0,0,0))&&(f=u)),"",k=0,I=A=1,f}var c=/^\0+/g,l=/[\0\r\f]/g,f=/: */g,h=/zoo|gra/,d=/([,: ])(transform)/g,p=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,v=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,T=/([\s\S]*?);/g,S=/-self|flex-/g,x=/[^]*?(:[rp][el]a[\w-]+)[^]*/,E=/stretch|:\s*\w+\-(?:conte|avail)/,M=/([^-])(image-set\()/,I=1,A=1,k=0,N=1,L=[],D=[],C=0,O=null,_=0;return u.use=function t(e){switch(e){case void 0:case null:C=D.length=0;break;default:switch(e.constructor){case Array:for(var n=0,r=e.length;n<r;++n)t(e[n]);break;case Function:D[C++]=e;break;case Boolean:_=0|!!e}}return t},u.set=s,void 0!==t&&s(t),u},s=n(86),u=n.n(s),c=/[A-Z]|^ms/g,l=Object(r.a)((function(t){return t.replace(c,"-$&").toLowerCase()})),f=function(t,e){return null==e||"boolean"==typeof e?"":1===i[t]||45===t.charCodeAt(1)||isNaN(e)||0===e?e:e+"px"},h=function t(e){for(var n=e.length,r=0,i="";r<n;r++){var o=e[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"function":0,a=t([o()]);break;case"object":if(Array.isArray(o))a=t(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i},d="undefined"!=typeof document;function p(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key||""),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),(void 0!==t.container?t.container:document.head).appendChild(e),e}var m=function(){function t(t){this.isSpeedy=!0,this.tags=[],this.ctr=0,this.opts=t}var e=t.prototype;return e.inject=function(){if(this.injected)throw new Error("already injected!");this.tags[0]=p(this.opts),this.injected=!0},e.speedy=function(t){if(0!==this.ctr)throw new Error("cannot change speedy now");this.isSpeedy=!!t},e.insert=function(t,e){if(this.isSpeedy){var n=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(this.tags[this.tags.length-1]);try{n.insertRule(t,n.cssRules.length)}catch(t){0}}else{var r=p(this.opts);this.tags.push(r),r.appendChild(document.createTextNode(t+(e||"")))}this.ctr++,this.ctr%65e3==0&&this.tags.push(p(this.opts))},e.flush=function(){this.tags.forEach((function(t){return t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0,this.injected=!1},t}();e.a=function(t,e){if(void 0!==t.__SECRET_EMOTION__)return t.__SECRET_EMOTION__;void 0===e&&(e={});var n,r,i=e.key||"css",s=u()((function(t){n+=t,d&&p.insert(t,y)}));void 0!==e.prefix&&(r={prefix:e.prefix});var c={registered:{},inserted:{},nonce:e.nonce,key:i},p=new m(e);d&&p.inject();var g=new a(r);g.use(e.stylisPlugins)(s);var y="";function b(t,e){if(null==t)return"";switch(typeof t){case"boolean":return"";case"function":if(void 0!==t.__emotion_styles){var n=t.toString();return n}return b.call(this,void 0===this?t():t(this.mergedProps,this.context),e);case"object":return S.call(this,t);default:var r=c.registered[t];return!1===e&&void 0!==r?r:t}}var v,w,T=new WeakMap;function S(t){if(T.has(t))return T.get(t);var e="";return Array.isArray(t)?t.forEach((function(t){e+=b.call(this,t,!1)}),this):Object.keys(t).forEach((function(n){"object"!=typeof t[n]?void 0!==c.registered[t[n]]?e+=n+"{"+c.registered[t[n]]+"}":e+=l(n)+":"+f(n,t[n])+";":Array.isArray(t[n])&&"string"==typeof t[n][0]&&void 0===c.registered[t[n][0]]?t[n].forEach((function(t){e+=l(n)+":"+f(n,t)+";"})):e+=n+"{"+b.call(this,t[n],!1)+"}"}),this),T.set(t,e),e}var x=/label:\s*([^\s;\n{]+)\s*;/g,E=function(t,e){return o(t+e)+e},M=function(t){var e=!0,n="",r="";null==t||void 0===t.raw?(e=!1,n+=b.call(this,t,!1)):n+=t[0];for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return o.forEach((function(r,i){n+=b.call(this,r,46===n.charCodeAt(n.length-1)),!0===e&&void 0!==t[i+1]&&(n+=t[i+1])}),this),w=n,n=n.replace(x,(function(t,e){return r+="-"+e,""})),v=E(n,r),n};function I(t,e){void 0===c.inserted[v]&&(n="",g(t,e),c.inserted[v]=n)}var A=function(){var t=M.apply(this,arguments),e=i+"-"+v;return void 0===c.registered[e]&&(c.registered[e]=w),I("."+e,t),e};function k(t,e){var n="";return e.split(" ").forEach((function(e){void 0!==c.registered[e]?t.push(e):n+=e+" "})),n}function N(t,e){var n=[],r=k(n,t);return n.length<2?t:r+A(n,e)}function L(t){c.inserted[t]=!0}if(d){var D=document.querySelectorAll("[data-emotion-"+i+"]");Array.prototype.forEach.call(D,(function(t){p.tags[0].parentNode.insertBefore(t,p.tags[0]),t.getAttribute("data-emotion-"+i).split(" ").forEach(L)}))}var C={flush:function(){d&&(p.flush(),p.inject()),c.inserted={},c.registered={}},hydrate:function(t){t.forEach(L)},cx:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return N(h(e))},merge:N,getRegisteredStyles:k,injectGlobal:function(){var t=M.apply(this,arguments);I("",t)},keyframes:function(){var t=M.apply(this,arguments),e="animation-"+v;return I("","@keyframes "+e+"{"+t+"}"),e},css:A,sheet:p,caches:c};return t.__SECRET_EMOTION__=C,C}},function(t,e,n){"use strict";n.r(e),function(t,r){var i,o=n(0),a=n.n(o),s=n(2),u=n.n(s),c=n(1),l=n.n(c),f=n(31),h=n.n(f),d=n(90),p=n(83),m=n(91),g=n(87),y=n(8);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){C(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function x(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function E(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){x(o,r,i,a,s,"next",t)}function s(t){x(o,r,i,a,s,"throw",t)}a(void 0)}))}}function M(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=D(t);if(e){var i=D(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return N(this,n)}}function N(t,e){return!e||"object"!==b(e)&&"function"!=typeof e?L(t):e}function L(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D(t){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O={id:u.a.string.isRequired,title:u.a.string,poster:u.a.string,children:u.a.node,bugLogo:u.a.object,isPlayButtonDisabled:u.a.bool,recommendation:u.a.object,playerConfig:u.a.object},_=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}(f,e);var n,o,s,u,c=k(f);function f(){var e;M(this,f);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return C(L(e=c.call.apply(c,[this].concat(r))),"state",{isHover:!1,isLoading:!0,isPlaying:!1,isError:!1,errorMsg:"",hasNextVideo:!0,hasPlayButton:!1,banner:{id:"",link:"",mediaURL:""},isPreroll:!1,ads:[],autoplayEnabled:!1}),C(L(e),"loadPlayer",(function(){t.polyfill.installAll(),t.Player.isBrowserSupported()?(e.initPlayer(),e.handleUserIdle()):(console.error("Browser not supported!"),that.onError({customMsg:"DISMISSED: Browser not supported!"}))})),C(L(e),"handleUserIdle",(function(){var t=L(e);clearInterval(i),i=setInterval((function(){document.cookie.includes("__idleSessionId")||t.setState({isHover:!1})}),1e3)})),C(L(e),"handleOnAdsImpression",(function(t){t&&fetch(t.impression,{method:"GET",mode:"no-cors",credentials:"include",headers:{Origin:"https://mst.cx"}}).then((function(t){return console.log(t.status)})).catch((function(t){return console.log("Error: ads impressions failed ",t)}))})),C(L(e),"getTimeFormatToSecond",(function(t){var e=t.split(":"),n={4:86400,3:3600,2:60,1:1};return n=n[e.length],e.reduce((function(t,e){var r=t+parseInt(e,10)*n;return n/=60,r}),0)})),C(L(e),"initPreroll",E(regeneratorRuntime.mark((function n(){var r,i,o,a,s,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(i=e.state.ads).length>0&&(o=i.map((function(t){if(!1===t.isPlayed&&e.player)if("start"===t.timeOffset){if(0==e.player.totalWatchTime)return r=t,S(S({},t),{},{isPlayed:!0})}else if(e.getTimeFormatToSecond(t.timeOffset)==e.player.totalWatchTime)return r=t,S(S({},t),{},{isPlayed:!0});return t})),r&&(a={manifestUri:r.mediafile,startTime:0},e.player?(e.handleInitPlayer(e.player,a),e.player.isPreroll=!0):(s=document.getElementById("video-main-".concat(e.props.id)),(u=new t.Player(s)).isPreroll=!0,e.handleInitPlayer(u,a)),e.handleOnAdsImpression(r),e.setState({ads:o,isPreroll:!0})));case 2:case"end":return n.stop()}}),n)})))),C(L(e),"initPlayer",E(regeneratorRuntime.mark((function n(){var r,i,o,a,s,u,c,f,h,d,p,m,g,y,b,v;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=l()(e.props,"drm",""),i=l()(e.props,"streamSourceUrl",""),o=l()(e.player,"totalWatchTime",0),a=Number(l()(e.props,"watchTimePosition",0)),s=document.getElementById("video-main-".concat(e.props.id)),u=e.player||new t.Player(s),0===o&&a>0&&(o=a),c=/.*Version.*Safari.*/.test(navigator.userAgent),f=o>0&&!isNaN(o)?o:0,!r||!r.drmEnabled){n.next=28;break}if(h=c?r.fairplay.streamUrl:r.widevine.streamUrl,d=h||e.props.streamSourceUrl,p=e.props.deviceId,c){n.next=15;break}m={manifestUri:d,drm:{servers:{"com.widevine.alpha":"".concat(r.widevine.licenseUrl,"?deviceId=").concat(p),"com.microsoft.playready":"".concat(r.playready.licenseUrl,"?deviceId=").concat(p),"com.apple.fps.1_0":"".concat(r.fairplay.licenseUrl,"?deviceId=").concat(p)}},startTime:f},e.handleInitPlayer(u,m),n.next=26;break;case 15:return n.next=17,fetch(r.fairplay.certificateUrl);case 17:if((g=n.sent).ok){n.next=21;break}return console.log("Failed to retrieve fairplay certificate"),n.abrupt("return");case 21:return n.next=23,g.arrayBuffer();case 23:y=n.sent,b={manifestUri:d,drm:{servers:{"com.widevine.alpha":"".concat(r.widevine.licenseUrl,"?deviceId=").concat(p),"com.microsoft.playready":"".concat(r.playready.licenseUrl,"?deviceId=").concat(p),"com.apple.fps.1_0":"".concat(r.fairplay.licenseUrl,"?deviceId=").concat(p)},advanced:{"com.apple.fps.1_0":{serverCertificate:new Uint8Array(y)}}},startTime:f},e.handleInitPlayer(u,b);case 26:n.next=29;break;case 28:""!==i?(v={manifestUri:i,startTime:f},e.handleInitPlayer(u,v)):console.log("Stream source not found");case 29:return n.abrupt("return",!0);case 30:case"end":return n.stop()}}),n)})))),C(L(e),"handleInitPlayer",(function(t,n){var r=L(e),i=n.manifestUri,o=n.startTime,a={timeout:1e4,maxAttempts:2,baseDelay:1e3,backoffFactor:1,fuzzFactor:.5};delete n.manifestUri,delete n.startTime,t.getNetworkingEngine().registerResponseFilter((function(t,e){return e.headers["Access-Control-Allow-Origin"]="*",e})),t.configure(S(S({},n),{},{abr:{enabled:!1},manifest:{retryParameters:a},streaming:{retryParameters:a},availabilityWindowOverride:300}));try{t.unload().then((function(){t.load(i,o).then((function(){var e=t.getMediaElement();e.volume=r.props.volume,e.muted=r.props.muted;for(var n=0;n<e.textTracks.length;n++)e.textTracks[n].mode="hidden";console.log("player loaded"),r.setState({isLoading:!1,hasPlayButton:!0}),t.reset=function(e){e&&r.setState({isError:!0,errorMsg:e}),t.unload(),r.player=null,window["player".concat(r.props.id)]=null},r.player||(r.player=t,window["player".concat(r.props.id)]=t,r.handlePlayerEventListener(t),console.log("Player Controls loaded and ready"),r.childRefs&&(r.childRefs.addEventListener("mouseenter",r.handleOnMouseMove),r.childRefs.addEventListener("mousemove",r.handleOnMouseMove),r.childRefs.addEventListener("mouseout",r.handleOnMouseExit)))})).catch(r.onError)}))}catch(t){console.warn("Error: player load failed ",t)}})),C(L(e),"handleInitPreroll",(function(){var t=L(e);try{var n=e.props.adsSource||"";n&&h.a.get(n).then((function(t){return 200==t.status&&t.data?t.data:null})).then((function(e){e&&Object(p.a)(e).then((function(e){var n=e.map((function(t){return S(S({},t),{},{isPlayed:!1})}));n.length>0&&t.setState({ads:n})}))}))}catch(t){console.log("Error: fetch preroll API failed ",t)}})),C(L(e),"handleInitBanner",(function(){try{var t=e.props.adsBannerUrl||"";t&&h.a.get(t).then((function(t){if(200===t.status){var n=l()(t,"data.data.data[0]",{});["89","93","97","101","105","109"].includes(n.id)?e.handleInitBanner():e.setState({banner:{id:n.id,link:n.link,mediaURL:n.mediaURL}})}}))}catch(t){console.warn("Error: fetch banner API failed ",t)}})),C(L(e),"onErrorEvent",(function(t){e.onError(t.detail)})),C(L(e),"onError",(function(t){t.category;var n=t.code,r=(t.data,t.severity,t.message,e.props.errorCodes);console.error("Player error: ",t),e.props.handleVideoError&&e.props.handleVideoError(t),e.player&&e.player.reset(),e.setState({isError:!0,errorMsg:t.customMsg||"".concat(l()(r,"".concat(n),"Silahkan refresh browser anda dalam beberapa saat lagi")," ‒ ").concat(n," ")})})),C(L(e),"handlePlayerEventListener",(function(t){var n,r=L(e);n=setInterval((function(){t&&t.getLoadMode&&t.getLoadMode()>1&&clearInterval(n)}),500),t.addEventListener("error",r.onErrorEvent);var i=t&&t.getMediaElement();if(i){if(r.props.subtitles&&r.props.subtitles.length>0){var o,a=v(r.props.subtitles);try{var s=function(){var t=o.value;if(t.label&&""==t.label.trim())return{v:void 0};var e=i.addTextTrack("metadata",t.label,t.country);h.a.get(t.src).then((function(t){200==t.status&&t.data&&Object(d.a)(t.data).map((function(t){var n=new VTTCue(t.start/1e3,t.end/1e3,t.text);window.cue=n,e.addCue(n)}))})).catch((function(t){return console.log("Error: fetch subtitle failed ",t)}))};for(a.s();!(o=a.n()).done;){var u=s();if("object"===b(u))return u.v}}catch(t){a.e(t)}finally{a.f()}}var c=[],l=0,f=0;i.addEventListener("play",(function(t){r.props.handleOnPlayCallback&&r.props.handleOnPlayCallback(r.player),l||(r.player.totalWatchTime=c.length,r.props.handleVideoWatchTime&&r.props.handleVideoWatchTime(r.player),l=1),r.durationInterval=setInterval((function(){var t=r.player,e=t&&t.getMediaElement();e&&!r.state.isPreroll&&(f=Math.floor(e.currentTime),-1===c.indexOf(f)&&(c.length%30==0&&r.handleInitBanner(),r.initPreroll(),c.push(f)),r.player.levels_=t&&t.getVariantTracks(),r.player.totalWatchTime=c.length),r.props.handleVideoWatchTime&&r.props.handleVideoWatchTime(t)}),1e3)})),i.addEventListener("pause",(function(){clearInterval(r.durationInterval),r.props.handleVideoPause&&r.props.handleVideoPause(t)})),i.addEventListener("ended",(function(){clearInterval(r.durationInterval),r.props.handleVideoEnded&&r.props.handleVideoEnded(t),r.player.isPreroll&&r.setState({isPreroll:!1},(function(){r.initPlayer(),r.player.isPreroll=!1}))})),i.addEventListener("durationchange",(function(e){clearInterval(r.durationInterval),r.props.handleDurationChange&&r.props.handleDurationChange(t)})),i.addEventListener("volumechange",(function(e){r.props.handleOnVideoVolumeChange&&r.props.handleOnVideoVolumeChange(t)})),r.props.autoPlay&&r.handlePlayButton()}})),C(L(e),"handlePlayButton",(function(){if(e.props.handleOnPlayCallback&&e.props.handleOnPlayCallback(e.player),!e.props.isPlayerBlocked&&e.player){var t=e.player,n=t&&t.getMediaElement(),r=e.state.ads;n&&e.setState({isPlaying:!0,autoplayEnabled:!0},(function(){var t=r.filter((function(t){return"start"===t.timeOffset}))[0];t&&!t.isPlayed?(e.player.totalWatchTime=0,e.initPreroll()):n.play()}))}})),C(L(e),"handleSubtreeOnChange",(function(){var t=l()(document.getElementById("video-main-".concat(e.props.id)),"offsetHeight",""),n=l()(document.getElementsByClassName(y.g),"[0]","");t&&n&&(n.style.height="".concat(t,"px"),n.style.width="".concat(16*t/9,"px"))})),C(L(e),"handleOnMouseExit",(function(t){e.setState({isHover:!1})})),C(L(e),"handleOnMouseMove",(function(t){document.cookie="__idleSessionId=mola; max-age=".concat(5,"; path=/;"),e.state.isHover||e.setState({isHover:!0})})),C(L(e),"handleCancelUpcVideo",(function(t){e.setState({hasNextVideo:!1})})),C(L(e),"renderNextVideo",(function(t){if(e.player){var n=l()(e.props,"recommendation",null);return n&&t&&!e.player.isLive()?a.a.createElement(m.a,{data:n,handleCancelVideo:e.handleCancelUpcVideo,startInterval:10}):a.a.createElement("div",null)}})),C(L(e),"renderBugLogo",(function(t){var n="";return 3===t.type?n="fullscreen":2===t.type?n="wide":1===t.type&&(n="square"),a.a.createElement(y.b,{className:n},a.a.createElement("img",{id:"video-bug-logo-".concat(e.props.id),src:t.image,alt:"Bug-logo Player"}))})),e}return n=f,(o=[{key:"componentDidMount",value:(u=E(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.env.BROWSER||!window){e.next=10;break}return window["playerProps".concat(this.props.id)]=this.props,e.next=4,this.handleInitPreroll();case 4:if(!t){e.next=9;break}return e.next=7,this.loadPlayer();case 7:e.next=10;break;case 9:console.log("Shaka not found");case 10:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.durationInterval&&clearInterval(this.durationInterval),this.childRefs&&(this.childRefs.removeEventListener("mouseenter",this.handleOnMouseMove),this.childRefs.removeEventListener("mousemove",this.handleOnMouseMove),this.childRefs.removeEventListener("mouseout",this.handleOnMouseExit)),this.player&&(this.player.getNetworkingEngine().clearAllResponseFilters(),this.player=null,window["player".concat(this.props.id)]=null),clearInterval(i)}},{key:"render",value:function(){var t=this,e=this.state,n=e.isLoading,r=e.isError,i=e.isPlaying,o=e.isPreroll,s=e.errorMsg,u=e.isHover,c=e.hasNextVideo,f=e.hasPlayButton,h=e.banner,d=e.autoplayEnabled,p=this.props,m=p.id,b=(p.title,p.poster),v=p.children,w=p.isPlayButtonDisabled,T=p.recommendation,x=p.playerConfig,E=void 0===x?{}:x,M={type:l()(this.props,"bugLogo.attributes.logoType",null),image:l()(this.props,"bugLogo.attributes.imageURL",null)},I=this.player,A=I&&I.getMediaElement(),k=this.player&&!this.player.isPreroll&&this.player.isBuffering(),N=S({togglePlayPauseEnabled:!0,toggleFullscreenEnabled:!0,toggleMuteEnabled:!0,seekBarEnabled:!0,volumeBarEnabled:!0,nextVideoEnabled:!0,keyboardShortcutsEnabled:!0,preferredTextLanguage:"id"},E),L=this.player&&!this.player.isPreroll&&!this.player.isLive()&&A&&A.duration-A.currentTime<=10&&N.nextVideoEnabled;this.handleSubtreeOnChange();var D=l()(document.getElementById("video-context-".concat(m)),"offsetHeight",0)-l()(document.getElementById("video-banner-".concat(m)),"height",0),C=document&&document.fullscreenElement;return a.a.createElement("div",{ref:function(e){return t.childRefs=e},id:"video-context-".concat(m),className:"".concat(y.h," ").concat(C?"fullscreen":"")},!i&&b&&a.a.createElement(y.e,null,a.a.createElement("img",{id:"video-poster-".concat(m),src:b})),!i&&a.a.createElement(y.f,null,n&&!r&&!w&&a.a.createElement("code",null,"Loading . . ."),!r&&f&&!w&&a.a.createElement(y.d,{className:"playIcon",onClick:function(){return t.handlePlayButton()}})),r&&a.a.createElement(y.c,null,a.a.createElement("code",null,s)),a.a.createElement("video",{id:"video-main-".concat(m),autoPlay:d,style:{width:16*D/9,height:D}}),h&&h.mediaURL&&this.player&&!o&&a.a.createElement(y.a,{id:"video-banner-".concat(m),alt:"banner-".concat(h.id),src:h.mediaURL,onClick:function(){return window.open(h.link)},onError:function(){return t.setState({banner:null})}}),this.player&&i&&a.a.createElement("div",{className:y.g,id:"video-child"},this.renderBugLogo(M),v,k&&u&&a.a.createElement(y.f,null,a.a.createElement("code",null,"Buffering . . .")),a.a.createElement(g.a,{id:m,player:this.player,isPreroll:o,isHover:u,config:N,recommendation:T}),L&&this.renderNextVideo(c)))}}])&&I(n.prototype,o),s&&I(n,s),f}(o.Component);_.propTypes=O,_.defaultProps={playerConfig:{togglePlayPauseEnabled:!0,toggleFullscreenEnabled:!0,toggleMuteEnabled:!0,seekBarEnabled:!0,volumeBarEnabled:!0,nextVideoEnabled:!0,keyboardShortcutsEnabled:!0,preferredTextLanguage:"id"}},e.default=_}.call(this,n(94),n(11))},function(t,e,n){(function(t,n){
/*
 @license
 Shaka Player
 Copyright 2016 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/
!function(){var r="undefined"!=typeof window?window:t,i={};for(var o in function(t,e,r){var i,o="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},a=void 0!==t&&t===this?this:void 0!==e&&null!=e?e:this;function s(){s=function(){},a.Symbol||(a.Symbol=c)}var u,c=(u=0,function(t){return"jscomp_symbol_"+(t||"")+u++});function l(){s();var t=a.Symbol.iterator;t||(t=a.Symbol.iterator=a.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&o(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return f(this)}}),l=function(){}}function f(t){var e=0;return h((function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}))}function h(t){return l(),(t={next:t})[a.Symbol.iterator]=function(){return this},t}function d(t){l();var e=t[Symbol.iterator];return e?e.call(t):f(t)}function p(t,e){if(e){for(var n=a,r=t.split("."),i=0;i<r.length-1;i++){var s=r[i];s in n||(n[s]={}),n=n[s]}(s=e(i=n[r=r[r.length-1]]))!=i&&null!=s&&o(n,r,{configurable:!0,writable:!0,value:s})}}function m(t){return function(t){function e(e){return t.next(e)}function n(e){return t.throw(e)}return new Promise((function(r,i){!function t(o){o.done?r(o.value):Promise.resolve(o.value).then(e,n).then(t,i)}(t.next())}))}(t())}p("Promise",(function(t){function e(t){this.b=0,this.g=void 0,this.a=[];var e=this.c();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){null==this.a&&(this.a=[],this.f()),this.a.push(t)},n.prototype.f=function(){var t=this;this.c((function(){t.h()}))};var i=a.setTimeout;n.prototype.c=function(t){i(t,0)},n.prototype.h=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.g(t)}}}this.a=null},n.prototype.g=function(t){this.c((function(){throw t}))},e.prototype.c=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.u),reject:t(this.f)}},e.prototype.u=function(t){if(t===this)this.f(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.v(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.o(t):this.h(t)}},e.prototype.o=function(t){var e=void 0;try{e=t.then}catch(t){return void this.f(t)}"function"==typeof e?this.F(e,t):this.h(t)},e.prototype.f=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.g=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)o.b(this.a[t]);this.a=null}};var o=new n;return e.prototype.v=function(t){var e=this.c();t.kc(e.resolve,e.reject)},e.prototype.F=function(t,e){var n=this.c();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.kc(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.kc=function(t,e){function n(){switch(r.b){case 1:t(r.g);break;case 2:e(r.g);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?o.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=d(t),o=i.next();!o.done;o=i.next())r(o.value).kc(e,n)}))},e.all=function(t){var n=d(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).kc(o(a.length-1),e),i=n.next()}while(!i.done)}))},e})),p("Promise.prototype.finally",(function(t){return t||function(t){return this.then((function(e){return Promise.resolve(t()).then((function(){return e}))}),(function(e){return Promise.resolve(t()).then((function(){throw e}))}))}}));var g,y="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e};if("function"==typeof Object.setPrototypeOf)g=Object.setPrototypeOf;else{var b;t:{var v={};try{v.__proto__={Ne:!0},b=v.Ne;break t}catch(u){}b=!1}g=b?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var w=g;function T(t,e){if(t.prototype=y(e.prototype),t.prototype.constructor=t,w)w(t,e);else for(var n in e)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(e,n);r&&Object.defineProperty(t,n,r)}else t[n]=e[n];t.Dg=e.prototype}function S(){this.g=!1,this.c=null,this.s=void 0,this.j=1,this.b=this.f=0,this.i=this.a=null}function x(t){if(t.g)throw new TypeError("Generator is already running");t.g=!0}function E(t,e){t.a={Yd:e,ie:!0},t.j=t.f||t.b}function M(t,e,n){return t.j=n,{value:e}}function I(t){t.j=0}function A(t,e,n){t.f=e,null!=n&&(t.b=n)}function k(t,e){t.f=0,t.b=e||0}function N(t,e){t.j=e,t.f=0}function L(t){t.f=0;var e=t.a.Yd;return t.a=null,e}function D(t){t.i=[t.a],t.f=0,t.b=0}function C(t,e){var n=t.i.splice(0)[0];(n=t.a=t.a||n)?n.ie?t.j=t.f||t.b:null!=n.C&&t.b<n.C?(t.j=n.C,t.a=null):t.j=t.b:t.j=e}function O(t){this.a=new S,this.b=t}function _(t,e,n,r){try{var i=e.call(t.a.c,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return t.a.g=!1,i;var o=i.value}catch(e){return t.a.c=null,E(t.a,e),P(t)}return t.a.c=null,r.call(t.a,o),P(t)}function P(t){for(;t.a.j;)try{var e=t.b(t.a);if(e)return t.a.g=!1,{value:e.value,done:!1}}catch(e){t.a.s=void 0,E(t.a,e)}if(t.a.g=!1,t.a.a){if(e=t.a.a,t.a.a=null,e.ie)throw e.Yd;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function j(t){this.next=function(e){return x(t.a),t.a.c?e=_(t,t.a.c.next,e,t.a.h):(t.a.h(e),e=P(t)),e},this.throw=function(e){return x(t.a),t.a.c?e=_(t,t.a.c.throw,e,t.a.h):(E(t.a,e),e=P(t)),e},this.return=function(e){return function(t,e){x(t.a);var n=t.a.c;return n?_(t,"return"in n?n.return:function(t){return{value:t,done:!0}},e,t.a.return):(t.a.return(e),P(t))}(t,e)},l(),this[Symbol.iterator]=function(){return this}}function R(t,e){return j.prototype=t.prototype,new j(new O(e))}function U(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function z(t,e,n){t instanceof String&&(t=String(t));for(var r=t.length,i=0;i<r;i++){var o=t[i];if(e.call(n,o,i,t))return{fe:i,Ie:o}}return{fe:-1,Ie:void 0}}function B(t,e,n){if(null==t)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return t+""}S.prototype.h=function(t){this.s=t},S.prototype.return=function(t){this.a={return:t},this.j=this.b},S.prototype.C=function(t){this.j=t},p("WeakMap",(function(t){function e(t){if(this.a=(a+=Math.random()+1).toString(),t){s(),l(),t=d(t);for(var e;!(e=t.next()).done;)e=e.value,this.set(e[0],e[1])}}function n(t){U(t,i)||o(t,i,{value:{}})}function r(t){var e=Object[t];e&&(Object[t]=function(t){return n(t),e(t)})}if(function(){if(!t||!Object.seal)return!1;try{var e=Object.seal({}),n=Object.seal({}),r=new t([[e,2],[n,3]]);return 2==r.get(e)&&3==r.get(n)&&(r.delete(e),r.set(n,4),!r.has(e)&&4==r.get(n))}catch(t){return!1}}())return t;var i="$jscomp_hidden_"+Math.random();r("freeze"),r("preventExtensions"),r("seal");var a=0;return e.prototype.set=function(t,e){if(n(t),!U(t,i))throw Error("WeakMap key fail: "+t);return t[i][this.a]=e,this},e.prototype.get=function(t){return U(t,i)?t[i][this.a]:void 0},e.prototype.has=function(t){return U(t,i)&&U(t[i],this.a)},e.prototype.delete=function(t){return!(!U(t,i)||!U(t[i],this.a))&&delete t[i][this.a]},e})),p("Map",(function(t){function e(){var t={};return t.Ja=t.next=t.head=t}function n(t,e){var n=t.a;return h((function(){if(n){for(;n.head!=t.a;)n=n.Ja;for(;n.next!=n.head;)return n=n.next,{done:!1,value:e(n)};n=null}return{done:!0,value:void 0}}))}function r(t,e){var n=e&&typeof e;"object"==n||"function"==n?o.has(e)?n=o.get(e):(n=""+ ++a,o.set(e,n)):n="p_"+e;var r=t.b[n];if(r&&U(t.b,n))for(var i=0;i<r.length;i++){var s=r[i];if(e!=e&&s.key!=s.key||e===s.key)return{id:n,list:r,index:i,ba:s}}return{id:n,list:r,index:-1,ba:void 0}}function i(t){if(this.b={},this.a=e(),this.size=0,t){t=d(t);for(var n;!(n=t.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),n=new t(d([[e,"s"]]));if("s"!=n.get(e)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==e&&"s"==i.value[1]&&!((i=r.next()).done||4!=i.value[0].x||"t"!=i.value[1]||!r.next().done)}catch(t){return!1}}())return t;s(),l();var o=new WeakMap;i.prototype.set=function(t,e){var n=r(this,t);return n.list||(n.list=this.b[n.id]=[]),n.ba?n.ba.value=e:(n.ba={next:this.a,Ja:this.a.Ja,head:this.a,key:t,value:e},n.list.push(n.ba),this.a.Ja.next=n.ba,this.a.Ja=n.ba,this.size++),this},i.prototype.delete=function(t){return!(!(t=r(this,t)).ba||!t.list)&&(t.list.splice(t.index,1),t.list.length||delete this.b[t.id],t.ba.Ja.next=t.ba.next,t.ba.next.Ja=t.ba.Ja,t.ba.head=null,this.size--,!0)},i.prototype.clear=function(){this.b={},this.a=this.a.Ja=e(),this.size=0},i.prototype.has=function(t){return!!r(this,t).ba},i.prototype.get=function(t){return(t=r(this,t).ba)&&t.value},i.prototype.entries=function(){return n(this,(function(t){return[t.key,t.value]}))},i.prototype.keys=function(){return n(this,(function(t){return t.key}))},i.prototype.values=function(){return n(this,(function(t){return t.value}))},i.prototype.forEach=function(t,e){for(var n,r=this.entries();!(n=r.next()).done;)n=n.value,t.call(e,n[1],n[0],this)},i.prototype[Symbol.iterator]=i.prototype.entries;var a=0;return i})),p("Set",(function(t){function e(t){if(this.a=new Map,t){t=d(t);for(var e;!(e=t.next()).done;)this.add(e.value)}this.size=this.a.size}return function(){if(!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),n=new t(d([e]));if(!n.has(e)||1!=n.size||n.add(e)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==e&&i.value[1]==e&&(!(i=r.next()).done&&i.value[0]!=e&&4==i.value[0].x&&i.value[1]==i.value[0]&&r.next().done)}catch(t){return!1}}()?t:(s(),l(),e.prototype.add=function(t){return this.a.set(t,t),this.size=this.a.size,this},e.prototype.delete=function(t){return t=this.a.delete(t),this.size=this.a.size,t},e.prototype.clear=function(){this.a.clear(),this.size=0},e.prototype.has=function(t){return this.a.has(t)},e.prototype.entries=function(){return this.a.entries()},e.prototype.values=function(){return this.a.values()},e.prototype.keys=e.prototype.values,e.prototype[Symbol.iterator]=e.prototype.values,e.prototype.forEach=function(t,e){var n=this;this.a.forEach((function(r){return t.call(e,r,r,n)}))},e)})),p("Array.prototype.findIndex",(function(t){return t||function(t,e){return z(this,t,e).fe}})),p("Array.prototype.keys",(function(t){return t||function(){return function(t,e){l(),t instanceof String&&(t+="");var n=0,r={next:function(){if(n<t.length){var i=n++;return{value:e(i,t[i]),done:!1}}return r.next=function(){return{done:!0,value:void 0}},r.next()}};return r[Symbol.iterator]=function(){return r},r}(this,(function(t){return t}))}})),p("Object.is",(function(t){return t||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}})),p("Array.prototype.includes",(function(t){return t||function(t,e){var n=this;n instanceof String&&(n=String(n));var r=n.length,i=e||0;for(0>i&&(i=Math.max(i+r,0));i<r;i++){var o=n[i];if(o===t||Object.is(o,t))return!0}return!1}})),p("String.prototype.includes",(function(t){return t||function(t,e){return-1!==B(this,t,"includes").indexOf(t,e||0)}})),p("Array.from",(function(t){return t||function(t,e,n){l(),e=null!=e?e:function(t){return t};var r=[],i=t[Symbol.iterator];if("function"==typeof i)for(t=i.call(t);!(i=t.next()).done;)r.push(e.call(n,i.value));else{i=t.length;for(var o=0;o<i;o++)r.push(e.call(n,t[o]))}return r}})),p("String.prototype.startsWith",(function(t){return t||function(t,e){for(var n=B(this,t,"startsWith"),r=n.length,i=t.length,o=Math.max(0,Math.min(0|e,n.length)),a=0;a<i&&o<r;)if(n[o++]!=t[a++])return!1;return a>=i}})),p("Array.prototype.find",(function(t){return t||function(t,e){return z(this,t,e).Ie}}));var F="function"==typeof Object.assign?Object.assign:function(t,e){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)U(r,i)&&(t[i]=r[i])}return t};p("Object.assign",(function(t){return t||F}));var Y=this;function G(t,e){var n,r=t.split("."),i=Y;r[0]in i||!i.execScript||i.execScript("var "+r[0]);for(;r.length&&(n=r.shift());)r.length||void 0===e?i=i[n]?i[n]:i[n]={}:i[n]=e}function H(t,e){function n(){}n.prototype=e.prototype,t.Dg=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Og=function(t,n,r){return e.prototype[n].apply(t,Array.prototype.slice.call(arguments,2))}}function W(t){this.c=Math.exp(Math.log(.5)/t),this.b=this.a=0}function V(t,e,n){var r=Math.pow(t.c,e);n=n*(1-r)+r*t.a,isNaN(n)||(t.a=n,t.b+=e)}function Z(t){return t.a/(1-Math.pow(t.c,t.b))}function K(){this.b=new W(2),this.c=new W(5),this.a=0}Y.a=!0,K.prototype.getBandwidthEstimate=function(t){return 128e3>this.a?t:Math.min(Z(this.b),Z(this.c))};var Q={mb:0,jc:function(){},Z:function(){},error:function(){},m:function(){},info:function(){},debug:function(){},D:function(){},J:function(){}};t.console&&t.console.log.bind&&(Q.Z=console.warn.bind(console),Q.jc=console.error.bind(console),1<=Q.mb&&(Q.error=console.error.bind(console)),2<=Q.mb&&(Q.m=console.warn.bind(console)),3<=Q.mb&&(Q.info=console.info.bind(console)),4<=Q.mb&&(Q.debug=console.log.bind(console)),5<=Q.mb&&(Q.D=console.debug.bind(console)),6<=Q.mb&&(Q.J=console.debug.bind(console)));
/*
 @license
 Copyright 2008 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/
var X=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;
/*
 @license
 Copyright 2006 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/function J(t){var e;t instanceof J?(q(this,t.xa),this.jb=t.jb,this.wa=t.wa,$(this,t.Jb),this.la=t.la,tt(this,t.a.clone()),this.Xa=t.Xa):t&&(e=String(t).match(X))?(q(this,e[1]||"",!0),this.jb=et(e[2]||""),this.wa=et(e[3]||"",!0),$(this,e[4]),this.la=et(e[5]||"",!0),tt(this,e[6]||"",!0),this.Xa=et(e[7]||"")):this.a=new ct(null)}function q(t,e,n){t.xa=n?et(e,!0):e,t.xa&&(t.xa=t.xa.replace(/:$/,""))}function $(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.Jb=e}else t.Jb=null}function tt(t,e,n){e instanceof ct?t.a=e:(n||(e=nt(e,st)),t.a=new ct(e))}function et(t,e){return t?e?decodeURI(t):decodeURIComponent(t):""}function nt(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,rt),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function rt(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}(i=J.prototype).xa="",i.jb="",i.wa="",i.Jb=null,i.la="",i.Xa="",i.toString=function(){var t=[],e=this.xa;if(e&&t.push(nt(e,it,!0),":"),e=this.wa){t.push("//");var n=this.jb;n&&t.push(nt(n,it,!0),"@"),t.push(encodeURIComponent(e).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.Jb)&&t.push(":",String(e))}return(e=this.la)&&(this.wa&&"/"!=e.charAt(0)&&t.push("/"),t.push(nt(e,"/"==e.charAt(0)?at:ot,!0))),(e=this.a.toString())&&t.push("?",e),(e=this.Xa)&&t.push("#",nt(e,ut)),t.join("")},i.resolve=function(t){var e=this.clone();"data"===e.xa&&(e=new J);var n=!!t.xa;n?q(e,t.xa):n=!!t.jb,n?e.jb=t.jb:n=!!t.wa,n?e.wa=t.wa:n=null!=t.Jb;var r=t.la;if(n)$(e,t.Jb);else if(n=!!t.la){if("/"!=r.charAt(0))if(this.wa&&!this.la)r="/"+r;else{var i=e.la.lastIndexOf("/");-1!=i&&(r=e.la.substr(0,i+1)+r)}if(".."==r||"."==r)r="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}r=o.join("/")}}return n?e.la=r:n=""!==t.a.toString(),n?tt(e,t.a.clone()):n=!!t.Xa,n&&(e.Xa=t.Xa),e},i.clone=function(){return new J(this)};var it=/[#\/\?@]/g,ot=/[#\?:]/g,at=/[#\?]/g,st=/[#\?@]/g,ut=/#/g;function ct(t){this.a=t||null}function lt(t){this.b=t,this.a=null}function ft(t){this.b=t,this.a=null}function ht(t,e){var n={maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0};this.i=null==t.maxAttempts?n.maxAttempts:t.maxAttempts,this.f=null==t.baseDelay?n.baseDelay:t.baseDelay,this.h=null==t.fuzzFactor?n.fuzzFactor:t.fuzzFactor,this.g=null==t.backoffFactor?n.backoffFactor:t.backoffFactor,this.a=0,this.b=this.f,(this.c=void 0!==e&&e)&&(this.a=1)}function dt(t){return m((function e(){var n,r;return R(e,(function(e){switch(e.j){case 1:if(t.a>=t.i){if(!t.c)return e.return(Promise.reject());t.a=1,t.b=t.f}return n=t.a,t.a++,0==n?e.return():(r=t.b*(1+(2*Math.random()-1)*t.h),M(e,new Promise((function(t){new ft(t).T(r/1e3)})),2));case 2:t.b*=t.g,I(e)}}))}))}function pt(t,e,n,r){for(var i=[],o=3;o<arguments.length;++o)i[o-3]=arguments[o];this.severity=t,this.category=e,this.code=n,this.data=i,this.handled=!1}function mt(){var t,e,n=new Promise((function(n,r){t=n,e=r}));return n.resolve=t,n.reject=e,n}function gt(t,e){this.promise=t,this.me=e,this.a=!1}function yt(t){return new gt(Promise.reject(t),(function(){return Promise.resolve()}))}function bt(){var t=Promise.reject(new pt(2,7,7001));return t.catch((function(){})),new gt(t,(function(){return Promise.resolve()}))}function vt(t){return new gt(Promise.resolve(t),(function(){return Promise.resolve()}))}function wt(t){return new gt(t,(function(){return t.catch((function(){}))}))}function Tt(t){return new gt(Promise.all(t.map((function(t){return t.promise}))),(function(){return Promise.all(t.map((function(t){return t.abort()})))}))}function St(e,n){for(var r in n=void 0===n?{}:n)this[r]=n[r];this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=t.performance&&t.performance.now?t.performance.now():Date.now(),this.type=e,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=!1}function xt(){this.a={}}function Et(){this.Sc=new xt,this.gc=this}function Mt(t){var e=new Set;return function t(n){switch(typeof n){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return n;default:if(!n||n.buffer&&n.buffer.constructor==ArrayBuffer)return n;if(e.has(n))return null;var r=n.constructor==Array;if(n.constructor!=Object&&!r)return null;e.add(n);var i,o=r?[]:{};for(i in n)o[i]=t(n[i]);return r&&(o.length=n.length),o}}(t)}function It(t,e){return!("number"!=typeof t||"number"!=typeof e||!isNaN(t)||!isNaN(e))||t===e}function At(t,e){var n=t.indexOf(e);-1<n&&t.splice(n,1)}function kt(t,e,n){if(n||(n=It),t.length!=e.length)return!1;e=e.slice();for(var r={},i=(t=d(t)).next();!i.done;r={item:r.item},i=t.next()){if(r.item=i.value,-1==(i=e.findIndex(function(t){return function(e){return n(t.item,e)}}(r))))return!1;e[i]=e[e.length-1],e.pop()}return 0==e.length}function Nt(){this.a=[]}function Lt(t,e){t.a.push(e.finally((function(){At(t.a,e)})))}function Dt(t){Et.call(this),this.f=!1,this.g=new Nt,this.a=new Set,this.b=new Set,this.c=t||null}(i=ct.prototype).ja=null,i.nc=null,i.add=function(t,e){if(!this.ja&&(this.ja={},this.nc=0,this.a))for(var n=this.a.split("&"),r=0;r<n.length;r++){var i=n[r].indexOf("="),o=null;if(0<=i){var a=n[r].substring(0,i);o=n[r].substring(i+1)}else a=n[r];a=decodeURIComponent(a.replace(/\+/g," ")),o=o||"",this.add(a,decodeURIComponent(o.replace(/\+/g," ")))}return this.a=null,(n=this.ja.hasOwnProperty(t)&&this.ja[t])||(this.ja[t]=n=[]),n.push(e),this.nc++,this},i.toString=function(){if(this.a)return this.a;if(!this.ja)return"";var t,e=[];for(t in this.ja)for(var n=encodeURIComponent(t),r=this.ja[t],i=0;i<r.length;i++){var o=n;""!==r[i]&&(o+="="+encodeURIComponent(r[i])),e.push(o)}return this.a=e.join("&")},i.clone=function(){var t=new ct;if(t.a=this.a,this.ja){var e,n={};for(e in this.ja)n[e]=this.ja[e].concat();t.ja=n,t.nc=this.nc}return t},lt.prototype.T=function(e){var n=this;this.stop();var r=!0,i=null;return this.a=function(){t.clearTimeout(i),r=!1},i=t.setTimeout((function(){r&&n.b()}),1e3*e),this},lt.prototype.stop=function(){this.a&&(this.a(),this.a=null)},G("shaka.util.Timer",ft),ft.prototype.Gc=function(){return this.stop(),this.b(),this},ft.prototype.tickNow=ft.prototype.Gc,ft.prototype.T=function(t){var e=this;return this.stop(),this.a=new lt((function(){e.b()})).T(t),this},ft.prototype.tickAfter=ft.prototype.T,ft.prototype.Ra=function(t){var e=this;return this.stop(),this.a=new lt((function(){e.a.T(t),e.b()})).T(t),this},ft.prototype.tickEvery=ft.prototype.Ra,ft.prototype.stop=function(){this.a&&(this.a.stop(),this.a=null)},ft.prototype.stop=ft.prototype.stop,G("shaka.util.Error",pt),pt.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},pt.Severity={RECOVERABLE:1,CRITICAL:2},pt.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9},pt.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,HLS_AES_128_ENCRYPTION_NOT_SUPPORTED:4034,HLS_INTERNAL_SKIP_STREAM:4035,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,STORE_ALREADY_IN_PROGRESS:9006,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013},mt.prototype.resolve=function(){},mt.prototype.reject=function(){},G("shaka.util.AbortableOperation",gt),gt.failed=yt,gt.aborted=bt,gt.completed=vt,gt.notAbortable=wt,gt.prototype.abort=function(){return this.a=!0,this.me()},gt.prototype.abort=gt.prototype.abort,gt.all=Tt,gt.prototype.finally=function(t){return this.promise.then((function(){return t(!0)}),(function(){return t(!1)})),this},gt.prototype.finally=gt.prototype.finally,gt.prototype.Y=function(t,e){function n(n){return function(s){if(i.a&&n)o.reject(a);else{var u=n?t:e;u?r=function(t,e,n){try{var r=t(e);return r&&r.promise&&r.abort?(n.resolve(r.promise),function(){return r.abort()}):(n.resolve(r),function(){return Promise.resolve(r).then((function(){}),(function(){}))})}catch(t){return n.reject(t),function(){return Promise.resolve()}}}(u,s,o):(n?o.resolve:o.reject)(s)}}}function r(){return o.reject(a),i.abort()}var i=this,o=new mt,a=new pt(2,7,7001);return this.promise.then(n(!0),n(!1)),new gt(o,(function(){return r()}))},gt.prototype.chain=gt.prototype.Y,St.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},St.prototype.stopImmediatePropagation=function(){this.a=!0},St.prototype.stopPropagation=function(){},(i=xt.prototype).push=function(t,e){this.a.hasOwnProperty(t)?this.a[t].push(e):this.a[t]=[e]},i.get=function(t){return(t=this.a[t])?t.slice():null},i.getAll=function(){var t,e=[];for(t in this.a)e.push.apply(e,this.a[t]);return e},i.remove=function(t,e){var n=this.a[t];if(n)for(var r=0;r<n.length;++r)n[r]==e&&(n.splice(r,1),--r)},i.forEach=function(t){for(var e in this.a)t(e,this.a[e])},Et.prototype.addEventListener=function(t,e){this.Sc.push(t,e)},Et.prototype.removeEventListener=function(t,e){this.Sc.remove(t,e)},Et.prototype.dispatchEvent=function(t){for(var e=this.Sc.get(t.type)||[],n=0;n<e.length;++n){t.target=this.gc,t.currentTarget=this.gc;var r=e[n];try{r.handleEvent?r.handleEvent(t):r.call(this,t)}catch(t){Q.error("Uncaught exception in event handler",t,t?t.message:null,t?t.stack:null)}if(t.a)break}return t.defaultPrevented},Nt.prototype.destroy=function(){var t=[];return this.a.forEach((function(e){e.promise.catch((function(){})),t.push(e.abort())})),this.a=[],Promise.all(t)},H(Dt,Et),G("shaka.net.NetworkingEngine",Dt),Dt.RequestType={MANIFEST:0,SEGMENT:1,LICENSE:2,APP:3,TIMING:4},Dt.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:3};var Ct={};function Ot(t,e,n){n=n||3;var r=Ct[t];(!r||n>=r.priority)&&(Ct[t]={priority:n,cg:e})}function _t(t,e){return{uris:t,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:e,licenseRequestType:null,sessionId:null}}function Pt(){this.a=0}function jt(t,e,n){gt.call(this,t,e),this.b=n}function Rt(){}function Ut(){this.a=new xt}function zt(t,e,n,r){this.target=t,this.type=e,this.listener=n,this.a=function(t,e){if(null==e)return!1;if("boolean"==typeof e)return e;var n=new Set(["passive","capture"]);return Object.keys(e).filter((function(t){return!n.has(t)})),function(t){var e=Bt;if(null==e){e=!1;try{var n={},r={get:function(){return e=!0,!1}};Object.defineProperty(n,"passive",r),Object.defineProperty(n,"capture",r),r=function(){},t.addEventListener("test",r,n),t.removeEventListener("test",r,n)}catch(t){e=!1}Bt=e}return e||!1}(t)?e:e.capture||!1}(t,r),this.target.addEventListener(e,n,this.a)}Dt.registerScheme=Ot,Dt.unregisterScheme=function(t){delete Ct[t]},Dt.prototype.eg=function(t){this.a.add(t)},Dt.prototype.registerRequestFilter=Dt.prototype.eg,Dt.prototype.Fg=function(t){this.a.delete(t)},Dt.prototype.unregisterRequestFilter=Dt.prototype.Fg,Dt.prototype.Ve=function(){this.a.clear()},Dt.prototype.clearAllRequestFilters=Dt.prototype.Ve,Dt.prototype.fg=function(t){this.b.add(t)},Dt.prototype.registerResponseFilter=Dt.prototype.fg,Dt.prototype.Gg=function(t){this.b.delete(t)},Dt.prototype.unregisterResponseFilter=Dt.prototype.Gg,Dt.prototype.We=function(){this.b.clear()},Dt.prototype.clearAllResponseFilters=Dt.prototype.We,Dt.defaultRetryParameters=function(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0}},Dt.makeRequest=_t,Dt.prototype.destroy=function(){return this.f=!0,this.a.clear(),this.b.clear(),this.g.destroy()},Dt.prototype.destroy=Dt.prototype.destroy,Dt.prototype.request=function(t,e){var n=this,r=new Pt;if(this.f){var i=Promise.reject(new pt(2,7,7001));return i.catch((function(){})),new jt(i,(function(){return Promise.resolve()}),r)}e.method=e.method||"GET",e.headers=e.headers||{},e.retryParameters=e.retryParameters?Mt(e.retryParameters):{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},e.uris=Mt(e.uris);var o=(i=function(t,e,n){for(var r=vt(void 0),i={},o=(t=d(t.a)).next();!o.done;i={Ad:i.Ad},o=t.next())i.Ad=o.value,r=r.Y(function(t){return function(){return t.Ad(e,n)}}(i));return r.Y(void 0,(function(t){if(t&&7001==t.code)throw t;throw new pt(2,1,1006,t)}))}(this,t,e)).Y((function(){return function t(e,n,r,i,o,a,s){var u=new J(r.uris[o]),c=u.xa,l=!1;c||(c=(c=location.protocol).slice(0,-1),q(u,c),r.uris[o]=u.toString()),c=c.toLowerCase();var f,h=(c=Ct[c])?c.cg:null;return h?wt(dt(i)).Y((function(){return e.f?bt():(f=Date.now(),h(r.uris[o],r,n,(function(t,r,i){e.c&&1==n&&(e.c(t,r),l=!0,s.a=i)})))})).Y((function(t){return null==t.timeMs&&(t.timeMs=Date.now()-f),{response:t,Df:l}}),(function(u){if(u&&7001==u.code)throw u;if(e.f)return bt();if(u&&1==u.severity)return e.dispatchEvent(new St("retry",{error:u instanceof pt?u:null})),o=(o+1)%r.uris.length,t(e,n,r,i,o,u,s);throw u||a})):yt(new pt(2,1,1e3,u))}(n,t,e,new ht(e.retryParameters,!1),0,null,r)})),a=o.Y((function(e){return function(t,e,n){for(var r=vt(void 0),i=(t=d(t.b)).next();!i.done;i=t.next())r=r.Y(i.value.bind(null,e,n.response));return r.Y((function(){return n}),(function(t){if(t&&7001==t.code)throw t;var e=2;throw t instanceof pt&&(e=t.severity),new pt(e,1,1007,t)}))}(n,t,e)})),s=Date.now(),u=0;i.promise.then((function(){u=Date.now()-s}),(function(){}));var c=0;return o.promise.then((function(){c=Date.now()}),(function(){})),i=new jt((i=a.Y((function(e){var r=Date.now()-c,i=e.response;return i.timeMs+=u,i.timeMs+=r,e.Df||!n.c||i.fromCache||1!=t||n.c(i.timeMs,i.data.byteLength),i}),(function(t){throw t&&(t.severity=2),t}))).promise,i.me,r),Lt(this.g,i),i},Dt.prototype.request=Dt.prototype.request,Dt.NumBytesRemainingClass=Pt,T(jt,gt),Dt.PendingRequest=jt,jt.all=Tt,jt.notAbortable=wt,jt.completed=vt,jt.aborted=bt,jt.failed=yt,G("shaka.util.IReleasable",Rt),Rt.prototype.release=function(){},G("shaka.util.EventManager",Ut),Ut.prototype.release=function(){this.hb(),this.a=null},Ut.prototype.release=Ut.prototype.release,Ut.prototype.B=function(t,e,n,r){this.a&&(t=new zt(t,e,n,r),this.a.push(e,t))},Ut.prototype.listen=Ut.prototype.B,Ut.prototype.ua=function(t,e,n,r){var i=this;this.B(t,e,(function r(o){i.pa(t,e,r),n(o)}),r)},Ut.prototype.listenOnce=Ut.prototype.ua,Ut.prototype.pa=function(t,e,n){if(this.a)for(var r=this.a.get(e)||[],i=(r=d(r)).next();!i.done;i=r.next())(i=i.value).target!=t||n!=i.listener&&n||(i.pa(),this.a.remove(e,i))},Ut.prototype.unlisten=Ut.prototype.pa,Ut.prototype.hb=function(){if(this.a){for(var t=this.a.getAll(),e=(t=d(t)).next();!e.done;e=t.next())e.value.pa();this.a.a={}}},Ut.prototype.removeAll=Ut.prototype.hb,zt.prototype.pa=function(){this.target.removeEventListener(this.type,this.listener,this.a),this.listener=this.target=null,this.a=!1},zt.prototype.unlisten=zt.prototype.pa;var Bt=void 0;function Ft(t){return new J(t=ae(t)).wa}function Yt(t,e,n){function r(t){new DataView(i.buffer).setUint32(o,t.byteLength,!0),o+=4,i.set(t,o),o+=t.byteLength}if(!n||!n.byteLength)throw new pt(2,6,6015);e="string"==typeof e?new Uint8Array(ue(e,!0)):new Uint8Array(e),t=ue(t=ae(t),!0);var i=new Uint8Array(12+t.byteLength+e.byteLength+n.byteLength),o=0;return r(new Uint8Array(t)),r(e),r(new Uint8Array(n)),i}function Gt(t,e){for(var n=[],r=d(t),i=r.next();!i.done;i=r.next())n.push(e(i.value));return n}function Ht(t,e){for(var n=d(t),r=n.next();!r.done;r=n.next())if(!e(r.value))return!1;return!0}function Wt(t){var e=new Map;return Object.keys(t).forEach((function(n){e.set(n,t[n])})),e}function Vt(t){var e={};return t.forEach((function(t,n){e[n]=t})),e}function Zt(t,e){var n=t;return e&&(n+='; codecs="'+e+'"'),n}function Kt(t){var e=(t=t.split("."))[0];return t.pop(),[e,t.join(".")]}G("shaka.util.FairPlayUtils.defaultGetContentId",Ft),G("shaka.util.FairPlayUtils.initDataTransform",Yt);var Qt=(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels");function Xt(){return!(!t.MediaSource||!MediaSource.isTypeSupported)}function Jt(t){return""!=ee().canPlayType(t)}function qt(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!te("Tizen")}function $t(){if(!qt())return null;var t=navigator.userAgent.match(/Version\/(\d+)/);return t||(t=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(t[1],10):null}function te(t){return(navigator.userAgent||"").includes(t)}function ee(){return re||(ne||(ne=new ft((function(){re=null}))),(re=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(re=document.createElement("video")),ne.T(1),re)}var ne=null,re=null;function ie(t){if(!t)return"";239==(t=new Uint8Array(t))[0]&&187==t[1]&&191==t[2]&&(t=t.subarray(3)),t=ce(t),t=escape(t);try{return decodeURIComponent(t)}catch(t){throw new pt(2,2,2004)}}function oe(t,e,n){if(!t)return"";if(!n&&0!=t.byteLength%2)throw Q.error("Data has an incorrect length, must be even."),new pt(2,2,2004);if(t instanceof ArrayBuffer)var r=t;else(n=new Uint8Array(t.byteLength)).set(new Uint8Array(t)),r=n.buffer;t=Math.floor(t.byteLength/2),n=new Uint16Array(t),r=new DataView(r);for(var i=0;i<t;i++)n[i]=r.getUint16(2*i,e);return ce(n)}function ae(t){var e=new Uint8Array(t);if(239==e[0]&&187==e[1]&&191==e[2])return ie(e);if(254==e[0]&&255==e[1])return oe(e.subarray(2),!1);if(255==e[0]&&254==e[1])return oe(e.subarray(2),!0);var n=function(t,e){return t.byteLength<=e||32<=t[e]&&126>=t[e]}.bind(null,e);if(Q.debug("Unable to find byte-order-mark, making an educated guess."),0==e[0]&&0==e[2])return oe(t,!1);if(0==e[1]&&0==e[3])return oe(t,!0);if(n(0)&&n(1)&&n(2)&&n(3))return ie(t);throw new pt(2,2,2003)}function se(t){t=encodeURIComponent(t),t=unescape(t);for(var e=new Uint8Array(t.length),n=0;n<t.length;++n)e[n]=t.charCodeAt(n);return e.buffer}function ue(t,e){for(var n=new Uint8Array(2*t.length),r=new DataView(n.buffer),i=0;i<t.length;++i)r.setUint16(2*i,t.charCodeAt(i),e);return n.buffer}function ce(t){if(!le)for(var e=function(t){try{var e=new Uint8Array(t);return 0<String.fromCharCode.apply(null,e).length}catch(t){return!1}},n={size:65536};0<n.size;(n={size:n.size}).size/=2)if(e(n.size)){le=function(t){return function(e){for(var n="",r=0;r<e.length;r+=t.size)n+=String.fromCharCode.apply(null,e.subarray(r,r+t.size));return n}}(n);break}return le(t)}G("shaka.util.StringUtils.fromUTF8",ie),G("shaka.util.StringUtils.fromUTF16",oe),G("shaka.util.StringUtils.fromBytesAutoDetect",ae),G("shaka.util.StringUtils.toUTF8",se),G("shaka.util.StringUtils.toUTF16",ue);var le=null;G("shaka.util.StringUtils.resetFromCharCode",(function(){le=null}));var fe={Hc:function(e,n){var r=ce(e);return n=null==n||n,r=t.btoa(r).replace(/\+/g,"-").replace(/\//g,"_"),n?r:r.replace(/=*$/,"")}};function he(t,e){var n=this;e=void 0===e?1:e,this.F=t,this.v=new Set,this.h=this.l=null,this.V=!1,this.K=0,this.a=null,this.i=new Ut,this.b=new Map,this.u=[],this.o=new mt,this.f=null,this.g=function(e){n.o.reject(e),t.onError(e)},this.sa=new Map,this.$=new Map,this.S=new ft((function(){return function(t){var e=t.sa,n=t.$;n.clear(),e.forEach((function(t,e){return n.set(e,t)})),(e=Array.from(n.values())).length&&e.every((function(t){return"expired"==t}))&&t.g(new pt(2,6,6014)),t.F.yc(Vt(n))}(n)})),this.c=!1,this.qa=new mt,this.G=!1,this.H=[],this.ra=!1,this.ea=new ft((function(){!function(t){t.b.forEach((function(e,n){var r=e.rd,i=n.expiration;isNaN(i)&&(i=1/0),i!=r&&(t.F.onExpirationUpdated(n.sessionId,i),e.rd=i)}))}(n)})).Ra(e),this.o.catch((function(){}))}function de(t,e,n){return t.u=n,t.G=0<n.length,pe(t,e)}function pe(e,n){var r=function(e){if(0==(e=Wt(e.f.clearKeys)).size)return null;var n=[],r=[];e.forEach((function(t,e){var i=fe.Yc(e),o=fe.Yc(t);i={kty:"oct",kid:fe.Hc(i,!1),k:fe.Hc(o,!1)},n.push(i),r.push(i.kid)})),e=JSON.stringify({keys:n});var i=JSON.stringify({kids:r});return i=[{initData:new Uint8Array(se(i)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+t.btoa(e),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:i,keyIds:[]}}(e);if(r)for(var i=d(n),o=i.next();!o.done;o=i.next())o.value.drmInfos=[r];for((r=n.some((function(t){return 0<t.drmInfos.length})))||function(t,e){var n=[];e.forEach((function(t,e){n.push({keySystem:e,licenseServerUri:t,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:[]})}));for(var r=d(t),i=r.next();!i.done;i=r.next())i.value.drmInfos=n}(n,o=Wt(e.f.servers)),o=(i=d(n)).next();!o.done;o=i.next())for(var a=(o=d(o.value.drmInfos)).next();!a.done;a=o.next())De(a.value,Wt(e.f.servers),Wt(e.f.advanced||{}));return(o=function(t,e){for(var n=new Set,r=d(e),i=r.next();!i.done;i=r.next()){var o=d(i.value.drmInfos);for(i=o.next();!i.done;i=o.next())n.add(i.value)}for(r=d(n),i=r.next();!i.done;i=r.next())De(i.value,Wt(t.f.servers),Wt(t.f.advanced||{}));o=t.G?"required":"optional";var a=t.G?["persistent-license"]:["temporary"];for(r=new Map,n=d(n),i=n.next();!i.done;i=n.next())i=i.value,r.set(i.keySystem,{audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:o,sessionTypes:a,label:i.keySystem,drmInfos:[]});for(n=d(e),i=n.next();!i.done;i=n.next()){i=i.value,o=i.audio,a=i.video;var s=o?Zt(o.mimeType,o.codecs):"",u=a?Zt(a.mimeType,a.codecs):"",c=d(i.drmInfos);for(i=c.next();!i.done;i=c.next()){i=i.value;var l=r.get(i.keySystem);l.drmInfos.push(i),i.distinctiveIdentifierRequired&&(l.distinctiveIdentifier="required"),i.persistentStateRequired&&(l.persistentState="required"),o&&l.audioCapabilities.push({robustness:i.audioRobustness||"",contentType:s}),a&&l.videoCapabilities.push({robustness:i.videoRobustness||"",contentType:u})}}return r}(e,n)).size?(o=Te(e,o),r?o:o.catch((function(){}))):(e.V=!0,Promise.resolve())}function me(t){return m((function e(){var n;return R(e,(function(e){switch(e.j){case 1:if(!(t.l&&t.a&&t.a.serverCertificate&&t.a.serverCertificate.length)){e.C(0);break}return A(e,3),M(e,t.l.setServerCertificate(t.a.serverCertificate),5);case 5:e.s||Q.m("Server certificates are not supported by the key system.  The server certificate has been ignored."),N(e,0);break;case 3:return n=L(e),e.return(Promise.reject(new pt(2,6,6004,n.message)))}}))}))}function ge(t){var e=t.a?t.a.initData:[];return e.forEach((function(e){return xe(t,e.initDataType,e.initData)})),t.u.forEach((function(e){return Se(t,e)})),e.length||t.u.length||t.o.resolve(),t.o}function ye(t,e,n){for(var r=t.b.values(),i=(r=d(r)).next();!i.done;i=r.next())if(fe.Da(n,i.value.initData)&&!te("Tizen 2"))return void Q.debug("Ignoring duplicate init data.");xe(t,e,n)}function be(t){return t?t.keySystem:""}function ve(t,e){return!!te("Edge/")||t.v.has(e)}function we(t){return t=Gt(t=t.b.keys(),(function(t){return t.sessionId})),Array.from(t)}function Te(t,e){if(1==e.size&&e.has(""))return Promise.reject(new pt(2,6,6e3));for(var n=d(e.values()),r=n.next();!r.done;r=n.next())0==(r=r.value).audioCapabilities.length&&delete r.audioCapabilities,0==r.videoCapabilities.length&&delete r.videoCapabilities;var i=n=new mt;return[!0,!1].forEach(function(t){var n=this;e.forEach((function(e,r){e.drmInfos.some((function(t){return!!t.licenseServerUri}))==t&&(i=i.catch(function(){if(!this.c)return navigator.requestMediaKeySystemAccess(r,[e])}.bind(n)))}))}.bind(t)),i=(i=i.catch((function(){return Promise.reject(new pt(2,6,6001))}))).then(function(t){if(this.c)return Promise.reject();this.v.clear();var n=t.getConfiguration(),r=n.videoCapabilities||[],i=d(n.audioCapabilities||[]);for(n=i.next();!n.done;n=i.next())this.v.add(n.value.contentType);for(n=(r=d(r)).next();!n.done;n=r.next())this.v.add(n.value.contentType);r=t.keySystem,i=[];var o=[],a=[],s=[];return function(t,e,n,r,i){t.forEach((function(t){if(e.includes(t.licenseServerUri)||e.push(t.licenseServerUri),t.serverCertificate&&(n.some((function(e){return fe.Da(e,t.serverCertificate)}))||n.push(t.serverCertificate)),t.initData&&t.initData.forEach((function(t){r.some((function(e){return!(!e.keyId||e.keyId!=t.keyId)||e.initDataType==t.initDataType&&fe.Da(e.initData,t.initData)}))||r.push(t)})),t.keyIds)for(var o=0;o<t.keyIds.length;++o)i.includes(t.keyIds[o])||i.push(t.keyIds[o])}))}((n=e.get(t.keySystem)).drmInfos,i,o,a,s),1<o.length&&Q.m("Multiple unique server certificates found! Only the first will be used."),1<i.length&&Q.m("Multiple unique license server URIs found! Only the first will be used."),this.a={keySystem:r,licenseServerUri:i[0],distinctiveIdentifierRequired:"required"==n.distinctiveIdentifier,persistentStateRequired:"required"==n.persistentState,audioRobustness:(n.audioCapabilities?n.audioCapabilities[0].robustness:"")||"",videoRobustness:(n.videoCapabilities?n.videoCapabilities[0].robustness:"")||"",serverCertificate:o[0],initData:a,keyIds:s},this.a.licenseServerUri?t.createMediaKeys():Promise.reject(new pt(2,6,6012,this.a.keySystem))}.bind(t)).then(function(t){if(this.c)return Promise.reject();Q.info("Created MediaKeys object for key system",this.a.keySystem),this.l=t,this.V=!0}.bind(t)).catch(function(t){if(!this.c)return this.a=null,this.v.clear(),t instanceof pt?Promise.reject(t):Promise.reject(new pt(2,6,6002,t.message))}.bind(t)),n.reject(),i}function Se(t,e){try{Q.D("Attempting to load an offline session",e);var n=t.l.createSession("persistent-license")}catch(e){var r=new pt(2,6,6005,e.message);return t.g(r),Promise.reject(r)}t.i.B(n,"message",t.se.bind(t)),t.i.B(n,"keystatuseschange",t.qe.bind(t));var i={initData:null,loaded:!1,rd:1/0,Ca:null};return t.b.set(n,i),n.load(e).then(function(t){return this.c?Promise.reject():(Q.J("Loaded offline session",e,t),t?(i.loaded=!0,Le(this)&&this.o.resolve(),n):(this.b.delete(n),void this.g(new pt(2,6,6013))))}.bind(t),function(t){this.c||(this.b.delete(n),this.g(new pt(2,6,6005,t.message)))}.bind(t))}function xe(t,e,n){try{if(t.G){Q.D("Creating new persistent session");var r=t.l.createSession("persistent-license")}else Q.D("Creating new temporary session"),r=t.l.createSession()}catch(e){return void t.g(new pt(2,6,6005,e.message))}t.i.B(r,"message",t.se.bind(t)),t.i.B(r,"keystatuseschange",t.qe.bind(t)),t.b.set(r,{initData:n,loaded:!1,rd:1/0,Ca:null});try{n=t.f.initDataTransform(n,t.a)}catch(n){return e=n,n instanceof pt||(e=new pt(2,6,6016,n)),void t.g(e)}r.generateRequest(e,n.buffer).catch((function(e){if(!t.c){if(t.b.delete(r),e.errorCode&&e.errorCode.systemCode){var n=e.errorCode.systemCode;0>n&&(n+=Math.pow(2,32)),n="0x"+n.toString(16)}t.g(new pt(2,6,6006,e.message,e,n))}}))}function Ee(t,e){if(be(e).startsWith("com.apple.fps")){var n=e.serverCertificate;t=Yt(t,Ft(t),n)}return t}function Me(t,e){var n=e.target;Q.D("Sending license request for session",n.sessionId,"of type",e.messageType);var r=t.b.get(n),i=t.a.licenseServerUri,o=t.f.advanced[t.a.keySystem];"individualization-request"==e.messageType&&o&&o.individualizationServer&&(i=o.individualizationServer),(i=_t([i],t.f.retryParameters)).body=e.message,i.method="POST",i.licenseRequestType=e.messageType,i.sessionId=n.sessionId,"com.microsoft.playready"!=t.a.keySystem&&"com.chromecast.playready"!=t.a.keySystem||function(t){var e=oe(t.body,!0,!0);if(e.includes("PlayReadyKeyMessage")){Q.debug("Unwrapping PlayReady request.");for(var n=(e=(new DOMParser).parseFromString(e,"application/xml")).getElementsByTagName("HttpHeader"),r=0;r<n.length;++r)t.headers[n[r].getElementsByTagName("name")[0].textContent]=n[r].getElementsByTagName("value")[0].textContent;t.body=fe.Fa(e.getElementsByTagName("Challenge")[0].textContent).buffer}else Q.debug("PlayReady request is already unwrapped."),t.headers["Content-Type"]="text/xml; charset=utf-8"}(i),t.a.keySystem.startsWith("com.apple.fps")&&t.f.fairPlayTransform&&function(t){var e=new Uint8Array(t.body);e="spc="+fe.Hc(e),t.headers["Content-Type"]="application/x-www-form-urlencoded",t.body=se(e)}(i);var a=Date.now();t.F.Db.request(2,i).promise.then(function(t){return this.c?Promise.reject():(this.a.keySystem.startsWith("com.apple.fps")&&this.f.fairPlayTransform&&function(t){try{var e=ie(t.data)}catch(t){return}"<ckc>"===(e=e.trim()).substr(0,5)&&"</ckc>"===e.substr(-6)&&(e=e.slice(5,-6));try{e=JSON.parse(e).ckc}catch(t){}t.data=fe.Fa(e).buffer}(t),this.K+=(Date.now()-a)/1e3,Q.D("Updating session",n.sessionId),n.update(t.data).then(function(){var t=this;this.F.onEvent(new St("drmsessionupdate")),r&&(r.Ca&&r.Ca.resolve(),new ft((function(){r.loaded=!0,Le(t)&&t.o.resolve()})).T(Ce))}.bind(this)))}.bind(t),function(t){this.c||(t=new pt(2,6,6007,t),this.g(t),r&&r.Ca&&r.Ca.reject(t))}.bind(t)).catch(function(t){this.c||(t=new pt(2,6,6008,t.message),this.g(t),r&&r.Ca&&r.Ca.reject(t))}.bind(t))}function Ie(){var t=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],e=[{videoCapabilities:t,persistentState:"required",sessionTypes:["persistent-license"]},{videoCapabilities:t}],n=new Map;return t="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.3_0 com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" ").map((function(t){return function(t){return m((function r(){var i,o,a;return R(r,(function(r){switch(r.j){case 1:return A(r,2),M(r,navigator.requestMediaKeySystemAccess(t,e),4);case 4:return i=r.s,a=!!(o=i.getConfiguration().sessionTypes)&&o.includes("persistent-license"),te("Tizen 3")&&(a=!1),n.set(t,{persistentState:a}),M(r,i.createMediaKeys(),5);case 5:N(r,0);break;case 2:L(r),n.set(t,null),I(r)}}))}))}(t)})),Promise.all(t).then((function(){return Vt(n)}))}function Ae(t,e){var n=e.audio,r=e.video;if(n&&n.encrypted&&!ve(t,Zt(n.mimeType,n.codecs))||r&&r.encrypted&&!ve(t,Zt(r.mimeType,r.codecs)))return!1;var i=be(t.a);return 0==e.drmInfos.length||e.drmInfos.some((function(t){return t.keySystem==i}))}function ke(t,e){if(!t.length)return e;if(!e.length)return t;for(var n=[],r=0;r<t.length;r++)for(var i=0;i<e.length;i++)if(t[r].keySystem==e[i].keySystem){var o=t[r];i=e[i];var a=[];a=(a=a.concat(o.initData||[])).concat(i.initData||[]);var s=[];s=(s=s.concat(o.keyIds)).concat(i.keyIds),n.push({keySystem:o.keySystem,licenseServerUri:o.licenseServerUri||i.licenseServerUri,distinctiveIdentifierRequired:o.distinctiveIdentifierRequired||i.distinctiveIdentifierRequired,persistentStateRequired:o.persistentStateRequired||i.persistentStateRequired,videoRobustness:o.videoRobustness||i.videoRobustness,audioRobustness:o.audioRobustness||i.audioRobustness,serverCertificate:o.serverCertificate||i.serverCertificate,initData:a,keyIds:s});break}return n}function Ne(t){return m((function e(){var n;return R(e,(function(e){switch(e.j){case 1:return n=Array.from(t.b.keys()),t.b.clear(),M(e,Promise.all(n.map((function(t){return m((function e(){return R(e,(function(e){switch(e.j){case 1:return Q.D("Closing session",t.sessionId),A(e,2),M(e,Promise.all([t.close(),t.closed]),4);case 4:N(e,0);break;case 2:L(e),I(e)}}))}))}))),0)}}))}))}function Le(t){return Ht(t=t.b.values(),(function(t){return t.loaded}))}function De(e,n,r){!e.keySystem||"org.w3.clearkey"==e.keySystem&&e.licenseServerUri||(n.size&&(n=n.get(e.keySystem)||"",e.licenseServerUri=n),e.keyIds||(e.keyIds=[]),(r=r.get(e.keySystem))&&(e.distinctiveIdentifierRequired||(e.distinctiveIdentifierRequired=r.distinctiveIdentifierRequired),e.persistentStateRequired||(e.persistentStateRequired=r.persistentStateRequired),e.videoRobustness||(e.videoRobustness=r.videoRobustness),e.audioRobustness||(e.audioRobustness=r.audioRobustness),e.serverCertificate||(e.serverCertificate=r.serverCertificate)),t.cast&&t.cast.__platform__&&"com.microsoft.playready"==e.keySystem&&(e.keySystem="com.chromecast.playready"))}G("shaka.util.Uint8ArrayUtils.toBase64",fe.Hc),fe.Fa=function(e){e=t.atob(e.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(e.length),r=0;r<e.length;++r)n[r]=e.charCodeAt(r);return n},G("shaka.util.Uint8ArrayUtils.fromBase64",fe.Fa),fe.Yc=function(e){for(var n=new Uint8Array(e.length/2),r=0;r<e.length;r+=2)n[r/2]=t.parseInt(e.substr(r,2),16);return n},G("shaka.util.Uint8ArrayUtils.fromHex",fe.Yc),fe.Ic=function(t){for(var e="",n=0;n<t.length;++n){var r=t[n].toString(16);1==r.length&&(r="0"+r),e+=r}return e},G("shaka.util.Uint8ArrayUtils.toHex",fe.Ic),fe.Da=function(t,e){if(!t&&!e)return!0;if(!t||!e||t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!=e[n])return!1;return!0},G("shaka.util.Uint8ArrayUtils.equal",fe.Da),fe.concat=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];for(var r=n=0;r<e.length;++r)n+=e[r].length;n=new Uint8Array(n);for(var i=r=0;i<e.length;++i)n.set(e[i],r),r+=e[i].length;return n},G("shaka.util.Uint8ArrayUtils.concat",fe.concat),(i=he.prototype).destroy=function(){var t=this;return m((function e(){return R(e,(function(e){switch(e.j){case 1:return t.c?M(e,t.qa,0):(t.c=!0,M(e,function(t){return m((function e(){return R(e,(function(e){switch(e.j){case 1:return t.i.release(),t.i=null,t.o.reject(),t.ea.stop(),t.ea=null,t.S.stop(),t.S=null,M(e,Ne(t),2);case 2:if(!t.h){e.C(3);break}return A(e,4),M(e,t.h.setMediaKeys(null),6);case 6:N(e,5);break;case 4:L(e);case 5:t.h=null;case 3:t.a=null,t.v.clear(),t.l=null,t.u=[],t.f=null,t.g=null,t.F=null,I(e)}}))}))}(t),4));case 4:t.qa.resolve(),e.C(0)}}))}))},i.configure=function(t){this.f=t},i.Qb=function(t){var e=this;if(!this.l)return this.i.ua(t,"encrypted",(function(){e.g(new pt(2,6,6010))})),Promise.resolve();this.h=t,this.i.ua(this.h,"play",(function(){for(var t=0;t<e.H.length;t++)Me(e,e.H[t]);e.ra=!0,e.H=[]})),"webkitCurrentPlaybackTargetIsWireless"in this.h&&this.i.B(this.h,"webkitcurrentplaybacktargetiswirelesschanged",(function(){return Ne(e)})),t=(t=this.h.setMediaKeys(this.l)).catch((function(t){return Promise.reject(new pt(2,6,6003,t.message))}));var n=me(this);return Promise.all([t,n]).then((function(){if(e.c)return Promise.reject();ge(e),e.a.initData.length||e.u.length||e.i.B(e.h,"encrypted",(function(t){return ye(e,t.initDataType,new Uint8Array(t.initData))}))})).catch((function(t){if(!e.c)return Promise.reject(t)}))},i.Tb=function(){for(var t=1/0,e=this.b.keys(),n=(e=d(e)).next();!n.done;n=e.next())n=n.value,isNaN(n.expiration)||(t=Math.min(t,n.expiration));return t},i.se=function(t){this.h&&this.f.delayLicenseRequestUntilPlayed&&this.h.paused&&!this.ra?this.H.push(t):Me(this,t)},i.qe=function(t){t=t.target,Q.J("Key status changed for session",t.sessionId);var e=this.b.get(t),n=!1;t.keyStatuses.forEach(function(t,r){if("string"==typeof r){var i=r;r=t,t=i}if(!("com.microsoft.playready"!=this.a.keySystem||16!=r.byteLength||te("Tizen")||te("VITIS")||te("Web0S")||te("TiVo"))){var o=(i=new DataView(r)).getUint32(0,!0),a=i.getUint16(4,!0),s=i.getUint16(6,!0);i.setUint32(0,o,!1),i.setUint16(4,a,!1),i.setUint16(6,s,!1)}"com.microsoft.playready"==this.a.keySystem&&"status-pending"==t&&(t="usable"),"status-pending"!=t&&(e.loaded=!0),"expired"==t&&(n=!0),i=fe.Ic(new Uint8Array(r)),this.sa.set(i,t)}.bind(this));var r=t.expiration-Date.now();(0>r||n&&1e3>r)&&e&&!e.Ca&&(Q.debug("Session has expired",t.sessionId),this.b.delete(t),t.close().catch((function(){}))),Le(this)&&(this.o.resolve(),this.S.T(Oe))};var Ce=5,Oe=.5;function _e(){this.a=new n.mp4.CaptionParser,this.g=[],this.f={}}function Pe(){}function je(t){return!t||1==t.length&&1e-6>t.end(0)-t.start(0)?null:t.length?t.end(t.length-1):null}function Re(t,e,n){return n=void 0===n?0:n,!(!t||!t.length||1==t.length&&1e-6>t.end(0)-t.start(0)||e>t.end(t.length-1))&&e+n>=t.start(0)}function Ue(t,e){if(!t||!t.length||1==t.length&&1e-6>t.end(0)-t.start(0))return 0;for(var n=0,r=t.length-1;0<=r&&t.end(r)>e;--r)n+=t.end(r)-Math.max(t.start(r),e);return n}function ze(t){if(!t)return[];for(var e=[],n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e}_e.prototype.init=function(t){var e=n.mp4.probe;t=new Uint8Array(t),this.g=e.videoTrackIds(t),this.f=e.timescale(t),this.a.init()},_e.prototype.b=function(t,e){var n=new Uint8Array(t);(n=this.a.parse(n,this.g,this.f))&&n.captions&&e(n.captions),this.a.clearParsedCaptions()},_e.prototype.c=function(){this.a.resetCaptionStream()},Pe.prototype.init=function(){},Pe.prototype.b=function(){},Pe.prototype.c=function(){};var Be={Xe:function(t,e){return t.reduce(function(t,e,n){return e.catch(t.bind(null,n))}.bind(null,e),Promise.reject())},Oc:function(t,e){return t.concat(e)},wc:function(){},Ma:function(t){return null!=t}};function Fe(t,e){if(0==e.length)return t;var n=e.map((function(t){return new J(t)}));return t.map((function(t){return new J(t)})).map((function(t){return n.map(t.resolve.bind(t))})).reduce(Be.Oc,[]).map((function(t){return t.toString()}))}function Ye(t,e){return{keySystem:t,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:e||[],keyIds:[]}}var Ge={Ua:"video",Nb:"audio",va:"text",Mg:"image",Kg:"application"};function He(){this.a=new n.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.b=null,this.g=[],this.c=[],this.f=!1,this.a.on("data",this.i.bind(this)),this.a.on("done",this.h.bind(this))}function We(e,n){return!(!t.muxjs||"mp2t"!=e.toLowerCase().split(";")[0].split("/")[1])&&(n?MediaSource.isTypeSupported(Ve(n,e)):MediaSource.isTypeSupported(Ve("audio",e))||MediaSource.isTypeSupported(Ve("video",e)))}function Ve(t,e){var n=e.replace(/mp2t/i,"mp4");"audio"==t&&(n=n.replace("video","audio"));var r=/avc1\.(66|77|100)\.(\d+)/.exec(n);if(r){var i="avc1.",o=r[1],a=Number(r[2]);i=("66"==o?i+"4200":"77"==o?i+"4d00":i+"6400")+(a>>4).toString(16),i+=(15&a).toString(16),n=n.replace(r[0],i)}return n}function Ze(t,e,n){this.startTime=t,this.direction=$e,this.endTime=e,this.payload=n,this.region=new un,this.position=null,this.positionAlign=Ke,this.size=0,this.textAlign=Qe,this.writingMode=tn,this.lineInterpretation=en,this.line=null,this.lineHeight="",this.lineAlign=nn,this.displayAlign=Je,this.fontSize=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=on,this.fontStyle=an,this.fontFamily="",this.textDecoration=[],this.wrapLine=!0,this.id="",this.nestedCues=[],this.spacer=!1}He.prototype.destroy=function(){return this.a.dispose(),this.a=null,Promise.resolve()},He.prototype.i=function(t){this.c=t.captions;var e=new Uint8Array(t.data.byteLength+t.initSegment.byteLength);e.set(t.initSegment,0),e.set(t.data,t.initSegment.byteLength),this.g.push(e)},He.prototype.h=function(){var t={data:fe.concat.apply(null,this.g),captions:this.c};this.b.resolve(t),this.f=!1},G("shaka.text.Cue",Ze);var Ke="auto";Ze.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:Ke};var Qe="center",Xe={LEFT:"left",RIGHT:"right",CENTER:Qe,START:"start",END:"end"};Ze.textAlign=Xe;var Je="after",qe={BEFORE:"before",CENTER:"center",AFTER:Je};Ze.displayAlign=qe;var $e="ltr";Ze.direction={HORIZONTAL_LEFT_TO_RIGHT:$e,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var tn="horizontal-tb";Ze.writingMode={HORIZONTAL_TOP_TO_BOTTOM:tn,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var en=0;Ze.lineInterpretation={LINE_NUMBER:en,PERCENTAGE:1};var nn="start",rn={CENTER:"center",START:nn,END:"end"};Ze.lineAlign=rn;var on=400;Ze.fontWeight={NORMAL:on,BOLD:700};var an="normal",sn={NORMAL:an,ITALIC:"italic",OBLIQUE:"oblique"};function un(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=cn,this.scroll=ln}Ze.fontStyle=sn,Ze.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},G("shaka.text.CueRegion",un);var cn=1;un.units={PX:0,PERCENTAGE:cn,LINES:2};var ln="";function fn(t){this.g=null,this.c=t,this.f=this.o=0,this.h=1/0,this.b=this.a=null,this.l="",this.i=new Map}un.scrollMode={NONE:ln,UP:"up"};var hn={};function dn(e){return!!(hn[e]||t.muxjs&&"application/cea-608"==e)}function pn(t,e){"application/cea-608"!=e&&(t.g=new hn[e])}function mn(t,e,n,r,i){for(var o=n+" "+r,a=new Map,s=(e=d(e)).next();!s.done;s=e.next()){var u=s.value;s=u.stream,a.has(s)||a.set(s,new Map),a.get(s).has(o)||a.get(s).set(o,[]),u.startTime+=i,u.endTime+=i,u.startTime>=t.f&&u.startTime<t.h&&(u=new Ze(u.startTime,u.endTime,u.text),a.get(s).get(o).push(u),s==t.l&&t.c.append([u]))}for(o=(i=d(a.keys())).next();!o.done;o=i.next())for(o=o.value,t.i.has(o)||t.i.set(o,new Map),s=(e=d(a.get(o).keys())).next();!s.done;s=e.next())s=s.value,u=a.get(o).get(s),t.i.get(o).set(s,u);t.a=null==t.a?Math.max(n,t.f):Math.min(t.a,Math.max(n,t.f)),t.b=Math.max(t.b,Math.min(r,t.h))}function gn(t,e,n){this.f=t,this.g=n,this.b={},this.a=null,this.c={},this.i=new Ut,this.v=!1,this.l={},this.o=e,t=this.u=new mt,e=new MediaSource,this.i.ua(e,"sourceopen",t.resolve),this.f.src=yn(e),this.h=e}G("shaka.text.TextEngine.registerParser",(function(t,e){hn[t]=e})),G("shaka.text.TextEngine.unregisterParser",(function(t){delete hn[t]})),fn.prototype.destroy=function(){return this.c=this.g=null,this.i.clear(),Promise.resolve()},fn.prototype.sc=function(t){try{return this.g.parseMedia(new Uint8Array(t),{periodStart:0,segmentStart:null,segmentEnd:0})[0].startTime}catch(t){throw new pt(2,2,2009,t)}},fn.prototype.remove=function(t,e){return Promise.resolve().then(function(){!this.c||!this.c.remove(t,e)||null==this.a||e<=this.a||t>=this.b||(t<=this.a&&e>=this.b?this.a=this.b=null:t<=this.a&&e<this.b?this.a=e:t>this.a&&e>=this.b&&(this.b=t))}.bind(this))};var yn=t.URL.createObjectURL;function bn(t){var e=Zt(t.mimeType,t.codecs),n=function(t){var e=[t.mimeType];return Qt.forEach((function(n,r){var i=t[r];i&&e.push(n+'="'+i+'"')})),e.join(";")}(t);return dn(e)||MediaSource.isTypeSupported(n)||We(e,t.type)}function vn(t,e){t.a||(t.a=new fn(t.g)),pn(t.a,e)}function wn(t){return!t.h||"ended"==t.h.readyState}function Tn(t,e){if("text"==e)var n=t.a.a;else n=!(n=xn(t,e))||1==n.length&&1e-6>n.end(0)-n.start(0)?null:1==n.length&&0>n.start(0)?0:n.length?n.start(0):null;return n}function Sn(t,e){return"text"==e?t.a.b:je(xn(t,e))}function xn(t,e){try{return t.b[e].buffered}catch(n){return e in t.b&&Q.error("failed to get buffered range for "+e,n),null}}function En(e,n,r,i,o,a){return"text"==n?function(t,e,n,r){return Promise.resolve().then(function(){if(this.g&&this.c)if(null==n||null==r)this.g.parseInit(new Uint8Array(e));else{var t={periodStart:this.o,segmentStart:n,segmentEnd:r};t=this.g.parseMedia(new Uint8Array(e),t).filter(function(t){return t.startTime>=this.f&&t.startTime<this.h}.bind(this)),this.c.append(t),null==this.a&&(this.a=Math.max(n,this.f)),this.b=Math.min(r,this.h)}}.bind(t))}(e.a,r,i,o):e.l[n]?function(t,e){t.f=!0,t.b=new mt,t.g=[],t.c=[];var n=new Uint8Array(e);return t.a.push(n),t.a.flush(),t.f&&t.b.reject(new pt(2,3,3018)),t.b}(e.l[n],r).then(function(t){return this.a||vn(this,"text/vtt"),t.captions&&t.captions.length&&mn(this.a,t.captions,i,o,this.b.video.timestampOffset),An(this,n,this.Ee.bind(this,n,t.data.buffer))}.bind(e)):(a&&t.muxjs&&(e.a||vn(e,"text/vtt"),null==i&&null==o?e.o.init(r):e.o.b(r,(function(t){t.length&&mn(e.a,t,i,o,e.b.video.timestampOffset)}))),An(e,n,e.Ee.bind(e,n,r)))}function Mn(t,e){var n=Sn(t,"video")||0;!function(t,e,n){if(t.l=e,e=t.i.get(e))for(var r=d(e.keys()),i=r.next();!i.done;i=r.next())(i=e.get(i.value).filter((function(t){return t.endTime<=n})))&&t.c.append(i)}(t.a,e,n)}function In(t,e){return"text"==e?t.a?(t.o.c(),t.a.remove(0,1/0)):Promise.resolve():An(t,e,t.Fe.bind(t,e,0,t.h.duration))}function An(t,e,n){if(t.v)return Promise.reject();if(n={start:n,p:new mt},t.c[e].push(n),1==t.c[e].length)try{n.start()}catch(r){"QuotaExceededError"==r.name?n.p.reject(new pt(2,3,3017,e)):n.p.reject(new pt(2,3,3015,r)),Nn(t,e)}return n.p}function kn(t,e){if(t.v)return Promise.reject();var n,r=[];for(n in t.b){var i=new mt,o={start:function(t){t.resolve()}.bind(null,i),p:i};t.c[n].push(o),r.push(i),1==t.c[n].length&&o.start()}return Promise.all(r).then(function(){try{e()}catch(e){var t=Promise.reject(new pt(2,3,3015,e))}for(var n in this.b)Nn(this,n);return t}.bind(t),function(t){throw t}.bind(t))}function Nn(t,e){t.c[e].shift();var n=t.c[e][0];if(n)try{n.start()}catch(r){n.p.reject(new pt(2,3,3015,r)),Nn(t,e)}}function Ln(t,e){return t=Cn(t),e=Cn(e),t.split("-")[0]==e.split("-")[0]}function Dn(t,e){t=Cn(t),e=Cn(e);var n=t.split("-"),r=e.split("-");return n[0]==r[0]&&1==n.length&&2==r.length}function Cn(t){var e=t.split("-");return t=e[0]||"",e=e[1]||"",t=t.toLowerCase(),t=Pn.get(t)||t,(e=e.toUpperCase())?t+"-"+e:t}function On(t){return t.language?Cn(t.language):t.audio&&t.audio.language?Cn(t.audio.language):t.video&&t.video.language?Cn(t.video.language):"und"}function _n(t,e){for(var n=Cn(t),r=new Set,i=d(e),o=i.next();!o.done;o=i.next())r.add(Cn(o.value));for(o=(i=d(r)).next();!o.done;o=i.next())if((o=o.value)==n)return o;for(o=(i=d(r)).next();!o.done;o=i.next())if(Dn(o=o.value,n))return o;for(o=(i=d(r)).next();!o.done;o=i.next()){var a=o=o.value,s=n;if(a=Cn(a),s=Cn(s),a=a.split("-"),s=s.split("-"),2==a.length&&2==s.length&&a[0]==s[0])return o}for(o=(r=d(r)).next();!o.done;o=r.next())if(Dn(n,i=o.value))return i;return null}(i=gn.prototype).destroy=function(){var t=this;this.v=!0;var e,n=[];for(e in this.c){var r=this.c[e],i=r[0];for(this.c[e]=r.slice(0,1),i&&n.push(i.p.catch(Be.wc)),i=1;i<r.length;++i)r[i].p.reject()}for(var o in this.a&&n.push(this.a.destroy()),this.g&&n.push(this.g.destroy()),this.l)n.push(this.l[o].destroy());return Promise.all(n).then((function(){t.i&&(t.i.release(),t.i=null),t.f&&(t.f.removeAttribute("src"),t.f.load(),t.f=null),t.h=null,t.a=null,t.g=null,t.b={},t.l={},t.o=null,t.c={}}))},i.init=function(t,e){var n=this;return m((function r(){var i;return R(r,(function(r){switch(r.j){case 1:return i=Ge,M(r,n.u,2);case 2:t.forEach((function(t,r){var o=Zt(t.mimeType,t.codecs);r==i.va?vn(n,o):(!e&&MediaSource.isTypeSupported(o)||!We(o,r)||(n.l[r]=new He,o=Ve(r,o)),o=n.h.addSourceBuffer(o),n.i.B(o,"error",n.vg.bind(n,r)),n.i.B(o,"updateend",n.Gb.bind(n,r)),n.b[r]=o,n.c[r]=[])})),I(r)}}))}))},i.$c=function(t){if(t.total=ze(this.f.buffered),t.audio=ze(xn(this,"audio")),t.video=ze(xn(this,"video")),t.text=[],this.a){var e=this.a.a,n=this.a.b;null!=e&&null!=n&&t.text.push({start:e,end:n})}},i.remove=function(t,e,n){return"text"==t?this.a.remove(e,n):An(this,t,this.Fe.bind(this,t,e,n))},i.flush=function(t){return"text"==t?Promise.resolve():An(this,t,this.bf.bind(this,t))},i.endOfStream=function(t){return kn(this,function(){wn(this)||(t?this.h.endOfStream(t):this.h.endOfStream())}.bind(this))},i.Ba=function(t){return kn(this,function(){this.h.duration=t}.bind(this))},i.ca=function(){return this.h.duration},i.Ee=function(t,e){this.b[t].appendBuffer(e)},i.Fe=function(t,e,n){n<=e?this.Gb(t):this.b[t].remove(e,n)},i.Oe=function(t){var e=this.b[t].appendWindowStart,n=this.b[t].appendWindowEnd;this.b[t].abort(),this.b[t].appendWindowStart=e,this.b[t].appendWindowEnd=n,this.Gb(t)},i.bf=function(t){this.f.currentTime-=.001,this.Gb(t)},i.ug=function(t,e){0>e&&(e+=.001),this.b[t].timestampOffset=e,this.Gb(t)},i.rg=function(t,e,n){this.b[t].appendWindowStart=0,this.b[t].appendWindowEnd=n,this.b[t].appendWindowStart=e,this.Gb(t)},i.vg=function(t){this.c[t][0].p.reject(new pt(2,3,3014,this.f.error?this.f.error.code:0))},i.Gb=function(t){var e=this.c[t][0];e&&(e.p.resolve(),Nn(this,t))};var Pn=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]),jn={Vd:function(t,e){function n(t){var e="";t.video&&(e=Kt(t.video.codecs)[0]);var n="";return t.audio&&(n=Kt(t.audio.codecs)[0]),e+"-"+n}var r=t.periods.reduce((function(t,e){return t.concat(e.variants)}),[]);r=jn.$d(r,e);for(var i=new xt,o=(r=d(r)).next();!o.done;o=r.next()){var a=n(o=o.value);i.push(a,o)}var s=null,u=1/0;for(i.forEach((function(t,e){for(var n=0,r=0,i=d(e),o=i.next();!o.done;o=i.next())n+=o.value.bandwidth||0,++r;n/=r,Q.debug("codecs",t,"avg bandwidth",n),n<u&&(s=t,u=n)})),r=(i=d(t.periods)).next();!r.done;r=i.next())(r=r.value).variants=r.variants.filter((function(t){return n(t)==s||(Q.debug("Dropping Variant (better codec available)",t),!1)}))},ld:function(t,e,n){function r(t,e,n){return t>=e&&t<=n}var i=t.video;return!(i&&i.width&&i.height&&(!r(i.width,e.minWidth,Math.min(e.maxWidth,n.width))||!r(i.height,e.minHeight,Math.min(e.maxHeight,n.height))||!r(i.width*i.height,e.minPixels,e.maxPixels))||t&&t.video&&t.video.frameRate&&!r(t.video.frameRate,e.minFrameRate,e.maxFrameRate)||!r(t.bandwidth,e.minBandwidth,e.maxBandwidth))},Sd:function(t,e,n){var r=!1;return t.forEach((function(t){var i=t.allowedByApplication;t.allowedByApplication=jn.ld(t,e,n),i!=t.allowedByApplication&&(r=!0)})),r},filterNewPeriod:function(t,e,n,r){r.variants=r.variants.filter((function(r){if(t&&t.V&&!Ae(t,r))return Q.debug("Dropping variant - not compatible with key system",r),!1;var i=r.audio;return r=r.video,i&&!bn(i)?(Q.debug("Dropping variant - audio not compatible with platform",jn.yb(i)),!1):r&&!bn(r)?(Q.debug("Dropping variant - video not compatible with platform",jn.yb(r)),!1):i&&e&&!jn.Td(i,e)?(Q.debug("Droping variant - not compatible with active audio","active audio",jn.yb(e),"variant.audio",jn.yb(i)),!1):!(r&&n&&!jn.Td(r,n))||(Q.debug("Droping variant - not compatible with active video","active video",jn.yb(n),"variant.video",jn.yb(r)),!1)})),r.textStreams=r.textStreams.filter((function(t){var e=dn(Zt(t.mimeType,t.codecs));return e||Q.debug("Dropping text stream. Is not supported by the platform.",t),e}))},Td:function(t,e){return t.mimeType==e.mimeType&&t.codecs.split(".")[0]==e.codecs.split(".")[0]},Qd:function(t){var e=t.audio,n=t.video,r=e?e.codecs:null,i=n?n.codecs:null,o=[];i&&o.push(i),r&&o.push(r);var a=[];n&&a.push(n.mimeType),e&&a.push(e.mimeType),a=a[0]||null;var s=[];e&&s.push(e.kind),n&&s.push(n.kind),s=s[0]||null;var u=new Set;return e&&e.roles.forEach((function(t){return u.add(t)})),n&&n.roles.forEach((function(t){return u.add(t)})),t={id:t.id,active:!1,type:"variant",bandwidth:t.bandwidth,language:t.language,label:null,kind:s,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:a,codecs:o.join(", "),audioCodec:r,videoCodec:i,primary:t.primary,roles:Array.from(u),audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null},n&&(t.videoId=n.id,t.originalVideoId=n.originalId,t.width=n.width||null,t.height=n.height||null,t.frameRate=n.frameRate||null,t.pixelAspectRatio=n.pixelAspectRatio||null,t.videoBandwidth=n.bandwidth||null),e&&(t.audioId=e.id,t.originalAudioId=e.originalId,t.channelsCount=e.channelsCount,t.audioSamplingRate=e.audioSamplingRate,t.audioBandwidth=e.bandwidth||null,t.label=e.label,t.audioRoles=e.roles),t},Fc:function(t){return{id:t.id,active:!1,type:"text",bandwidth:0,language:t.language,label:t.label,kind:t.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:t.mimeType,codecs:t.codecs||null,audioCodec:null,videoCodec:null,primary:t.primary,roles:t.roles,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:t.originalId}},ed:function(t){return t.__shaka_id||(t.__shaka_id=jn.Kf++),t.__shaka_id},Kf:0,Ef:function(t){var e=jn.ee(t);return e.active="disabled"!=t.mode,e.type="text",e.originalTextId=t.id,"captions"==t.kind&&(e.mimeType="application/cea-608"),t.kind&&(e.roles=[t.kind]),e},de:function(t){var e=jn.ee(t);return e.active=t.enabled,e.type="variant",e.originalAudioId=t.id,"main"==t.kind&&(e.primary=!0),t.kind&&(e.roles=[t.kind],e.audioRoles=[t.kind]),e},ee:function(t){return{id:jn.ed(t),active:!1,type:"",bandwidth:0,language:Cn(t.language),label:t.label,kind:t.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null}},Bb:function(t){return t.allowedByApplication&&t.allowedByKeySystem},sf:function(t){return t.filter((function(t){return jn.Bb(t)}))},$d:function(t,e){for(var n=t.filter((function(t){return t.audio&&t.audio.channelsCount})),r=new Map,i=(n=d(n)).next();!i.done;i=n.next()){var o=(i=i.value).audio.channelsCount;r.has(o)||r.set(o,[]),r.get(o).push(i)}return 0==(n=Array.from(r.keys())).length?t:(i=n.filter((function(t){return t<=e}))).length?r.get(Math.max.apply(null,i)):r.get(Math.min.apply(null,n))},Sb:function(t,e,n){var r=t,i=t.filter((function(t){return t.primary}));i.length&&(r=i);var o=r.length?r[0].language:"";if(r=r.filter((function(t){return t.language==o})),e){var a=_n(Cn(e),t.map((function(t){return t.language})));a&&(r=t.filter((function(t){return Cn(t.language)==a})))}if(n){if((t=jn.Zd(r,n)).length)return t;Q.m("No exact match for the text role could be found.")}else if((t=r.filter((function(t){return 0==t.roles.length}))).length)return t;return(t=r.map((function(t){return t.roles})).reduce(Be.Oc,[])).length?jn.Zd(r,t[0]):r},Zd:function(t,e){return t.filter((function(t){return t.roles.includes(e)}))},ce:function(t,e,n){for(var r=0;r<n.length;r++)if(n[r].audio==t&&n[r].video==e)return n[r];return null},Ff:function(t){return"audio"==t.type},If:function(t){return"video"==t.type},Bf:function(t){var e=[];return t.audio&&e.push(t.audio),t.video&&e.push(t.video),e},yb:function(t){return jn.Ff(t)?"type=audio codecs="+t.codecs+" bandwidth="+t.bandwidth+" channelsCount="+t.channelsCount+" audioSamplingRate="+t.audioSamplingRate:jn.If(t)?"type=video codecs="+t.codecs+" bandwidth="+t.bandwidth+" frameRate="+t.frameRate+" width="+t.width+" height="+t.height:"unexpected stream type"}};function Rn(){this.h=null,this.c=!1,this.b=new K,this.g=[],this.i=!1,this.a=this.f=null}function Un(t,e){return t&&(e=e.filter((function(e){return jn.ld(e,t,{width:1/0,height:1/0})}))),e.sort((function(t,e){return t.bandwidth-e.bandwidth}))}function zn(t,e){this.a=t,this.b=e}function Bn(t,e){var n=new zn(2,6),r=Gn,i=r.a,o=n.b-i.b;(0<(n.a-i.a||o)?r.c:r.b)(r.a,n,t,e)}function Fn(t,e,n,r){Q.Z([n,"has been deprecated and will be removed in",e,". We are currently at version",t,". Additional information:",r].join(" "))}function Yn(t,e,n,r){Q.jc([n,"has been deprecated and has been removed in",e,". We are now at version",t,". Additional information:",r].join(""))}G("shaka.abr.SimpleAbrManager",Rn),Rn.prototype.stop=function(){this.h=null,this.c=!1,this.g=[],this.f=null},Rn.prototype.stop=Rn.prototype.stop,Rn.prototype.init=function(t){this.h=t},Rn.prototype.init=Rn.prototype.init,Rn.prototype.chooseVariant=function(){var t=Un(this.a.restrictions,this.g),e=this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate);this.g.length&&!t.length&&(Q.m("No variants met the ABR restrictions. Choosing a variant by lowest bandwidth."),t=[(t=Un(null,this.g))[0]]);for(var n=t[0]||null,r=0;r<t.length;++r){var i=t[r],o=i.bandwidth/this.a.bandwidthDowngradeTarget,a=(t[r+1]||{bandwidth:1/0}).bandwidth/this.a.bandwidthUpgradeTarget;Q.J("Bandwidth ranges:",(i.bandwidth/1e6).toFixed(3),(o/1e6).toFixed(3),(a/1e6).toFixed(3)),e>=o&&e<=a&&(n=i)}return this.f=Date.now(),n},Rn.prototype.chooseVariant=Rn.prototype.chooseVariant,Rn.prototype.enable=function(){this.c=!0},Rn.prototype.enable=Rn.prototype.enable,Rn.prototype.disable=function(){this.c=!1},Rn.prototype.disable=Rn.prototype.disable,Rn.prototype.segmentDownloaded=function(t,e){Q.J("Segment downloaded:","deltaTimeMs="+t,"numBytes="+e,"lastTimeChosenMs="+this.f,"enabled="+this.c);var n=this.b;if(!(16e3>e)){var r=8e3*e/t,i=t/1e3;n.a+=e,V(n.b,i,r),V(n.c,i,r)}if(null!=this.f&&this.c)t:{if(Q.J("Suggesting Streams..."),this.i){if(Date.now()-this.f<1e3*this.a.switchInterval){Q.J("Still within switch interval...");break t}}else{if(!(128e3<=this.b.a)){Q.J("Still waiting for a good estimate...");break t}this.i=!0}n=this.chooseVariant(),r=this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate),Q.debug("Calling switch_(), bandwidth="+Math.round(r/1e3)+" kbps"),this.h(n)}},Rn.prototype.segmentDownloaded=Rn.prototype.segmentDownloaded,Rn.prototype.getBandwidthEstimate=function(){return this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate)},Rn.prototype.getBandwidthEstimate=Rn.prototype.getBandwidthEstimate,Rn.prototype.setVariants=function(t){this.g=t},Rn.prototype.setVariants=Rn.prototype.setVariants,Rn.prototype.configure=function(t){this.a=t},Rn.prototype.configure=Rn.prototype.configure,zn.prototype.toString=function(){return"v"+this.a+"."+this.b};var Gn=null,Hn="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),Wn="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),Vn=["loop","playbackRate"],Zn=["pause","play"],Kn="abrstatuschanged adaptation buffering drmsessionupdate emsg error expirationupdated largegap loading manifestparsed onstatechange onstateidle streaming textchanged texttrackvisibility timelineregionadded timelineregionenter timelineregionexit trackschanged unloading variantchanged".split(" "),Qn={getAssetUri:2,getAudioLanguages:2,getAudioLanguagesAndRoles:2,getBufferedInfo:2,getConfiguration:2,getExpiration:2,getPlaybackRate:2,getTextLanguages:2,getTextLanguagesAndRoles:2,getTextTracks:2,getStats:5,getVariantTracks:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,usingEmbeddedTextTrack:2,getLoadMode:10},Xn={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},Jn=[["getConfiguration","configure"]],qn=[["isTextTrackVisible","setTextTrackVisibility"]],$n="addTextTrack cancelTrickPlay configure resetConfiguration retryStreaming selectAudioLanguage selectEmbeddedTextTrack selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay".split(" "),tr=["attach","detach","load","unload"];function er(t){return JSON.stringify(t,(function(t,e){if("function"!=typeof e){if(e instanceof Event||e instanceof St){var n={};for(i in e){var r=e[i];r&&"object"==typeof r?"detail"==i&&(n[i]=r):i in Event||(n[i]=r)}return n}if(e instanceof Error){var i=new Set(["name","message","stack"]);for(n in e)i.add(n);for(n=(r=d(Object.getOwnPropertyNames(e))).next();!n.done;n=r.next())i.add(n.value);for(r={},n=(i=d(i)).next();!n.done;n=i.next())r[n=n.value]=e[n];i={__type__:"Error",contents:r}}else if(e instanceof TimeRanges)for(i={__type__:"TimeRanges",length:e.length,start:[],end:[]},n=0;n<e.length;++n)i.start.push(e.start(n)),i.end.push(e.end(n));else i=e instanceof Uint8Array?{__type__:"Uint8Array",entries:Array.from(e)}:"number"==typeof e?isNaN(e)?"NaN":isFinite(e)?e:0>e?"-Infinity":"Infinity":e;return i}}))}function nr(t){return JSON.parse(t,(function(t,e){if("NaN"==e)var n=NaN;else if("-Infinity"==e)n=-1/0;else if("Infinity"==e)n=1/0;else if(e&&"object"==typeof e&&"TimeRanges"==e.__type__)n=function(t){return{length:t.length,start:function(e){return t.start[e]},end:function(e){return t.end[e]}}}(e);else if(e&&"object"==typeof e&&"Uint8Array"==e.__type__)n=new Uint8Array(e.entries);else if(e&&"object"==typeof e&&"Error"==e.__type__){n=e.contents;var r,i=Error(n.message);for(r in n)i[r]=n[r];n=i}else n=e;return n}))}function rr(t,e,n,r,i,o){this.S=t,this.f=new ft(e),this.V=n,this.l=!1,this.v=r,this.K=i,this.G=o,this.b=this.h=!1,this.H="",this.i=null,this.o=this.sd.bind(this),this.u=this.Rf.bind(this),this.a={video:{},player:{}},this.F=0,this.c={},this.g=null,hr.add(this)}var ir=!1,or=null;function ar(t){for(var e=d(hr),n=e.next();!n.done;n=e.next())sr(n.value,t)}function sr(t,e){Q.debug("CastSender: onExistingSessionJoined");var n=t.G();t.g=new mt,t.l=!0,t.ud(n,e)}function ur(t){for(var e=d(hr),n=e.next();!n.done;n=e.next()){n=n.value;var r=t;Q.debug("CastSender: receiver status",r),ir="available"==r,n.f.Gc()}}function cr(t){var e=or;e.removeUpdateListener(t.o),e.removeMessageListener("urn:x-cast:com.google.shaka.v2",t.u)}function lr(t){for(var e in t.c){var n=t.c[e];delete t.c[e],n.reject(new pt(1,7,7e3))}}function fr(t,e){var n=er(e),r=or;try{r.sendMessage("urn:x-cast:com.google.shaka.v2",n,(function(){}),Q.error)}catch(e){throw Q.error("Cast session sendMessage threw",e),n=new pt(2,8,8005,e),t.v("player",new St("error",{detail:n})),t.vb(),n}}(i=rr.prototype).destroy=function(){return hr.delete(this),lr(this),or&&cr(this),this.f&&(this.f.stop(),this.f=null),this.K=this.v=null,this.b=this.h=!1,this.u=this.o=this.g=this.c=this.a=this.i=null,Promise.resolve()},i.ha=function(){return this.b},i.xd=function(){return this.H},i.init=function(){if(t.chrome&&chrome.cast&&chrome.cast.isAvailable&&this.S.length){this.h=!0,this.f.Gc();var e=new chrome.cast.SessionRequest(this.S);e=new chrome.cast.ApiConfig(e,ar.bind(this),ur.bind(this),"origin_scoped"),chrome.cast.initialize(e,(function(){Q.debug("CastSender: init")}),(function(t){Q.error("CastSender: init error",t)})),ir&&this.f.T(.02),(e=or)&&e.status!=chrome.cast.SessionStatus.STOPPED?(Q.debug("CastSender: re-using existing connection"),sr(this,e)):or=null}},i.Gd=function(t){this.i=t,this.b&&fr(this,{type:"appData",appData:this.i})},i.cast=function(t){return this.h?ir?this.b?Promise.reject(new pt(1,8,8002)):(this.g=new mt,chrome.cast.requestSession(this.ud.bind(this,t),this.pe.bind(this)),this.g):Promise.reject(new pt(1,8,8001)):Promise.reject(new pt(1,8,8e3))},i.vb=function(){if(this.b){if(lr(this),or){cr(this);try{or.stop((function(){}),(function(){}))}catch(t){}or=null}this.sd()}},i.get=function(t,e){if("video"==t){if(Zn.includes(e))return this.ye.bind(this,t,e)}else if("player"==t){if(Xn[e]&&!this.get("player","isLive")())return function(){};if($n.includes(e))return this.ye.bind(this,t,e);if(tr.includes(e))return this.hg.bind(this,t,e);if(Qn[e])return this.ve.bind(this,t,e)}return this.ve(t,e)},i.set=function(t,e,n){this.a[t][e]=n,fr(this,{type:"set",targetName:t,property:e,value:n})},i.ud=function(t,e){Q.debug("CastSender: onSessionInitiated"),or=e,e.addUpdateListener(this.o),e.addMessageListener("urn:x-cast:com.google.shaka.v2",this.u),this.sd(),fr(this,{type:"init",initState:t,appData:this.i}),this.g.resolve()},i.pe=function(t){var e=8003;switch(t.code){case"cancel":e=8004;break;case"timeout":e=8005;break;case"receiver_unavailable":e=8006}this.g.reject(new pt(2,8,e,t))},i.ve=function(t,e){return this.a[t][e]},i.ye=function(t,e,n){for(var r=[],i=2;i<arguments.length;++i)r[i-2]=arguments[i];fr(this,{type:"call",targetName:t,methodName:e,args:r})},i.hg=function(t,e,n){for(var r=[],i=2;i<arguments.length;++i)r[i-2]=arguments[i];i=new mt;var o=this.F.toString();this.F++,this.c[o]=i;try{fr(this,{type:"asyncCall",targetName:t,methodName:e,args:r,id:o})}catch(t){i.reject(t)}return i},i.sd=function(){var t=!!or&&"connected"==or.status;if(Q.debug("CastSender: connection status",t),this.b&&!t){for(var e in this.K(),this.a)this.a[e]={};lr(this)}this.H=(this.b=t)?or.receiver.friendlyName:"",this.f.Gc()},i.Rf=function(t,e){var n=nr(e);switch(Q.J("CastSender: message",n),n.type){case"event":var r=n.event;this.v(n.targetName,new St(r.type,r));break;case"update":for(var i in r=n.update)for(var o in n=this.a[i]||{},r[i])n[o]=r[i][o];this.l&&(this.V(),this.l=!1);break;case"asyncComplete":if(i=n.id,n=n.error,o=this.c[i],delete this.c[i],o)if(n){for(r in i=new pt(n.severity,n.category,n.code),n)i[r]=n[r];o.reject(i)}else o.resolve()}};var hr=new Set;function dr(t,e,n){var r=this;Et.call(this),this.c=t,this.b=e,this.i=this.g=this.f=this.l=this.h=null,this.u=n,this.o=new Map,this.a=new rr(n,(function(){return gr(r)}),(function(){return yr(r)}),(function(t,e){return vr(r,t,e)}),(function(){return br(r)}),(function(){return mr(r)})),function(t){for(var e in t.a.init(),t.i=new Ut,Hn.forEach(function(t){this.i.B(this.c,t,this.G.bind(this))}.bind(t)),Kn.forEach(function(t){this.i.B(this.b,t,this.v.bind(this))}.bind(t)),t.h={},t.c)Object.defineProperty(t.h,e,{configurable:!1,enumerable:!0,get:t.F.bind(t,e),set:t.H.bind(t,e)});t.l={},pr(t,(function(e){Object.defineProperty(t.l,e,{configurable:!1,enumerable:!0,get:function(){return function t(e,n){if(e.o.has(n)&&(n=e.o.get(n)),"addEventListener"==n)return e.g.addEventListener.bind(e.g);if("removeEventListener"==n)return e.g.removeEventListener.bind(e.g);if("getMediaElement"==n)return function(){return this.h}.bind(e);if("getSharedConfiguration"==n)return Q.m("Can't share configuration across a network. Returning copy."),e.a.get("player","getConfiguration");if("getNetworkingEngine"==n)return e.a.ha()&&Q.m("NOTE: getNetworkingEngine() is always local!"),e.b.Ub.bind(e.b);if(e.a.ha()){if("getManifest"==n||"drmInfo"==n)return function(){return Q.Z(n+"() does not work while casting!"),null};if("getManifestUri"==n)return Bn("getManifestUri",'Please use "getAssetUri" instead.'),t(e,"getAssetUri");if("attach"==n||"detach"==n)return function(){return Q.Z(n+"() does not work while casting!"),Promise.resolve()}}return e.a.ha()&&0==Object.keys(e.a.a.video).length&&Qn[n]||!e.a.ha()?e.b[n].bind(e.b):e.a.get("player",n)}(t,e)}})})),function(t){var e=new Map;pr(t,(function(n,r){if(e.has(r)){var i=e.get(r);n.length<i.length?t.o.set(n,i):t.o.set(i,n)}else e.set(r,n)}))}(t),t.f=new Et,t.f.gc=t.h,t.g=new Et,t.g.gc=t.l}(this)}function pr(t,e){function n(t){return"constructor"!=t&&"function"==typeof r[t]&&!i.has(t)}var r=t.b,i=new Set;for(o in r)n(o)&&(i.add(o),e(o,r[o]));for(var o=Object.getPrototypeOf(r),a=Object.getPrototypeOf({});o&&o!=a;){for(var s=d(Object.getOwnPropertyNames(o)),u=s.next();!u.done;u=s.next())n(u=u.value)&&(i.add(u),e(u,r[u]));o=Object.getPrototypeOf(o)}}function mr(t){var e={video:{},player:{},playerAfterLoad:{},manifest:t.b.pc(),startTime:null};return t.c.pause(),Vn.forEach(function(t){e.video[t]=this.c[t]}.bind(t)),t.c.ended||(e.startTime=t.c.currentTime),Jn.forEach(function(t){var n=t[1];t=this.b[t[0]](),e.player[n]=t}.bind(t)),qn.forEach(function(t){var n=t[1];t=this.b[t[0]](),e.playerAfterLoad[n]=t}.bind(t)),e}function gr(t){t.dispatchEvent(new St("caststatuschanged"))}function yr(t){t.f.dispatchEvent(new St(t.h.paused?"pause":"play"))}function br(t){Jn.forEach(function(t){var e=t[1];t=this.a.get("player",t[0])(),this.b[e](t)}.bind(t));var e=t.a.get("player","getAssetUri")(),n=t.a.get("video","ended"),r=Promise.resolve(),i=t.c.autoplay,o=null;n||(o=t.a.get("video","currentTime")),e&&(t.c.autoplay=!1,r=t.b.load(e,o));var a={};Vn.forEach(function(t){a[t]=this.a.get("video",t)}.bind(t)),r.then((function(){t.c&&(Vn.forEach(function(t){this.c[t]=a[t]}.bind(t)),qn.forEach(function(t){var e=t[1];t=this.a.get("player",t[0])(),this.b[e](t)}.bind(t)),t.c.autoplay=i,e&&t.c.play())}),(function(e){t.b.dispatchEvent(new St("error",{detail:e}))}))}function vr(t,e,n){t.a.ha()&&("video"==e?t.f.dispatchEvent(n):"player"==e&&t.g.dispatchEvent(n))}function wr(t,e,n,r){var i=this;Et.call(this),this.a=t,this.b=e,this.c=new Ut,this.G={video:t,player:e},this.u=n||function(){},this.H=r||function(t){return t},this.v=!1,this.h=!0,this.g=0,this.o=!1,this.l=!0,this.i=this.f=null,this.F=new ft((function(){Sr(i)})),function(t){var e=cast.receiver.CastReceiverManager.getInstance();e.onSenderConnected=t.re.bind(t),e.onSenderDisconnected=t.re.bind(t),e.onSystemVolumeChanged=t.af.bind(t),t.i=e.getCastMessageBus("urn:x-cast:com.google.cast.media"),t.i.onMessage=t.Mf.bind(t),t.f=e.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),t.f.onMessage=t.Wf.bind(t),e.start(),Hn.forEach(function(t){this.c.B(this.a,t,this.we.bind(this,"video"))}.bind(t)),Kn.forEach(function(t){this.c.B(this.b,t,this.we.bind(this,"player"))}.bind(t)),cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?t.b.Hd(3840,2160):t.b.Hd(1920,1080),t.c.B(t.a,"loadeddata",function(){this.o=!0}.bind(t)),t.c.B(t.b,"loading",function(){this.h=!1,Tr(this)}.bind(t)),t.c.B(t.a,"playing",function(){this.h=!1,Tr(this)}.bind(t)),t.c.B(t.a,"pause",function(){Tr(this)}.bind(t)),t.c.B(t.b,"unloading",function(){this.h=!0,Tr(this)}.bind(t)),t.c.B(t.a,"ended",function(){var t=this;new ft((function(){t.a&&t.a.ended&&(t.h=!0,Tr(t))})).T(5)}.bind(t))}(this)}function Tr(t){Promise.resolve().then(function(){this.b&&(this.dispatchEvent(new St("caststatuschanged")),xr(this)||Ir(this))}.bind(t))}function Sr(t){t.F.T(.5);var e={video:{},player:{}};if(Wn.forEach(function(t){e.video[t]=this.a[t]}.bind(t)),t.b.X())for(var n in Xn)0==t.g%Xn[n]&&(e.player[n]=t.b[n]());for(var r in Qn)0==t.g%Qn[r]&&(e.player[r]=t.b[r]());(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(e.video.volume=n.level,e.video.muted=n.muted),t.o&&(t.g+=1),Mr(t,{type:"update",update:e},t.f),xr(t)}function xr(t){return!(!t.l||!t.a.duration&&!t.b.X())&&(Er(t),t.l=!1,!0)}function Er(t,e){e=void 0===e?0:e;var n={contentId:t.b.pc(),streamType:t.b.X()?"LIVE":"BUFFERED",contentType:""};t.b.X()||(n.duration=t.a.duration),Ir(t,e,n)}function Mr(t,e,n,r){t.v&&(t=er(e),r?n.getCastChannel(r).send(t):n.broadcast(t))}function Ir(t,e,n){e=void 0===e?0:e,n=void 0===n?null:n;var r=t.a.playbackRate,i=Ar;r={mediaSessionId:0,playbackRate:r,playerState:i=t.h?i.IDLE:t.b.fd()?i.Je:t.a.paused?i.Le:i.Me,currentTime:t.a.currentTime,supportedMediaCommands:63,volume:{level:t.a.volume,muted:t.a.muted}},n&&(r.media=n),Mr(t,{requestId:e,type:"MEDIA_STATUS",status:[r]},t.i)}t.__onGCastApiAvailable=function(t){if(t)for(var e=(t=d(hr)).next();!e.done;e=t.next())e.value.init()},H(dr,Et),G("shaka.cast.CastProxy",dr),dr.prototype.destroy=function(t){return t&&this.a.vb(),this.i&&(this.i.release(),this.i=null),t=[],this.b&&(t.push(this.b.destroy()),this.b=null),this.a&&(t.push(this.a.destroy()),this.a=null),this.l=this.h=this.c=null,Promise.all(t)},dr.prototype.destroy=dr.prototype.destroy,dr.prototype.Cf=function(){return this.h},dr.prototype.getVideo=dr.prototype.Cf,dr.prototype.uf=function(){return this.l},dr.prototype.getPlayer=dr.prototype.uf,dr.prototype.Re=function(){return this.a.h&&ir},dr.prototype.canCast=dr.prototype.Re,dr.prototype.ha=function(){return this.a.ha()},dr.prototype.isCasting=dr.prototype.ha,dr.prototype.xd=function(){return this.a.xd()},dr.prototype.receiverName=dr.prototype.xd,dr.prototype.cast=function(){var t=mr(this);return this.a.cast(t).then(function(){if(this.b)return this.b.Od()}.bind(this))},dr.prototype.cast=dr.prototype.cast,dr.prototype.Gd=function(t){this.a.Gd(t)},dr.prototype.setAppData=dr.prototype.Gd,dr.prototype.Cg=function(){var t=this.a;if(t.b){var e=t.G();chrome.cast.requestSession(t.ud.bind(t,e),t.pe.bind(t))}},dr.prototype.suggestDisconnect=dr.prototype.Cg,dr.prototype.Ue=function(t){var e=this;return m((function n(){return R(n,(function(n){switch(n.j){case 1:return t==e.u?n.return():(e.u=t,e.a.vb(),M(n,e.a.destroy(),2));case 2:e.a=null,e.a=new rr(t,(function(){return gr(e)}),(function(){return yr(e)}),(function(t,n){return vr(e,t,n)}),(function(){return br(e)}),(function(){return mr(e)})),e.a.init(),I(n)}}))}))},dr.prototype.changeReceiverId=dr.prototype.Ue,dr.prototype.vb=function(){this.a.vb()},dr.prototype.forceDisconnect=dr.prototype.vb,dr.prototype.F=function(t){if("addEventListener"==t)return this.f.addEventListener.bind(this.f);if("removeEventListener"==t)return this.f.removeEventListener.bind(this.f);if(this.a.ha()&&0==Object.keys(this.a.a.video).length){var e=this.c[t];if("function"!=typeof e)return e}return this.a.ha()?this.a.get("video",t):("function"==typeof(t=this.c[t])&&(t=t.bind(this.c)),t)},dr.prototype.H=function(t,e){this.a.ha()?this.a.set("video",t,e):this.c[t]=e},dr.prototype.G=function(t){this.a.ha()||this.f.dispatchEvent(new St(t.type,t))},dr.prototype.v=function(t){this.a.ha()||this.g.dispatchEvent(t)},H(wr,Et),G("shaka.cast.CastReceiver",wr),wr.prototype.isConnected=function(){return this.v},wr.prototype.isConnected=wr.prototype.isConnected,wr.prototype.Hf=function(){return this.h},wr.prototype.isIdle=wr.prototype.Hf,wr.prototype.destroy=function(){var t=this;return m((function e(){var n;return R(e,(function(e){switch(e.j){case 1:return t.c&&(t.c.release(),t.c=null),n=[],t.b&&(n.push(t.b.destroy()),t.b=null),t.F&&(t.F.stop(),t.F=null),t.a=null,t.G=null,t.u=null,t.v=!1,t.h=!0,t.f=null,t.i=null,M(e,Promise.all(n),2);case 2:cast.receiver.CastReceiverManager.getInstance().stop(),I(e)}}))}))},wr.prototype.destroy=wr.prototype.destroy,(i=wr.prototype).re=function(){this.g=0,this.l=!0,this.v=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,Tr(this)},i.we=function(t,e){this.b&&(Sr(this),Mr(this,{type:"event",targetName:t,event:e},this.f))},i.af=function(){var t=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();t&&Mr(this,{type:"update",update:{video:{volume:t.level,muted:t.muted}}},this.f),Mr(this,{type:"event",targetName:"video",event:{type:"volumechange"}},this.f)},i.Wf=function(t){var e=nr(t.data);switch(Q.debug("CastReceiver: message",e),e.type){case"init":this.g=0,this.o=!1,this.l=!0,function(t,e,n){for(var r in e.player)t.b[r](e.player[r]);t.u(n),n=Promise.resolve();var i=t.a.autoplay;e.manifest&&(t.a.autoplay=!1,n=t.b.load(e.manifest,e.startTime)),n.then((function(){if(t.b){for(var n in e.video)t.a[n]=e.video[n];for(var r in e.playerAfterLoad)t.b[r](e.playerAfterLoad[r]);t.a.autoplay=i,e.manifest&&(t.a.play(),Ir(t))}}),(function(e){t.b.dispatchEvent(new St("error",{detail:e}))}))}(this,e.initState,e.appData),Sr(this);break;case"appData":this.u(e.appData);break;case"set":var n=e.targetName,r=e.property;if(e=e.value,"video"==n){var i=cast.receiver.CastReceiverManager.getInstance();if("volume"==r){i.setSystemVolumeLevel(e);break}if("muted"==r){i.setSystemVolumeMuted(e);break}}this.G[n][r]=e;break;case"call":(n=this.G[e.targetName])[e.methodName].apply(n,e.args);break;case"asyncCall":n=e.targetName,r=e.methodName,"player"==n&&"load"==r&&(this.g=0,this.o=!1),i=e.id,t=t.senderId;var o=this.G[n];e=o[r].apply(o,e.args),"player"==n&&"load"==r&&(e=e.then(function(){this.l=!0}.bind(this))),e.then(this.Be.bind(this,t,i,null),this.Be.bind(this,t,i))}},i.Mf=function(t){var e=nr(t.data);switch(Q.debug("CastReceiver: message",e),e.type){case"PLAY":this.a.play(),Ir(this);break;case"PAUSE":this.a.pause(),Ir(this);break;case"SEEK":t=e.currentTime;var n=e.resumeState;null!=t&&(this.a.currentTime=Number(t)),n&&"PLAYBACK_START"==n?(this.a.play(),Ir(this)):n&&"PLAYBACK_PAUSE"==n&&(this.a.pause(),Ir(this));break;case"STOP":this.b.Od().then(function(){this.b&&Ir(this)}.bind(this));break;case"GET_STATUS":Er(this,Number(e.requestId));break;case"VOLUME":t=(n=e.volume).level,n=n.muted;var r=this.a.volume,i=this.a.muted;null!=t&&(this.a.volume=Number(t)),null!=n&&(this.a.muted=n),r==this.a.volume&&i==this.a.muted||Ir(this);break;case"LOAD":this.g=0,this.l=this.o=!1,t=e.media,n=e.currentTime,r=this.H(t.contentId),i=e.autoplay||!0,this.u(t.customData),i&&(this.a.autoplay=!0),this.b.load(r,n).then(function(){this.b&&Er(this)}.bind(this)).catch(function(t){var n="LOAD_FAILED";7==t.category&&7e3==t.code&&(n="LOAD_CANCELLED"),Mr(this,{requestId:Number(e.requestId),type:n},this.i)}.bind(this));break;default:Q.m("Unrecognized message type from the generic Chromecast controller!",e.type),Mr(this,{requestId:Number(e.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},this.i)}},i.Be=function(t,e,n){this.b&&Mr(this,{type:"asyncComplete",id:e,error:n},this.f,t)};var Ar={IDLE:"IDLE",Me:"PLAYING",Je:"BUFFERING",Le:"PAUSED"};function kr(t,e){this.N=t,this.b=e==Nr,this.a=0}G("shaka.util.DataViewReader",kr);var Nr=1;function Lr(){throw new pt(2,3,3e3)}function Dr(){this.c=[],this.b=[],this.a=!1}function Cr(t){for(var e=null!=t.flags?12:8;t.reader.ya()&&!t.parser.a;)t.parser.Ac(t.start+e,t.reader,t.partialOkay)}function Or(t){for(var e=null!=t.flags?12:8,n=t.reader.I();0<n&&!t.parser.a;--n)t.parser.Ac(t.start+e,t.reader,t.partialOkay)}function _r(t){return function(e){t(e.reader.gb(e.reader.N.byteLength-e.reader.ga()))}}function Pr(t){for(var e=0,n=0;n<t.length;n++)e=e<<8|t.charCodeAt(n);return e}function jr(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)}function Rr(t){var e=this;this.a=[],this.b=[],this.data=[],(new Dr).L("moov",Cr).ia("pssh",(function(t){if(1<t.version)Q.m("Unrecognized PSSH version found!");else{var n=t.reader.N;if(n=new Uint8Array(n.buffer,n.byteOffset-12,t.size),e.data.push(n),e.a.push(fe.Ic(t.reader.gb(16))),0<t.version){n=t.reader.I();for(var r=0;r<n;++r){var i=fe.Ic(t.reader.gb(16));e.b.push(i)}}}})).parse(t),0==this.data.length&&Q.m("No pssh box found!")}kr.Endianness={Lg:0,Ng:Nr},kr.prototype.ya=function(){return this.a<this.N.byteLength},kr.prototype.hasMoreData=kr.prototype.ya,kr.prototype.ga=function(){return this.a},kr.prototype.getPosition=kr.prototype.ga,kr.prototype.hf=function(){return this.N.byteLength},kr.prototype.getLength=kr.prototype.hf,kr.prototype.na=function(){try{var t=this.N.getUint8(this.a);return this.a+=1,t}catch(t){Lr()}},kr.prototype.readUint8=kr.prototype.na,kr.prototype.$b=function(){try{var t=this.N.getUint16(this.a,this.b);return this.a+=2,t}catch(t){Lr()}},kr.prototype.readUint16=kr.prototype.$b,kr.prototype.I=function(){try{var t=this.N.getUint32(this.a,this.b);return this.a+=4,t}catch(t){Lr()}},kr.prototype.readUint32=kr.prototype.I,kr.prototype.xe=function(){try{var t=this.N.getInt32(this.a,this.b);return this.a+=4,t}catch(t){Lr()}},kr.prototype.readInt32=kr.prototype.xe,kr.prototype.Kb=function(){try{if(this.b)var t=this.N.getUint32(this.a,!0),e=this.N.getUint32(this.a+4,!0);else e=this.N.getUint32(this.a,!1),t=this.N.getUint32(this.a+4,!1)}catch(t){Lr()}if(2097151<e)throw new pt(2,3,3001);return this.a+=8,e*Math.pow(2,32)+t},kr.prototype.readUint64=kr.prototype.Kb,kr.prototype.gb=function(t){this.a+t>this.N.byteLength&&Lr();var e=new Uint8Array(this.N.buffer,this.N.byteOffset+this.a,t);return this.a+=t,e},kr.prototype.readBytes=kr.prototype.gb,kr.prototype.P=function(t){this.a+t>this.N.byteLength&&Lr(),this.a+=t},kr.prototype.skip=kr.prototype.P,kr.prototype.ze=function(t){this.a<t&&Lr(),this.a-=t},kr.prototype.rewind=kr.prototype.ze,kr.prototype.seek=function(t){(0>t||t>this.N.byteLength)&&Lr(),this.a=t},kr.prototype.seek=kr.prototype.seek,kr.prototype.wd=function(){for(var t=this.a;this.ya()&&0!=this.N.getUint8(this.a);)this.a+=1;return t=new Uint8Array(this.N.buffer,this.N.byteOffset+t,this.a-t),this.a+=1,ie(t)},kr.prototype.readTerminatedString=kr.prototype.wd,G("shaka.util.Mp4Parser",Dr),Dr.prototype.L=function(t,e){var n=Pr(t);return this.c[n]=0,this.b[n]=e,this},Dr.prototype.box=Dr.prototype.L,Dr.prototype.ia=function(t,e){var n=Pr(t);return this.c[n]=1,this.b[n]=e,this},Dr.prototype.fullBox=Dr.prototype.ia,Dr.prototype.stop=function(){this.a=!0},Dr.prototype.stop=Dr.prototype.stop,Dr.prototype.parse=function(t,e){var n=new Uint8Array(t);for(n=new kr(new DataView(n.buffer,n.byteOffset,n.byteLength),0),this.a=!1;n.ya()&&!this.a;)this.Ac(0,n,e)},Dr.prototype.parse=Dr.prototype.parse,Dr.prototype.Ac=function(t,e,n){var r=e.ga(),i=e.I(),o=e.I();switch(Q.J("Parsing MP4 box",jr(o)),i){case 0:i=e.N.byteLength-r;break;case 1:i=e.Kb()}var a=this.b[o];if(a){var s=null,u=null;1==this.c[o]&&(s=(u=e.I())>>>24,u&=16777215),o=r+i,n&&o>e.N.byteLength&&(o=e.N.byteLength),o-=e.ga(),e=0<o?e.gb(o):new Uint8Array(0),a({parser:this,partialOkay:n||!1,version:s,flags:u,reader:e=new kr(new DataView(e.buffer,e.byteOffset,e.byteLength),0),size:i,start:r+t})}else e.P(Math.min(r+i-e.ga(),e.N.byteLength-e.ga()))},Dr.prototype.parseNext=Dr.prototype.Ac,Dr.children=Cr,Dr.sampleDescription=Or,Dr.allData=_r,Dr.typeToString=jr;var Ur={oc:function(t,e){var n=Ur.U(t,e);return 1!=n.length?null:n[0]},Wc:function(t,e,n){return 1!=(t=Ur.ae(t,e,n)).length?null:t[0]},U:function(t,e){return Array.prototype.filter.call(t.childNodes,(function(t){return t instanceof Element&&t.tagName==e}))},ae:function(t,e,n){return Array.prototype.filter.call(t.childNodes,(function(t){return t instanceof Element&&t.localName==n&&t.namespaceURI==e}))},getAttributeNS:function(t,e,n){return t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null},qc:function(t){return Array.prototype.every.call(t.childNodes,(function(t){return t.nodeType==Node.TEXT_NODE||t.nodeType==Node.CDATA_SECTION_NODE}))?t.textContent.trim():null},M:function(t,e,n,r){r=void 0===r?null:r;var i=null;return null!=(t=t.getAttribute(e))&&(i=n(t)),null==i?r:i},$f:function(t){return t?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),t=Date.parse(t),isNaN(t)?null:Math.floor(t/1e3)):null},Ia:function(t){if(!t)return null;var e=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(t);return e?(t=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(t)?t:null):(Q.m("Invalid duration string:",t),null)},Cc:function(t){var e=/([0-9]+)-([0-9]+)/.exec(t);return e?(t=Number(e[1]),isFinite(t)?(e=Number(e[2]),isFinite(e)?{start:t,end:e}:null):null):null},parseInt:function(t){return 0==(t=Number(t))%1?t:null},Bc:function(t){return 0==(t=Number(t))%1&&0<t?t:null},Hb:function(t){return 0==(t=Number(t))%1&&0<=t?t:null},parseFloat:function(t){return t=Number(t),isNaN(t)?null:t},Ze:function(t){var e;return t=(e=t.match(/^(\d+)\/(\d+)$/))?Number(e[1])/Number(e[2]):Number(t),isNaN(t)?null:t},ue:function(t,e){var n=new DOMParser;try{var r=n.parseFromString(t,"text/xml")}catch(t){}if(r&&r.documentElement.tagName==e)var i=r.documentElement;return i&&0<i.getElementsByTagName("parsererror").length?null:i},te:function(t,e){try{var n=ie(t);return Ur.ue(n,e)}catch(t){}}},zr=(new Map).set("urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b","org.w3.clearkey").set("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine.alpha").set("urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95","com.microsoft.playready").set("urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95","com.microsoft.playready").set("urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb","com.adobe.primetime");function Br(t,e,n){var r=function(t){for(var e=[],n=(t=d(t)).next();!n.done;n=t.next())(n=Gr(n.value))&&e.push(n);return e}(t),i=null;t=[];var o=[],a=new Set(r.map((function(t){return t.keyId})));if(a.delete(null),1<a.size)throw new pt(2,4,4010);if(n||(o=r.filter((function(t){return"urn:mpeg:dash:mp4protection:2011"!=t.Ae||(i=t.init||i,!1)}))).length&&(0==(t=function(t,e,n){for(var r=[],i=(n=d(n)).next();!i.done;i=n.next()){i=i.value;var o=zr.get(i.Ae);if(o){var a;if(a=Ur.Wc(i.node,"urn:microsoft:playready","pro")){a=fe.Fa(a.textContent);var s=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),u=a.length,c=s.length+16+u,l=new ArrayBuffer(c),f=new Uint8Array(l);l=new DataView(l);var h=0;l.setUint32(h,c),h+=4,l.setUint32(h,1886614376),h+=4,l.setUint32(h,0),h+=4,f.set(s,h),h+=s.length,l.setUint32(h,u),h+=4,f.set(a,h),a=[{initData:f,initDataType:"cenc",keyId:i.keyId}]}else a=null;a=Ye(o,i.init||t||a),(o=Yr.get(o))&&(a.licenseServerUri=o(i)),r.push(a)}else for(i=d(i=e(i.node)||[]),o=i.next();!o.done;o=i.next())r.push(o.value)}return r}(i,e,o)).length&&(t=[Ye("",i)])),r.length&&(n||!o.length))for(t=[],n=(e=d(zr.values())).next();!n.done;n=e.next())"org.w3.clearkey"!=(n=n.value)&&t.push(Ye(n,i));if(a=Array.from(a)[0]||null)for(n=(e=d(t)).next();!n.done;n=e.next())for(r=(n=d(n.value.initData)).next();!r.done;r=n.next())r.value.keyId=a;return{Xd:a,Pg:i,drmInfos:t,be:!0}}var Fr,Yr=(new Map).set("com.widevine.alpha",(function(t){return(t=Ur.Wc(t.node,"urn:microsoft","laurl"))&&t.getAttribute("licenseUrl")||""})).set("com.microsoft.playready",(function(t){return(t=Ur.Wc(t.node,"urn:microsoft:playready","pro"))&&(t=function(t){var e=0,n=new DataView(t).getUint32(e,!0);if(e+=4,n!==t.byteLength)return Q.m("PlayReady Object with invalid length encountered."),[];e+=2,n=[];for(var r=new DataView(t);e<t.byteLength-1;){var i=r.getUint16(e,!0);e+=2;var o=r.getUint16(e,!0);e+=2;var a=new Uint8Array(t,e,o);n.push({type:i,value:a}),e+=o}return n}((t=fe.Fa(t.textContent)).buffer).filter((function(t){return 1===t.type}))[0])?(t=oe(t.value,!0),(t=Ur.ue(t,"WRMHEADER"))?function(t){for(var e=(t=d(t.getElementsByTagName("DATA"))).next();!e.done;e=t.next())for(var n=(e=d(e.value.childNodes)).next();!n.done;n=e.next())if((n=n.value)instanceof Element&&"LA_URL"==n.tagName)return n.textContent;return""}(t):""):""}));function Gr(t){var e=t.getAttribute("schemeIdUri"),n=Ur.getAttributeNS(t,"urn:mpeg:cenc:2013","default_KID"),r=Ur.ae(t,"urn:mpeg:cenc:2013","pssh").map(Ur.qc);if(!e)return Q.error("Missing required schemeIdUri attribute on","ContentProtection element",t),null;if(e=e.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase()).includes(" "))throw new pt(2,4,4009);var i=[];try{i=r.map((function(t){return{initDataType:"cenc",initData:fe.Fa(t),keyId:null}}))}catch(t){throw new pt(2,4,4007)}return{node:t,Ae:e,keyId:n,init:0<i.length?i:null}}function Hr(e,n,r,i,o){var a={RepresentationID:n,Number:r,Bandwidth:i,Time:o};return e.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,(function(n,r,i,o){if("$$"==n)return"$";var s=a[r];if(null==s)return Q.m("URL template does not have an available substitution for identifier",'"'+r+'":',e),n;switch("RepresentationID"==r&&i&&(Q.m("URL template should not contain a width specifier for identifier",'"RepresentationID":',e),i=void 0),"Time"==r&&(s=Math.round(s)),o){case void 0:case"d":case"i":case"u":n=s.toString();break;case"o":n=s.toString(8);break;case"x":n=s.toString(16);break;case"X":n=s.toString(16).toUpperCase();break;default:n=s.toString()}return i=t.parseInt(i,10)||1,Array(Math.max(0,i-n.length)+1).join("0")+n}))}function Wr(t,e){var n=Vr(t,e,"timescale"),r=1;n&&(r=Ur.Bc(n)||1),n=Vr(t,e,"duration"),(n=Ur.Bc(n||""))&&(n/=r);var i=Vr(t,e,"startNumber"),o=Number(Vr(t,e,"presentationTimeOffset"))||0,a=Ur.Hb(i||"");null!=i&&null!=a||(a=1);var s=Zr(t,e,"SegmentTimeline");if(i=null,s){i=r;var u=t.W.duration||1/0;s=Ur.U(s,"S");for(var c=[],l=-o,f=0;f<s.length;++f){var h=s[f],d=Ur.M(h,"t",Ur.Hb),p=Ur.M(h,"d",Ur.Hb),m=Ur.M(h,"r",Ur.parseInt);if(null!=d&&(d-=o),!p){Q.m('"S" element must have a duration:','ignoring the remaining "S" elements.',h);break}if(d=null!=d?d:l,0>(m=m||0))if(f+1<s.length){if(null==(m=Ur.M(s[f+1],"t",Ur.Hb))){Q.m('An "S" element cannot have a negative repeat','if the next "S" element does not have a valid start time:','ignoring the remaining "S" elements.',h);break}if(d>=m){Q.m('An "S" element cannot have a negative repeat','if its start time exceeds the next "S" element\'s start time:','ignoring the remaining "S" elements.',h);break}m=Math.ceil((m-d)/p)-1}else{if(1/0==u){Q.m('The last "S" element cannot have a negative repeat',"if the Period has an infinite duration:",'ignoring the last "S" element.',h);break}if(d/i>=u){Q.m('The last "S" element cannot have a negative repeat',"if its start time exceeds the Period's duration:",'igoring the last "S" element.',h);break}m=Math.ceil((u*i-d)/p)-1}for(0<c.length&&d!=l&&(Math.abs((d-l)/i)>=1/15&&Q.m("SegmentTimeline contains a large gap/overlap:","the content may have errors in it.",h),c[c.length-1].end=d/i),h=0;h<=m;++h)l=d+p,c.push({start:d/i,end:l/i,Hg:d}),d=l}i=c}return{timescale:r,da:n,ib:a,oa:o/r||0,Pd:o,R:i}}function Vr(t,e,n){return[e(t.A),e(t.aa),e(t.ma)].filter(Be.Ma).map((function(t){return t.getAttribute(n)})).reduce((function(t,e){return t||e}))}function Zr(t,e,n){return[e(t.A),e(t.aa),e(t.ma)].filter(Be.Ma).map((function(t){return Ur.oc(t,n)})).reduce((function(t,e){return t||e}))}function Kr(t,e,n,r,i,o){if(o=void 0===o?0:o,Ur.getAttributeNS(t,"http://www.w3.org/1999/xlink","href")){var a=function(t,e,n,r,i,o){for(var a=Ur.getAttributeNS(t,"http://www.w3.org/1999/xlink","href"),s=Ur.getAttributeNS(t,"http://www.w3.org/1999/xlink","actuate")||"onRequest",u=0;u<t.attributes.length;u++){var c=t.attributes[u];"http://www.w3.org/1999/xlink"==c.namespaceURI&&(t.removeAttributeNS(c.namespaceURI,c.localName),--u)}if(5<=o)return yt(new pt(2,4,4028));if("onLoad"!=s)return yt(new pt(2,4,4027));var l=Fe([r],[a]);return i.request(0,_t(l,e)).Y((function(r){if(!(r=Ur.te(r.data,t.tagName)))return yt(new pt(2,4,4001,a));for(;t.childNodes.length;)t.removeChild(t.childNodes[0]);for(;r.childNodes.length;){var s=r.childNodes[0];r.removeChild(s),t.appendChild(s)}for(s=0;s<r.attributes.length;s++){var u=r.attributes[s].nodeName,c=r.getAttribute(u);t.setAttribute(u,c)}return Kr(t,e,n,l[0],i,o+1)}))}(t,e,n,r,i,o);return n&&(a=a.Y(void 0,(function(){return Kr(t,e,n,r,i,o)}))),a}a=[];for(var s=0;s<t.childNodes.length;s++){var u=t.childNodes[s];u instanceof Element&&("urn:mpeg:dash:resolve-to-zero:2013"==Ur.getAttributeNS(u,"http://www.w3.org/1999/xlink","href")?(t.removeChild(u),--s):"SegmentTimeline"!=u.tagName&&a.push(Kr(u,e,n,r,i,o)))}return Tt(a).Y((function(){return t}))}function Qr(t,e,n){this.c=t,this.b=e,this.a=n}function Xr(t,e,n,r,i,o){this.position=t,this.startTime=e,this.endTime=n,this.c=r,this.b=i,this.a=o}function Jr(t,e,n,r){var i,o=(new Dr).ia("sidx",(function(t){i=function(t,e,n,r){var i=[];r.reader.P(4);var o=r.reader.I();if(0==o)throw Q.error("Invalid timescale."),new pt(2,3,3005);if(0==r.version)var a=r.reader.I(),s=r.reader.I();else a=r.reader.Kb(),s=r.reader.Kb();r.reader.P(2);var u=r.reader.$b();for(t=t+r.size+s,s=0;s<u;s++){var c=r.reader.I(),l=(2147483648&c)>>>31;c&=2147483647;var f=r.reader.I();if(r.reader.P(4),1==l)throw Q.error("Heirarchical SIDXs are not supported."),new pt(2,3,3006);i.push(new Xr(i.length,a/o-e,(a+f)/o-e,(function(){return n}),t,t+c-1)),a+=f,t+=c}return r.parser.stop(),i}(e,r,n,t)}));if(t&&o.parse(t),i)return i;throw Q.error('Invalid box type, expected "sidx".'),new pt(2,3,3004)}function qr(t){this.a=t}function $r(t,e){for(;t.a.length&&t.a[t.a.length-1].startTime>=e;)t.a.pop();for(;t.a.length&&0>=t.a[0].endTime;)t.a.shift();if(0!=t.a.length){var n=t.a[t.a.length-1];t.a[t.a.length-1]=new Xr(n.position,n.startTime,e,n.c,n.b,n.a)}}function ti(t){this.b=t,this.a=new kr(t,0),Fr||(Fr=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])])}function ei(t){var e=ni(t);if(7<e.length)throw new pt(2,3,3002);for(var n=0,r=0;r<e.length;r++)n=256*n+e[r];e=n,n=ni(t);t:{r=fe.Da;for(var i=0;i<Fr.length;i++)if(r(n,Fr[i])){r=!0;break t}r=!1}if(r)n=t.b.byteLength-t.a.ga();else{if(8==n.length&&224&n[1])throw new pt(2,3,3001);for(r=n[0]&(1<<8-n.length)-1,i=1;i<n.length;i++)r=256*r+n[i];n=r}return n=t.a.ga()+n<=t.b.byteLength?n:t.b.byteLength-t.a.ga(),r=new DataView(t.b.buffer,t.b.byteOffset+t.a.ga(),n),t.a.P(n),new ri(e,r)}function ni(t){var e,n=t.a.na();for(e=1;8>=e&&!(n&1<<8-e);e++);if(8<e)throw new pt(2,3,3002);var r=new Uint8Array(e);for(r[0]=n,n=1;n<e;n++)r[n]=t.a.na();return r}function ri(t,e){this.id=t,this.a=e}function ii(t){if(8<t.a.byteLength)throw new pt(2,3,3002);if(8==t.a.byteLength&&224&t.a.getUint8(0))throw new pt(2,3,3001);for(var e=0,n=0;n<t.a.byteLength;n++){e=256*e+t.a.getUint8(n)}return e}function oi(){}function ai(t){var e=new ti(t.a);if(179!=(t=ei(e)).id)throw Q.m("Not a CueTime element."),new pt(2,3,3013);if(t=ii(t),183!=(e=ei(e)).id)throw Q.m("Not a CueTrackPositions element."),new pt(2,3,3012);e=new ti(e.a);for(var n=0;e.ya();){var r=ei(e);if(241==r.id){n=ii(r);break}}return{Ig:t,gg:n}}function si(t,e){var n=Zr(t,e,"Initialization");if(!n)return null;var r=t.A.ta,i=n.getAttribute("sourceURL");i&&(r=Fe(t.A.ta,[i])),i=0;var o=null;return(n=Ur.M(n,"range",Ur.Cc))&&(i=n.start,o=n.end),new Qr((function(){return r}),i,o)}function ui(t,e,n,r,i,o,a,s){var u=t.presentationTimeline,c=!t.tb||!t.W.hd,l=t.W.start,f=t.W.duration,h=e,d=null;return{createSegmentIndex:function(){var t=[h(r,i,o),"webm"==a?h(n.c(),n.b,n.a):null];return h=null,Promise.all(t).then((function(t){var e=t[0];t=t[1]||null,e="mp4"==a?Jr(e,i,r,s):(new oi).parse(e,t,r,s),u.Eb(e,l),d=new qr(e),c&&$r(d,f)}))},findSegmentPosition:function(t){return d.find(t)},getSegmentReference:function(t){return d.get(t)}}}function ci(t){return t.ac}function li(t,e){var n=si(t,fi),r=function(t){return[t.A.Pa,t.aa.Pa,t.ma.Pa].filter(Be.Ma).map((function(t){return Ur.U(t,"SegmentURL")})).reduce((function(t,e){return 0<t.length?t:e})).map((function(e){return e.getAttribute("indexRange")&&!t.he&&(t.he=!0,Q.m("We do not support the SegmentURL@indexRange attribute on SegmentList.  We only use the SegmentList@duration attribute or SegmentTimeline, which must be accurate.")),{Jf:e.getAttribute("media"),start:(e=Ur.M(e,"mediaRange",Ur.Cc,{start:0,end:null})).start,end:e.end}}))}(t),i=Wr(t,fi),o=i.ib;0==o&&(Q.m("SegmentList@startNumber must be > 0"),o=1);var a=0;if(i.da?a=i.da*(o-1):i.R&&0<i.R.length&&(a=i.R[0].start),!(r={da:i.da,startTime:a,ib:o,oa:i.oa,R:i.R,cb:r}).da&&!r.R&&1<r.cb.length)throw Q.m("SegmentList does not contain sufficient segment information:","the SegmentList specifies multiple segments,","but does not specify a segment duration or timeline.",t.A),new pt(2,4,4002);if(!r.da&&!t.W.duration&&!r.R&&1==r.cb.length)throw Q.m("SegmentList does not contain sufficient segment information:","the SegmentList specifies one segment,","but does not specify a segment duration, period duration,","or timeline.",t.A),new pt(2,4,4002);if(r.R&&0==r.R.length)throw Q.m("SegmentList does not contain sufficient segment information:","the SegmentList has an empty timeline.",t.A),new pt(2,4,4002);return o=i=null,t.ma.id&&t.A.id&&(i=e[o=t.ma.id+","+t.A.id]),a=function(t,e,n,r){var i=r.cb.length;r.R&&r.R.length!=r.cb.length&&(i=Math.min(r.R.length,r.cb.length),Q.m("The number of items in the segment timeline and the number of segment","URLs do not match, truncating",r.cb.length,"to",i));for(var o=[],a=r.startTime,s=0;s<i;s++){var u,c=r.cb[s],l=Fe(n,[c.Jf]);u=null!=r.da?a+r.da:r.R?r.R[s].end:a+t,o.push(new Xr(s+e,a,u,function(t){return t}.bind(null,l),c.start,c.end)),a=u}return o}(t.W.duration,r.ib,t.A.ta,r),i?(i.md(a),o=t.presentationTimeline.Wb(),i.Tc(o-t.W.start)):(t.presentationTimeline.Eb(a,t.W.start),i=new qr(a),o&&t.tb&&(e[o]=i)),t.tb&&t.W.hd||$r(i,t.W.duration),{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:i.find.bind(i),getSegmentReference:i.get.bind(i),initSegmentReference:n,oa:r.oa}}function fi(t){return t.Pa}function hi(t,e,n,r){var i=function(t){var e=Vr(t,di,"initialization");if(!e)return null;var n=t.A.id,r=t.bandwidth||null,i=t.A.ta;return new Qr((function(){var t=Hr(e,n,null,r,null);return Fe(i,[t])}),0,null)}(t),o=Wr(t,di),a=Vr(t,di,"media"),s=Vr(t,di,"index");if(a=(o={da:o.da,timescale:o.timescale,ib:o.ib,oa:o.oa,Pd:o.Pd,R:o.R,kd:a,Yb:s}).Yb?1:0,a+=o.R?1:0,0==(a+=o.da?1:0))throw Q.error("SegmentTemplate does not contain any segment information:","the SegmentTemplate must contain either an index URL template","a SegmentTimeline, or a segment duration.",t.A),new pt(2,4,4002);if(1!=a&&(Q.m("SegmentTemplate containes multiple segment information sources:","the SegmentTemplate should only contain an index URL template,","a SegmentTimeline or a segment duration.",t.A),o.Yb?(Q.info("Using the index URL template by default."),o.R=null):Q.info("Using the SegmentTimeline by default."),o.da=null),!o.Yb&&!o.kd)throw Q.error("SegmentTemplate does not contain sufficient segment information:","the SegmentTemplate's media URL template is missing.",t.A),new pt(2,4,4002);if(o.Yb){if("mp4"!=(n=t.A.mimeType.split("/")[1])&&"webm"!=n)throw Q.error("SegmentTemplate specifies an unsupported container type.",t.A),new pt(2,4,4006);if("webm"==n&&!i)throw Q.error("SegmentTemplate does not contain sufficient segment information:","the SegmentTemplate uses a WebM container,","but does not contain an initialization URL template.",t.A),new pt(2,4,4005);r=Hr(o.Yb,t.A.id,null,t.bandwidth||null,null),t=ui(t,e,i,r=Fe(t.A.ta,[r]),0,null,n,o.oa)}else o.da?(r||(t.presentationTimeline.od(o.da),t.presentationTimeline.pd(t.W.start)),t=function(t,e){var n=t.W.duration,r=e.da,i=e.ib,o=e.timescale,a=e.kd,s=t.bandwidth||null,u=t.A.id,c=t.A.ta;return{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(t){return 0>t||n&&t>=n?null:Math.floor(t/r)},getSegmentReference:function(t){var e=t*r,l=e+r;return n&&(l=Math.min(l,n)),0>l||n&&e>=n?null:new Xr(t,e,l,(function(){var n=Hr(a,u,t+i,s,e*o);return Fe(c,[n])}),0,null)}}}(t,o)):(a=e=null,t.ma.id&&t.A.id&&(e=n[a=t.ma.id+","+t.A.id]),s=function(t,e){for(var n=[],r=0;r<e.R.length;r++){var i=r+e.ib;n.push(new Xr(i,e.R[r].start,e.R[r].end,function(t,e,n,r,i,o){return Fe(r,[t=Hr(t,e,i,n,o)]).map((function(t){return t.toString()}))}.bind(null,e.kd,t.A.id,t.bandwidth||null,t.A.ta,i,e.R[r].Hg+e.Pd),0,null))}return n}(t,o),r=!t.tb||!t.W.hd,e?(r&&$r(new qr(s),t.W.duration),e.md(s),n=t.presentationTimeline.Wb(),e.Tc(n-t.W.start)):(t.presentationTimeline.Eb(s,t.W.start),e=new qr(s),a&&t.tb&&(n[a]=e)),r&&$r(e,t.W.duration),t={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:e.find.bind(e),getSegmentReference:e.get.bind(e)});return{createSegmentIndex:t.createSegmentIndex,findSegmentPosition:t.findSegmentPosition,getSegmentReference:t.getSegmentReference,initSegmentReference:i,oa:o.oa}}function di(t){return t.cc}G("shaka.media.InitSegmentReference",Qr),Qr.prototype.Qc=function(){return this.c()},Qr.prototype.createUris=Qr.prototype.Qc,Qr.prototype.bd=function(){return this.b},Qr.prototype.getStartByte=Qr.prototype.bd,Qr.prototype.ad=function(){return this.a},Qr.prototype.getEndByte=Qr.prototype.ad,G("shaka.media.SegmentReference",Xr),Xr.prototype.ga=function(){return this.position},Xr.prototype.getPosition=Xr.prototype.ga,Xr.prototype.sc=function(){return this.startTime},Xr.prototype.getStartTime=Xr.prototype.sc,Xr.prototype.ff=function(){return this.endTime},Xr.prototype.getEndTime=Xr.prototype.ff,Xr.prototype.Qc=function(){return this.c()},Xr.prototype.createUris=Xr.prototype.Qc,Xr.prototype.bd=function(){return this.b},Xr.prototype.getStartByte=Xr.prototype.bd,Xr.prototype.ad=function(){return this.a},Xr.prototype.getEndByte=Xr.prototype.ad,G("shaka.media.SegmentIndex",qr),qr.prototype.destroy=function(){return this.a=null,Promise.resolve()},qr.prototype.destroy=qr.prototype.destroy,qr.prototype.find=function(t){for(var e=this.a.length-1;0<=e;--e){var n=this.a[e];if(t>=n.startTime&&t<n.endTime)return n.position}return this.a.length&&t<this.a[0].startTime?this.a[0].position:null},qr.prototype.find=qr.prototype.find,qr.prototype.get=function(t){return 0==this.a.length||0>(t-=this.a[0].position)||t>=this.a.length?null:this.a[t]},qr.prototype.get=qr.prototype.get,qr.prototype.offset=function(t){for(var e=0;e<this.a.length;++e)this.a[e].startTime+=t,this.a[e].endTime+=t},qr.prototype.offset=qr.prototype.offset,qr.prototype.md=function(t){for(var e=[],n=0,r=0;n<this.a.length&&r<t.length;){var i=this.a[n],o=t[r];i.startTime<o.startTime?(e.push(i),n++):(i.startTime>o.startTime?0==n?e.push(o):Q.m("Refusing to rewrite original references on update!"):(.1<Math.abs(i.endTime-o.endTime)?e.push(new Xr(i.position,o.startTime,o.endTime,o.c,o.b,o.a)):e.push(i),n++),r++)}for(;n<this.a.length;)e.push(this.a[n++]);if(e.length)for(n=e[e.length-1].position+1;r<t.length;)i=new Xr(n++,(i=t[r++]).startTime,i.endTime,i.c,i.b,i.a),e.push(i);else e=t;this.a=e},qr.prototype.merge=qr.prototype.md,qr.prototype.Tc=function(t){for(var e=0;e<this.a.length;++e)if(this.a[e].endTime>t)return void this.a.splice(0,e);this.a=[]},qr.prototype.evict=qr.prototype.Tc,ti.prototype.ya=function(){return this.a.ya()},oi.prototype.parse=function(t,e,n,r){var i;if(440786851!=ei(e=new ti(new DataView(e))).id)throw Q.error("Not an EBML element."),new pt(2,3,3008);var o=ei(e);if(408125543!=o.id)throw Q.error("Not a Segment element."),new pt(2,3,3009);for(e=o.a.byteOffset,o=new ti(o.a),i=null;o.ya();){var a=ei(o);if(357149030==a.id){i=a;break}}if(!i)throw Q.error("Not an Info element."),new pt(2,3,3010);for(o=new ti(i.a),i=1e6,a=null;o.ya();){var s=ei(o);if(2807729==s.id)i=ii(s);else if(17545==s.id)if(4==(a=s).a.byteLength)a=a.a.getFloat32(0);else{if(8!=a.a.byteLength)throw new pt(2,3,3003);a=a.a.getFloat64(0)}}if(null==a)throw new pt(2,3,3011);if(i=a*(o=i/1e9),475249515!=(t=ei(new ti(new DataView(t)))).id)throw Q.error("Not a Cues element."),new pt(2,3,3007);return function(t,e,n,r,i,o){function a(){return i}var s=[];t=new ti(t.a);for(var u=null,c=null;t.ya();){var l=ei(t);if(187==l.id){var f=ai(l);f&&(l=n*f.Ig,f=e+f.gg,null!=u&&s.push(new Xr(s.length,u-o,l-o,a,c,f-1)),u=l,c=f)}}return null!=u&&s.push(new Xr(s.length,u-o,r-o,a,c,null)),s}(t,e,o,i,n,r)};var pi={Ib:{},Zb:{},zd:function(t,e){pi.Zb[t]=e}};function mi(t,e,n){this.f=t,this.Dc=e,this.h=this.g=1/0,this.a=1,this.b=this.c=null,this.l=0,this.o=!0,this.i=0,this.u=void 0===n||n}function gi(t,e,n,r){return t=_t(t,r),0==e&&null==n||(t.headers.Range=n?"bytes="+e+"-"+n:"bytes="+e+"-"),t}function yi(){var t=this;this.b=this.a=null,this.f=[],this.c=null,this.l=[],this.h=1,this.o={},this.u=0,this.v=new W(5),this.i=new ft((function(){!function(t){m((function e(){var n,r;return R(e,(function(e){switch(e.j){case 1:return Q.info("Updating manifest..."),n=0,A(e,2),M(e,bi(t),4);case 4:n=e.s,N(e,3);break;case 2:r=L(e),t.b&&(r.severity=1,t.b.onError(r));case 3:if(!t.b)return e.return();Si(t,n),I(e)}}))}))}(t)})),this.g=new Nt}function bi(t){var e=Date.now(),n=t.b.networkingEngine.request(0,_t(t.f,t.a.retryParameters));return Lt(t.g,n),n.promise.then((function(e){if(t.b)return e.uri&&!t.f.includes(e.uri)&&t.f.unshift(e.uri),function(t,e,n){if(!(e=Ur.te(e,"MPD")))throw new pt(2,4,4001,n);return e=Kr(e,t.a.retryParameters,t.a.dash.xlinkFailGracefully,n,t.b.networkingEngine),Lt(t.g,e),e.promise.then((function(e){return function(t,e,n){return m((function r(){var i,o,a,s,u,c,l,f,h,d,p,m,g,y,b,v,w,T,S,x,E,A,k,N;return R(r,(function(r){switch(r.j){case 1:s=Be,c=[n],0<(l=(u=Ur).U(e,"Location").map(u.qc).filter(s.Ma)).length&&(f=Fe(c,l),c=t.f=f),h=u.U(e,"BaseURL").map(u.qc),d=Fe(c,h),p=t.a.dash.ignoreMinBufferTime,m=0,p||(m=u.M(e,"minBufferTime",u.Ia)),t.u=u.M(e,"minimumUpdatePeriod",u.Ia,-1),g=u.M(e,"availabilityStartTime",u.$f),y=u.M(e,"timeShiftBufferDepth",u.Ia),b=u.M(e,"maxSegmentDuration",u.Ia),v=e.getAttribute("type")||"static",w=t.a.dash.ignoreSuggestedPresentationDelay,T=null,w||(T=u.M(e,"suggestedPresentationDelay",u.Ia)),t.c?S=t.c.presentationTimeline:(x=Math.max(t.a.dash.defaultPresentationDelay,1.5*m),S=new mi(g,null!=T?T:x,t.a.dash.autoCorrectDrift));for(var L={tb:"static"!=v,presentationTimeline:S,ma:null,W:null,aa:null,A:null,bandwidth:0,he:!1},D=d,C=Ur.M(e,"mediaPresentationDuration",Ur.Ia),O=[],_=0,P=Ur.U(e,"Period"),j=0;j<P.length;j++){var R=P[j];_=Ur.M(R,"start",Ur.Ia,_);var U=Ur.M(R,"duration",Ur.Ia),z=null;if(j!=P.length-1){var B=Ur.M(P[j+1],"start",Ur.Ia);null!=B&&(z=B-_)}else null!=C&&(z=C-_);if(B=1/15,z&&U&&Math.abs(z-U)>B&&Q.m("There is a gap/overlap between Periods",R),null==z&&(z=U),R=vi(t,L,D,{start:_,duration:z,node:R,hd:null==z||j==P.length-1}),O.push(R),U=L.ma.id,t.l.includes(U)||(t.l.push(U),t.c&&(t.b.filterNewPeriod(R),t.c.periods.push(R))),null==z){j!=P.length-1&&Q.m("Skipping Period",j+1,"and any subsequent Periods:","Period",j+1,"does not have a valid start time.",O[j+1]),_=null;break}_+=z}if(null==t.c&&t.b.filterAllPeriods(O),null!=C?(_!=C&&Q.m("@mediaPresentationDuration does not match the total duration of all","Periods."),i=O,o=C,a=!1):(i=O,o=_,a=!0),E=o,A=i,S.dc("static"==v),"static"!=v&&a||S.Ba(E||1/0),S.X()&&!isNaN(t.a.availabilityWindowOverride)&&(y=t.a.availabilityWindowOverride),null==y&&(y=1/0),S.Jd(y),S.od(b||1),t.c){r.C(0);break}if(t.c={presentationTimeline:S,periods:A,offlineSessionIds:[],minBufferTime:m||0},!S.He()){r.C(0);break}return k=u.U(e,"UTCTiming"),M(r,function(t,e,n){n=n.map((function(t){return{scheme:t.getAttribute("schemeIdUri"),value:t.getAttribute("value")}}));var r=t.a.dash.clockSyncUri;return!n.length&&r&&n.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:r}),Be.Xe(n,function(t){var n=t.scheme;switch(t=t.value,n){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return Ei(this,e,t,"HEAD");case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return Ei(this,e,t,"GET");case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return n=Date.parse(t),isNaN(n)?0:n-Date.now();case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":return Q.Z("NTP UTCTiming scheme is not supported"),Promise.reject();default:return Q.Z("Unrecognized scheme in UTCTiming element",n),Promise.reject()}}.bind(t)).catch((function(){return Q.Z("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),0}))}(t,d,k),4);case 4:if(N=r.s,!t.b)return r.return();S.Ce(N),I(r)}}))}))}(t,e,n)}))}(t,e.data,e.uri)})).then((function(){var n=(Date.now()-e)/1e3;return V(t.v,1,n),n}))}function vi(t,e,n,r){if(e.ma=xi(r.node,null,n),e.W=r,e.ma.id||(Q.info("No Period ID given for Period with start time "+r.start+",  Assigning a default"),e.ma.id="__shaka_period_"+r.start),Ur.U(r.node,"EventStream").forEach(t.ag.bind(t,r.start,r.duration)),n=Ur.U(r.node,"AdaptationSet").map(t.Zf.bind(t,e)).filter(Be.Ma),e.tb){e=[];for(var i=d(n),o=i.next();!o.done;o=i.next())for(var a=(o=d(o.value.jg)).next();!a.done;a=o.next())e.push(a.value);if(e.length!=new Set(e).size)throw new pt(2,4,4018)}var s=n.filter((function(t){return!t.Nd}));if(n.filter((function(t){return t.Nd})).forEach((function(t){var e=t.streams[0],n=t.Nd;s.forEach((function(t){t.id==n&&t.streams.forEach((function(t){t.trickModeVideo=e}))}))})),e=wi(s,"video"),i=wi(s,"audio"),!e.length&&!i.length)throw new pt(2,4,4004);for(n=t.a.disableAudio,i.length&&!n||(i=[null]),n=t.a.disableVideo,e.length&&!n||(e=[null]),n=[],o=0;o<i.length;o++)for(a=0;a<e.length;a++)Ti(t,i[o],e[a],n);if(e=[],!t.a.disableText)for(t=wi(s,"text"),i=0;i<t.length;i++)e.push.apply(e,t[i].streams);return{startTime:r.start,textStreams:e,variants:n}}function wi(t,e){return t.filter((function(t){return t.contentType==e}))}function Ti(t,e,n,r){if(e||n)if(e&&n){var i=e.drmInfos,o=n.drmInfos;if(!i.length||!o.length||0<ke(i,o).length){o=ke(e.drmInfos,n.drmInfos);for(var a=0;a<e.streams.length;a++)for(var s=0;s<n.streams.length;s++)i=(n.streams[s].bandwidth||0)+(e.streams[a].bandwidth||0),i={id:t.h++,language:e.language,primary:e.jd||n.jd,audio:e.streams[a],video:n.streams[s],bandwidth:i,drmInfos:o,allowedByApplication:!0,allowedByKeySystem:!0},r.push(i)}}else for(o=e||n,a=0;a<o.streams.length;a++)i=o.streams[a].bandwidth||0,i={id:t.h++,language:o.language||"und",primary:o.jd,audio:e?o.streams[a]:null,video:n?o.streams[a]:null,bandwidth:i,drmInfos:o.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0},r.push(i)}function Si(t,e){0>t.u||t.i.T(Math.max(3,t.u-e,Z(t.v)))}function xi(t,e,n){e=e||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,qd:null,audioSamplingRate:null},n=n||e.ta;var r=Ur.Hb,i=Ur.Ze,o=Ur.U(t,"BaseURL").map(Ur.qc),a=t.getAttribute("contentType")||e.contentType,s=t.getAttribute("mimeType")||e.mimeType,u=t.getAttribute("codecs")||e.codecs;i=Ur.M(t,"frameRate",i)||e.frameRate;for(var c=t.getAttribute("sar")||e.pixelAspectRatio,l=Ur.U(t,"InbandEventStream"),f=e.emsgSchemeIdUris.slice(),h=(l=d(l)).next();!h.done;h=l.next())h=h.value.getAttribute("schemeIdUri"),f.includes(h)||f.push(h);return l=function(t){for(var e=0;e<t.length;++e){var n=t[e],r=n.getAttribute("schemeIdUri");if(r&&(n=n.getAttribute("value")))switch(r){case"urn:mpeg:dash:outputChannelPositionList:2012":return n.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":var i=parseInt(n,10);if(!i){Q.m("Channel parsing failure! Ignoring scheme and value",r,n);continue}return i;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(!(i=parseInt(n,16))){Q.m("Channel parsing failure! Ignoring scheme and value",r,n);continue}for(t=0;i;)1&i&&++t,i>>=1;return t;default:Q.m("Unrecognized audio channel scheme:",r,n)}}return null}(l=Ur.U(t,"AudioChannelConfiguration"))||e.qd,h=Ur.M(t,"audioSamplingRate",r)||e.audioSamplingRate,a||(a=Mi(s,u)),{ta:Fe(n,o),ac:Ur.oc(t,"SegmentBase")||e.ac,Pa:Ur.oc(t,"SegmentList")||e.Pa,cc:Ur.oc(t,"SegmentTemplate")||e.cc,width:Ur.M(t,"width",r)||e.width,height:Ur.M(t,"height",r)||e.height,contentType:a,mimeType:s,codecs:u,frameRate:i,pixelAspectRatio:c,emsgSchemeIdUris:f,id:t.getAttribute("id"),qd:l,audioSamplingRate:h}}function Ei(t,e,n,r){return(e=_t(e=Fe(e,[n]),t.a.retryParameters)).method=r,e=t.b.networkingEngine.request(4,e),Lt(t.g,e),e.promise.then((function(t){if("HEAD"==r){if(!t.headers||!t.headers.date)return Q.m("UTC timing response is missing","expected date header"),0;t=t.headers.date}else t=ie(t.data);return t=Date.parse(t),isNaN(t)?(Q.m("Unable to parse date from UTC timing response"),0):t-Date.now()}))}function Mi(t,e){return dn(Zt(t,e))?"text":t.split("/")[0]}function Ii(t,e,n,r){this.b=t,this.type=e,this.a=n,this.segments=r||null}function Ai(t,e,n,r){this.id=t,this.name=e,this.a=n,this.value=void 0===r?null:r}function ki(t,e){this.name=t,this.value=e}function Ni(t,e,n){return(t=t.getAttribute(e))?t.value:n||null}function Li(t,e){this.b=e,this.a=t}G("shaka.media.ManifestParser.registerParserByExtension",pi.zd),pi.Lb=function(t,e){pi.Ib[t]=e},G("shaka.media.ManifestParser.registerParserByMime",pi.Lb),pi.dg=function(){var t={};if(Xt()){for(var e in pi.Ib)t[e]=!0;for(var n in pi.Zb)t[n]=!0}e={mpd:"application/dash+xml",m3u8:"application/x-mpegurl",ism:"application/vnd.ms-sstr+xml"};for(var r=(n=d(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"])).next();!r.done;r=n.next())t[r=r.value]=Xt()?!!pi.Ib[r]:Jt(r);for(var i in e)t[i]=Xt()?!!pi.Zb[i]:Jt(e[i]);return t},pi.create=function(t,e,n,r){return m((function i(){var o,a;return R(i,(function(i){switch(i.j){case 1:return A(i,2),M(i,pi.gf(t,e,n,r),4);case 4:return o=i.s,i.return(new o);case 2:throw(a=L(i)).severity=2,a}}))}))},pi.gf=function(t,e,n,r){return m((function i(){var o,a,s,u,c;return R(i,(function(i){switch(i.j){case 1:if(o=pi,r){if(a=o.Ib[r.toLowerCase()])return i.return(a);Q.m("Could not determine manifest type using MIME type ",r)}if(s=o.getExtension(t)){if(u=o.Zb[s])return i.return(u);Q.m("Could not determine manifest type for extension ",s)}else Q.m("Could not find extension for ",t);if(r){i.C(2);break}return M(i,o.qf(t,e,n),3);case 3:if(r=i.s){if(c=pi.Ib[r])return i.return(c);Q.m("Could not determine manifest type using MIME type",r)}case 2:throw new pt(2,4,4e3,t)}}))}))},pi.qf=function(t,e,n){return m((function r(){var i,o,a;return R(r,(function(r){switch(r.j){case 1:return(i=_t([t],n)).method="HEAD",M(r,e.request(0,i).promise,2);case 2:return o=r.s,a=o.headers["content-type"],r.return(a?a.toLowerCase().split(";").shift():"")}}))}))},pi.getExtension=function(t){return 1==(t=new J(t).la.split("/").pop().split(".")).length?"":t.pop().toLowerCase()},pi.isSupported=function(t,e){return!!Xt()&&(e in pi.Ib||pi.getExtension(t)in pi.Zb)},G("shaka.media.PresentationTimeline",mi),mi.prototype.ca=function(){return this.g},mi.prototype.getDuration=mi.prototype.ca,mi.prototype.nf=function(){return this.a},mi.prototype.getMaxSegmentDuration=mi.prototype.nf,mi.prototype.Ba=function(t){this.g=t},mi.prototype.setDuration=mi.prototype.Ba,mi.prototype.wf=function(){return this.f},mi.prototype.getPresentationStartTime=mi.prototype.wf,mi.prototype.Ce=function(t){this.l=t},mi.prototype.setClockOffset=mi.prototype.Ce,mi.prototype.dc=function(t){this.o=t},mi.prototype.setStatic=mi.prototype.dc,mi.prototype.Jd=function(t){this.h=t},mi.prototype.setSegmentAvailabilityDuration=mi.prototype.Jd,mi.prototype.sg=function(t){this.Dc=t},mi.prototype.setDelay=mi.prototype.sg,mi.prototype.ef=function(){return this.Dc},mi.prototype.getDelay=mi.prototype.ef,mi.prototype.Eb=function(t,e){if(0!=t.length){var n=t[t.length-1].endTime+e;this.pd(t[0].startTime+e),this.a=t.reduce((function(t,e){return Math.max(t,e.endTime-e.startTime)}),this.a),this.b=Math.max(this.b,n),null!=this.f&&this.u&&(this.f=(Date.now()+this.l)/1e3-this.b-this.a),Q.D("notifySegments:","maxSegmentDuration="+this.a)}},mi.prototype.notifySegments=mi.prototype.Eb,mi.prototype.pd=function(t){this.c=null==this.c?t:Math.min(this.c,t)},mi.prototype.notifyMinSegmentStartTime=mi.prototype.pd,mi.prototype.od=function(t){this.a=Math.max(this.a,t),Q.D("notifyNewSegmentDuration:","maxSegmentDuration="+this.a)},mi.prototype.notifyMaxSegmentDuration=mi.prototype.od,mi.prototype.offset=function(t){null!=this.c&&(this.c+=t),null!=this.b&&(this.b+=t)},mi.prototype.offset=mi.prototype.offset,mi.prototype.X=function(){return 1/0==this.g&&!this.o},mi.prototype.isLive=mi.prototype.X,mi.prototype.bb=function(){return 1/0!=this.g&&!this.o},mi.prototype.isInProgress=mi.prototype.bb,mi.prototype.Wb=function(){if(1/0==this.h)return this.i;var t=this.xb()-this.h;return Math.max(this.i,t)},mi.prototype.getSegmentAvailabilityStart=mi.prototype.Wb,mi.prototype.De=function(t){this.i=t},mi.prototype.setUserSeekStart=mi.prototype.De,mi.prototype.xb=function(){return this.X()||this.bb()?Math.min(Math.max(0,(Date.now()+this.l)/1e3-this.a-this.f),this.g):this.g},mi.prototype.getSegmentAvailabilityEnd=mi.prototype.xb,mi.prototype.Vb=function(t){var e=Math.max(this.c,this.i);if(1/0==this.h)return e;var n=this.xb()-this.h;return t=Math.min(n+t,this.Ga()),Math.max(e,t)},mi.prototype.getSafeSeekRangeStart=mi.prototype.Vb,mi.prototype.wb=function(){return this.Vb(0)},mi.prototype.getSeekRangeStart=mi.prototype.wb,mi.prototype.Ga=function(){var t=this.X()||this.bb()?this.Dc:0;return Math.max(0,this.xb()-t)},mi.prototype.getSeekRangeEnd=mi.prototype.Ga,mi.prototype.He=function(){return!(null==this.f||null!=this.b&&this.u)},mi.prototype.usingPresentationStartTime=mi.prototype.He,G("shaka.dash.DashParser",yi),(i=yi.prototype).configure=function(t){this.a=t},i.start=function(t,e){var n=this;return m((function r(){var i;return R(r,(function(r){switch(r.j){case 1:return n.f=[t],n.b=e,M(r,bi(n),2);case 2:if(i=r.s,n.b&&Si(n,i),!n.b)throw new pt(2,7,7001);return r.return(n.c)}}))}))},i.stop=function(){return this.a=this.b=null,this.f=[],this.c=null,this.l=[],this.o={},null!=this.i&&(this.i.stop(),this.i=null),this.g.destroy()},i.update=function(){bi(this).catch(function(t){this.b&&this.b.onError(t)}.bind(this))},i.onExpirationUpdated=function(){},i.Zf=function(t,e){if(t.aa=xi(e,t.ma,null),"image"==t.aa.contentType)return Q.m("Skipping Image AdaptationSet",t.aa),null;var n=!1,r=Ur.U(e,"Role"),i=r.map((function(t){return t.getAttribute("value")})).filter(Be.Ma),o=void 0,a="text"==t.aa.contentType;a&&(o="subtitle");for(var s=0;s<r.length;s++){var u=r[s].getAttribute("schemeIdUri");if(null==u||"urn:mpeg:dash:role:2011"==u)switch(u=r[s].getAttribute("value"),u){case"main":n=!0;break;case"caption":case"subtitle":o=u}}var c=null,l=!1;Ur.U(e,"EssentialProperty").forEach((function(t){"http://dashif.org/guidelines/trickmode"==t.getAttribute("schemeIdUri")?c=t.getAttribute("value"):l=!0})),s=Ur.U(e,"Accessibility");var f=new Map;for(r={},u=(s=d(s)).next();!u.done;r={Rb:r.Rb},u=s.next()){var h=u.value;u=h.getAttribute("schemeIdUri"),h=h.getAttribute("value"),"urn:scte:dash:cc:cea-608:2015"==u||"urn:scte:dash:cc:cea-708:2015"==u?(r.Rb=1,null!=h?h.split(";").forEach(function(t){return function(e){if(e.includes("=")){var n=(e=e.split("="))[0].startsWith("CC")?e[0]:"CC"+e[0];e=e[1].split(",")[0].split(":").pop()}else n="CC"+t.Rb,t.Rb+=2;f.set(n,Cn(e))}}(r)):f.set("CC1","und")):"urn:mpeg:dash:role:2011"==u&&null!=h&&(i.push(h),"captions"==h&&(o="caption"))}if(l)return null;var p=Br(r=Ur.U(e,"ContentProtection"),this.a.dash.customScheme,this.a.dash.ignoreDrmInfo);if(r=Cn(e.getAttribute("lang")||"und"),s=e.getAttribute("label"),(u=Ur.U(e,"Label"))&&u.length&&((u=u[0]).textContent&&(s=u.textContent)),0==(i=(u=Ur.U(e,"Representation")).map(this.bg.bind(this,t,p,o,r,s,n,i,f)).filter((function(t){return!!t}))).length){if(this.a.dash.ignoreEmptyAdaptationSet||a)return null;throw new pt(2,4,4003)}return t.aa.contentType&&"application"!=t.aa.contentType||(t.aa.contentType=Mi(i[0].mimeType,i[0].codecs),i.forEach((function(e){e.type=t.aa.contentType}))),i.forEach((function(t){p.drmInfos.forEach((function(e){t.keyId&&e.keyIds.push(t.keyId)}))})),a=u.map((function(t){return t.getAttribute("id")})).filter(Be.Ma),{id:t.aa.id||"__fake__"+this.h++,contentType:t.aa.contentType,language:r,jd:n,streams:i,drmInfos:p.drmInfos,Nd:c,jg:a}},i.bg=function(t,e,n,r,i,o,a,s,u){if(t.A=xi(u,t.aa,null),!function(t){var e=t.ac?1:0;if(e+=t.Pa?1:0,0==(e+=t.cc?1:0))return"text"==t.contentType||"application"==t.contentType||(Q.m("Representation does not contain a segment information source:","the Representation must contain one of SegmentBase, SegmentList,",'SegmentTemplate, or explicitly indicate that it is "text".',t),!1);return 1!=e&&(Q.m("Representation contains multiple segment information sources:","the Representation should only contain one of SegmentBase,","SegmentList, or SegmentTemplate.",t),t.ac?(Q.info("Using SegmentBase by default."),t.Pa=null):Q.info("Using SegmentList by default."),t.cc=null),!0}(t.A))return Q.m("Skipping Representation",t.A),null;t.bandwidth=Ur.M(u,"bandwidth",Ur.Bc)||0;var c=t.A.contentType;c="text"==c||"application"==c;try{var l=this.kg.bind(this);if(t.A.ac)var f=function(t,e){var n=Number(Vr(t,ci,"presentationTimeOffset"))||0,r=Vr(t,ci,"timescale"),i=1;r&&(i=Ur.Bc(r)||1),n=n/i||0,r=si(t,ci);var o=t.A.contentType;if(i=t.A.mimeType.split("/")[1],"text"!=o&&"mp4"!=i&&"webm"!=i)throw Q.error("SegmentBase specifies an unsupported container type.",t.A),new pt(2,4,4006);if("webm"==i&&!r)throw Q.error("SegmentBase does not contain sufficient segment information:","the SegmentBase uses a WebM container,","but does not contain an Initialization element.",t.A),new pt(2,4,4005);o=Zr(t,ci,"RepresentationIndex");var a=Vr(t,ci,"indexRange"),s=t.A.ta;if(a=Ur.Cc(a||""),o){var u=o.getAttribute("sourceURL");u&&(s=Fe(t.A.ta,[u])),a=Ur.M(o,"range",Ur.Cc,a)}if(!a)throw Q.error("SegmentBase does not contain sufficient segment information:","the SegmentBase does not contain @indexRange","or a RepresentationIndex element.",t.A),new pt(2,4,4002);return{createSegmentIndex:(i=ui(t,e,r,s,a.start,a.end,i,n)).createSegmentIndex,findSegmentPosition:i.findSegmentPosition,getSegmentReference:i.getSegmentReference,initSegmentReference:r,oa:n}}(t,l);else if(t.A.Pa)f=li(t,this.o);else if(t.A.cc)f=hi(t,l,this.o,!!this.c);else{var h=t.A.ta,d=t.W.duration||0;f={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(t){return 0<=t&&t<d?1:null},getSegmentReference:function(t){return 1!=t?null:new Xr(1,0,d,(function(){return h}),0,null)},initSegmentReference:null,oa:0}}}catch(t){if(c&&4002==t.code)return null;throw t}return u=function(t,e,n,r){var i=Br(t,e,r);if(n.be)t=1==n.drmInfos.length&&!n.drmInfos[0].keySystem,e=0==i.drmInfos.length,(0==n.drmInfos.length||t&&!e)&&(n.drmInfos=i.drmInfos),n.be=!1;else if(0<i.drmInfos.length&&(n.drmInfos=n.drmInfos.filter((function(t){return i.drmInfos.some((function(e){return e.keySystem==t.keySystem}))})),0==n.drmInfos.length))throw new pt(2,4,4008);return i.Xd||n.Xd}(u=Ur.U(u,"ContentProtection"),this.a.dash.customScheme,e,this.a.dash.ignoreDrmInfo),{id:this.h++,originalId:t.A.id,createSegmentIndex:f.createSegmentIndex,findSegmentPosition:f.findSegmentPosition,getSegmentReference:f.getSegmentReference,initSegmentReference:f.initSegmentReference,presentationTimeOffset:f.oa,mimeType:t.A.mimeType,codecs:t.A.codecs,frameRate:t.A.frameRate,pixelAspectRatio:t.A.pixelAspectRatio,bandwidth:t.bandwidth,width:t.A.width,height:t.A.height,kind:n,encrypted:0<e.drmInfos.length,keyId:u,language:r,label:i,type:t.aa.contentType,primary:o,trickModeVideo:null,emsgSchemeIdUris:t.A.emsgSchemeIdUris,roles:a,channelsCount:t.A.qd,audioSamplingRate:t.A.audioSamplingRate,closedCaptions:s}},i.ag=function(t,e,n){var r=Ur.Hb,i=n.getAttribute("schemeIdUri")||"",o=n.getAttribute("value")||"",a=Ur.M(n,"timescale",r)||1;Ur.U(n,"Event").forEach(function(n){var s=Ur.M(n,"presentationTime",r)||0,u=Ur.M(n,"duration",r)||0;u=(s=s/a+t)+u/a,null!=e&&(s=Math.min(s,t+e),u=Math.min(u,t+e)),n={schemeIdUri:i,value:o,startTime:s,endTime:u,id:n.getAttribute("id")||"",eventElement:n},this.b.onTimelineRegionAdded(n)}.bind(this))},i.kg=function(t,e,n){return t=gi(t,e,n,this.a.retryParameters),t=this.b.networkingEngine.request(1,t),Lt(this.g,t),t.promise.then((function(t){return t.data}))},pi.zd("mpd",yi),pi.Lb("application/dash+xml",yi),pi.Lb("video/vnd.mpeg.dash.mpd",yi),Ai.prototype.toString=function(){var t="#"+this.name,e=this.a?this.a.map((function(t){return t.name+"="+(isNaN(Number(t.value))?'"'+t.value+'"':t.value)})):[];return this.value&&e.unshift(this.value),0<e.length&&(t+=":"+e.join(",")),t},Ai.prototype.getAttribute=function(t){var e=this.a.filter((function(e){return e.name==t}));return e.length?e[0]:null};var Di={ub:function(t,e){return t.filter((function(t){return t.name==e}))},Ya:function(t,e){var n=Di.ub(t,e);return n.length?n[0]:null},Xc:function(t,e,n){return t.filter((function(t){var r=t.getAttribute("TYPE");return t=t.getAttribute("GROUP-ID"),r.value==e&&t.value==n}))},Pc:function(t,e){return Fe([t],[e])[0]},gd:function(t){return/^#(?!EXT)/m.test(t)}};function Ci(t){this.b=t,this.a=0}function Oi(t){_i(t,/[ \t]+/gm)}function _i(t,e){e.lastIndex=t.a;var n=e.exec(t.b);return n=null==n?null:{position:n.index,length:n[0].length,mg:n},t.a==t.b.length||null==n||n.position!=t.a?null:(t.a+=n.length,n.mg)}function Pi(t){return t.a==t.b.length?null:(t=_i(t,/[^ \t\n]*/gm))?t[0]:null}function ji(){this.a=0}function Ri(t,e,n){var r=(e=(e=ie(e)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim()).split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(r[0]))throw new pt(2,4,4015);e=0;for(var i=1;i<r.length;i++)if(!Di.gd(r[i])){var o=zi(t,r[i]);if(--t.a,Bi.includes(o.name)){e=1;break}"EXT-X-STREAM-INF"==o.name&&(i+=1)}for(i=[],o=1;o<r.length;)if(Di.gd(r[o]))o+=1;else{var a=zi(t,r[o]);if(Fi.includes(a.name)){if(1!=e)throw new pt(2,4,4017);return new Ii(n,e,i,t=Ui(t,n,r=r.splice(o,r.length-o),i))}i.push(a),o+=1,"EXT-X-STREAM-INF"==a.name&&(a.a.push(new ki("URI",r[o])),o+=1)}return new Ii(n,e,i)}function Ui(t,e,n,r){var i=[],o=[];return n.forEach((function(n){if(/^(#EXT)/.test(n))n=zi(t,n),Bi.includes(n.name)?r.push(n):o.push(n);else{if(Di.gd(n))return[];n=Di.Pc(e,n.trim()),i.push(new Li(n,o)),o=[]}})),i}function zi(t,e){var n=t.a++,r=e.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!r)throw new pt(2,4,4016,e);var i,o=r[1],a=r[2];if(r=[],a){var s;(s=_i(a=new Ci(a),/^([^,=]+)(?:,|$)/g))&&(i=s[1]);for(var u=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;s=_i(a,u);)r.push(new ki(s[1],s[2]||s[3]))}return new Ai(n,o,r,i)}var Bi="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-MAP EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST".split(" "),Fi="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE".split(" ");function Yi(t){try{var e=Yi.parse(t);return vt({uri:t,vd:t,data:e.data,headers:{"content-type":e.contentType}})}catch(t){return yt(t)}}function Gi(){var t=this;this.a=this.f=null,this.ea=1,this.G=new Map,this.V=new Set,this.b=new Map,this.c=null,this.v="",this.u=new ji,this.S=0,this.h=new ft((function(){!function(t){m((function e(){var n,r;return R(e,(function(e){switch(e.j){case 1:return Q.info("Updating manifest..."),t.f?(A(e,2),M(e,t.update(),4)):e.return();case 4:n=t.S,t.h.T(n),N(e,0);break;case 2:if(r=L(e),!t.f)return e.return();r.severity=1,t.f.onError(r),t.h.T(.1),I(e)}}))}))}(t)})),this.g=co,this.o=null,this.F=0,this.H=1/0,this.i=new Nt,this.K=[],this.l=new Map,this.$=!1}function Hi(t,e){return m((function n(){var r,i,o,a,s,u,c,l,f,h;return R(n,(function(n){switch(n.j){case 1:return r=Di,i=lo,o=e.Pe,M(n,so(t,_t([o],t.a.retryParameters),0),2);case 2:if(a=n.s,1!=(s=Ri(t.u,a.data,a.uri)).type)throw new pt(2,4,4017);return c=(u=r.Ya(s.a,"EXT-X-MEDIA-SEQUENCE"))?Number(u.value):0,l=e.stream,M(n,qi(t,e.Jc,s,c,l.mimeType,l.codecs),3);case 3:f=n.s,e.bc.a=f,h=f[f.length-1],r.Ya(s.a,"EXT-X-ENDLIST")&&(ao(t,i.Va),t.c.Ba(h.endTime)),I(n)}}))}))}function Wi(t){t.forEach((function(t){if(t){var e=t.stream.codecs.split(",");e=e.filter((function(t){return"mp4a.40.34"!=t})),t.stream.codecs=e.join(",")}}))}function Vi(t,e,n,r,i){return{id:t.ea++,language:e?e.language:"und",primary:!!e&&e.primary||!!n&&n.primary,audio:e,video:n,bandwidth:r,drmInfos:i,allowedByApplication:!0,allowedByKeySystem:!0}}function Zi(t,e,n){return m((function r(){var i,o,a,s,u,c,l,f,h,d,p,m;return R(r,(function(r){switch(r.j){case 1:if(i=eo(e,"URI"),t.b.has(i))return r.return(t.b.get(i));if(o=eo(e,"TYPE").toLowerCase(),a=Ge,"subtitles"==o&&(o=a.va),s=Cn(Ni(e,"LANGUAGE","und")),u=Ni(e,"NAME"),c=e.getAttribute("DEFAULT"),l=e.getAttribute("AUTOSELECT"),f=Ni(e,"CHANNELS"),"audio"==o)if(f){var g=f.split("/")[0];g=parseInt(g,10)}else g=null;else g=null;return h=g,d=!!c||!!l,p=Ni(e,"CHARACTERISTICS"),M(r,Ki(t,i,n,o,s,d,u,h,null,p),2);case 2:return m=r.s,t.b.has(i)?r.return(t.b.get(i)):null==m?r.return(null):(t.G.set(e.id,m),t.b.set(i,m),r.return(m))}}))}))}function Ki(t,e,n,r,i,o,a,s,u,c){return m((function l(){var f,h,p,g,y,b,v,w,T,S,x,E,I,k,D,C,O,_,P,j,U,z,B,F,Y,G,H;return R(l,(function(l){switch(l.j){case 1:return h=(f=Di).Pc(t.v,e),M(l,so(t,_t([h],t.a.retryParameters),0),2);case 2:if(p=l.s,h=p.uri,1!=(g=Ri(t.u,p.data,h)).type)throw new pt(2,4,4017);y=[],g.segments.forEach((function(t){t=f.ub(t.b,"EXT-X-KEY"),y.push.apply(y,t)})),b=!1,v=[],w=null;for(var W=d(y),V=W.next();!V.done;V=W.next())if(T=V.value,"NONE"!=(S=eo(T,"METHOD"))){if(b=!0,"AES-128"==S)return Q.m("Unsupported HLS Encryption",S),t.$=!0,l.return(null);x=eo(T,"KEYFORMAT"),(I=(E=uo[x])?E(T):null)?(I.keyIds.length&&(w=I.keyIds[0]),v.push(I)):Q.m("Unsupported HLS KEYFORMAT",x)}if(b&&!v.length)throw new pt(2,4,4026);return function(t,e){var n=lo,r=Di.Ya(e.a,"EXT-X-PLAYLIST-TYPE"),i=Di.Ya(e.a,"EXT-X-ENDLIST");i=r&&"VOD"==r.value||i,r=r&&"EVENT"==r.value&&!i,r=!i&&!r,i?ao(t,n.Va):(ao(t,r?n.Rd:n.Ke),n=no(e.a,"EXT-X-TARGETDURATION"),n=Number(n.value),t.F=Math.max(n,t.F),t.H=Math.min(n,t.H))}(t,g),k=function(t,e){if(1==e.length)return e[0];var n=to(t,e);if(null!=n)return n;throw new pt(2,4,4025,e)}(r,n),M(l,function(t,e,n,r){return m((function i(){var o,a,s,u,c,l,f,h,d;return R(i,(function(i){switch(i.j){case 1:return o=Ge,a=r.segments[0].a,s=new J(a),u=s.la.split(".").pop(),c=oo[e],(l=c[u])?i.return(l):e==o.va?n&&"vtt"!=n?i.return("application/mp4"):i.return("text/vtt"):((f=_t([a],t.a.retryParameters)).method="HEAD",M(i,so(t,f,1),2));case 2:if(h=i.s,!(d=h.headers["content-type"]))throw new pt(2,4,4021,u);return i.return(d.split(";")[0])}}))}))}(t,r,k,g),3);case 3:return D=l.s,io.includes(D)&&(k=""),O=(C=f.Ya(g.a,"EXT-X-MEDIA-SEQUENCE"))?Number(C.value):0,A(l,4),M(l,qi(t,e,g,O,D,k),6);case 6:_=l.s,N(l,5);break;case 4:if(4035==(P=L(l)).code)return Q.Z("Skipping unsupported HLS stream",D,e),l.return(null);throw P;case 5:return j=_[0].startTime,U=_[_.length-1].endTime,z=U-j,B=new qr(_),F=Qi(g),Y=void 0,"text"==r&&(Y="subtitle"),G=[],c&&G.push(c),H={id:t.ea++,originalId:a,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:B.find.bind(B),getSegmentReference:B.get.bind(B),initSegmentReference:F,presentationTimeOffset:0,mimeType:D,codecs:k,kind:Y,encrypted:b,keyId:w,language:i,label:a,type:r,primary:o,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:G,channelsCount:s,audioSamplingRate:null,closedCaptions:u},l.return({stream:H,bc:B,drmInfos:v,Jc:e,Pe:h,nd:j,Qg:U,duration:z})}}))}))}function Qi(t){var e=Di.ub(t.a,"EXT-X-MAP");if(!e.length)return null;if(1<e.length)throw new pt(2,4,4020);var n=eo(e=e[0],"URI"),r=Di.Pc(t.b,n);return t=0,n=null,(e=Ni(e,"BYTERANGE"))&&(t=e.split("@"),e=Number(t[0]),n=(t=Number(t[1]))+e-1),new Qr((function(){return[r]}),t,n)}function Xi(t,e,n,r){var i=e.b,o=e.a;e=no(i,"EXTINF").value.split(","),e=r+Number(e[0]);var a=0,s=null;return(i=Di.Ya(i,"EXT-X-BYTERANGE"))&&(a=i.value.split("@"),i=Number(a[0]),s=(a=a[1]?Number(a[1]):t.a+1)+i-1),new Xr(n,r,e,(function(){return[o]}),a,s)}function Ji(t){t.c&&(t.K.forEach((function(e){t.c.Eb(e,0)})),t.K=[])}function qi(t,e,n,r,i,o){return m((function a(){var s,u,c,l,f,h,d,p,g,y;return R(a,(function(a){switch(a.j){case 1:return s=n.segments,u=[],c=s[0].a,l=Xi(null,s[0],r,0),f=Qi(n),M(a,function(t,e,n,r,i,o){return m((function a(){var s,u,c,l,f,h,d,p,m;return R(a,(function(a){switch(a.j){case 1:if(t.o){if(s=t.b.get(e),u=s.bc,c=u.get(r.position))return Q.D("Found segment start time in previous manifest"),a.return(c.startTime);Q.debug("Unable to find segment start time in previous manifest!")}if(Q.D("Fetching segment to find start time"),i=i.toLowerCase(),io.includes(i))throw Q.Z("Raw formats are not yet supported.  Skipping "+i),new pt(1,4,4035);if("video/webm"==i)throw Q.Z("WebM in HLS is not yet supported.  Skipping."),new pt(1,4,4035);if("video/mp4"!=i&&"audio/mp4"!=i){a.C(2);break}return l=[$i(t,r)],n&&l.push($i(t,n)),M(a,Promise.all(l),3);case 3:return f=a.s,h=f[0],d=f[1]||f[0],a.return(function(t,e,n,r){var i=0;if((new Dr).L("moov",Cr).L("trak",Cr).L("mdia",Cr).ia("mdhd",(function(t){t.reader.P(0==t.version?8:16),i=t.reader.I(),t.parser.stop()})).parse(r,!0),!i)throw Q.error("Unable to find timescale in init segment!"),new pt(2,4,4030,t,e);var o=0,a=!1;if((new Dr).L("moof",Cr).L("traf",Cr).ia("tfdt",(function(t){o=(0==t.version?t.reader.I():t.reader.Kb())/i,a=!0,t.parser.stop()})).parse(n,!0),!a)throw new pt(2,4,4030,t,e);return o}(e,h.uri,h.data,d.data));case 2:if("video/mp2t"!=i){a.C(4);break}return M(a,$i(t,r),5);case 5:return p=a.s,a.return(function(t,e,n){function r(){o.seek(a+188),71!=(s=o.na())&&(o.seek(a+192),s=o.na()),71!=s&&(o.seek(a+204),s=o.na()),71!=s&&i(),o.ze(1)}function i(){throw new pt(2,4,4030,t,e)}for(var o=new kr(new DataView(n),0),a=0,s=0;;)if(a=o.ga(),71!=(s=o.na())&&i(),8191==(8191&(n=o.$b())))r();else if(16384&n){if(0!=(n=(48&o.na())>>4)&&2!=n||i(),3==n&&(n=o.na(),o.P(n)),1==o.I()>>8){o.P(3),0!=(n=o.na()>>6)&&1!=n||i(),0==o.na()&&i(),n=o.na();var u=o.$b(),c=o.$b();return(1073741824*((14&n)>>1)+((65534&u)<<14|(65534&c)>>1))/9e4}r()}else r()}(e,p.uri,p.data));case 4:if("application/mp4"!=i&&!i.startsWith("text/")){a.C(6);break}return M(a,$i(t,r),7);case 7:return m=a.s,a.return(function(t,e,n){return dn(t=Zt(t,e))?(pn(e=new fn(null),t),e.sc(n)):0}(i,o,m.data));case 6:throw new pt(2,4,4030,e)}}))}))}(t,e,f,l,i,o),2);case 2:h=a.s,Q.debug("First segment",c.split("/").pop(),"starts at",h);for(var b=0;b<s.length;++b)d=s[b],p=u[u.length-1],g=0==b?h:p.endTime,y=Xi(p,d,r+b,g),u.push(y);return t.K.push(u),Ji(t),a.return(u)}}))}))}function $i(t,e){return m((function n(){var r,i,o,a,s,u;return R(n,(function(n){switch(n.j){case 1:return r=1,i=gi(e.c(),e.b,e.b+2048-1,t.a.retryParameters),o=gi(e.c(),e.b,e.a,t.a.retryParameters),t.a.hls.useFullSegmentsForStartTime?n.return(so(t,o,r)):(A(n,2),M(n,so(t,i,r),4));case 4:return a=n.s,n.return(a);case 2:if(7001==(s=L(n)).code)throw s;return Q.Z("Unable to fetch a partial HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",i.uris[0]),M(n,so(t,o,r),5);case 5:return u=n.s,n.return(u)}}))}))}function to(t,e){for(var n=ro[t],r=0;r<n.length;r++)for(var i=0;i<e.length;i++)if(n[r].test(e[i].trim()))return e[i].trim();return"text"==t?"":null}function eo(t,e){var n=t.getAttribute(e);if(!n)throw new pt(2,4,4023,e);return n.value}function no(t,e){var n=Di.Ya(t,e);if(!n)throw new pt(2,4,4024,e);return n}G("shaka.net.DataUriPlugin",Yi),Yi.parse=function(e){var n=e.split(":");if(2>n.length||"data"!=n[0])throw Q.error("Bad data URI, failed to parse scheme"),new pt(2,1,1004,e);if(2>(n=n.slice(1).join(":").split(",")).length)throw Q.error("Bad data URI, failed to extract encoding and MIME type"),new pt(2,1,1004,e);var r=n[0];n=t.decodeURIComponent(n.slice(1).join(","));var i=null;if(1<(r=r.split(";")).length&&(i=r[1]),"base64"==i)e=fe.Fa(n).buffer;else{if(i)throw Q.error("Bad data URI, unknown encoding"),new pt(2,1,1005,e);e=se(n)}return{data:e,contentType:r[0]}},Ot("data",Yi),G("shaka.hls.HlsParser",Gi),(i=Gi.prototype).configure=function(t){this.a=t},i.start=function(t,e){var n=this;return m((function r(){var i,o;return R(r,(function(r){switch(r.j){case 1:return n.f=e,M(r,so(n,_t([t],n.a.retryParameters),0),2);case 2:return i=r.s,n.v=i.uri,M(r,function(t,e){return m((function n(){var r,i,o,a,s,u,c,l,f,h,p;return R(n,(function(n){switch(n.j){case 1:if(0!=(r=Ri(t.u,e,t.v)).type)throw new pt(2,4,4022);return M(n,function(t,e){return m((function n(){var r,i,o,a,s,u,c,l,f,h,p,g;return R(n,(function(n){switch(n.j){case 1:return r=Di,i=Be,o=e.a,a=r.ub(e.a,"EXT-X-MEDIA"),s=a.filter(function(t){return"SUBTITLES"==eo(t,"TYPE")}.bind(t)),u=s.map(function(t){var e=this;return m((function n(){var r;return R(n,(function(n){switch(n.j){case 1:return e.a.disableText?n.return(null):(A(n,2),M(n,function(t,e){return m((function n(){var r;return R(n,(function(n){switch(n.j){case 1:return eo(e,"TYPE"),M(n,Zi(t,e,[]),2);case 2:return r=n.s,n.return(r.stream)}}))}))}(e,t),4));case 4:return n.return(n.s);case 2:if(r=L(n),e.a.hls.ignoreTextStreamFailures)return n.return(null);throw r}}))}))}.bind(t)),c=a.filter((function(t){return"CLOSED-CAPTIONS"==eo(t,"TYPE")})),function(t,e){for(var n=d(e),r=n.next();!r.done;r=n.next()){eo(r=r.value,"TYPE");var i=Ni(r,"LANGUAGE")||"und";i=Cn(i);var o=eo(r,"GROUP-ID");r=eo(r,"INSTREAM-ID"),t.l.get(o)||t.l.set(o,new Map),t.l.get(o).set(r,i)}}(t,c),M(n,Promise.all(u),2);case 2:return l=n.s,f=r.ub(o,"EXT-X-STREAM-INF"),h=f.map(function(t){return function(t,e,n){return m((function r(){var i,o,a,s,u,c,l,f,h,p,g,y,b,v,w,T,S,x,E,I,A,k,N,L,D,C,O;return R(r,(function(r){switch(r.j){case 1:return i=Ge,o=Di,a=Ni(e,"CODECS","avc1.42E01E,mp4a.40.2"),s=function(t){for(var e=new Set,n=[],r=(t=d(t)).next();!r.done;r=t.next()){var i=Kt(r=r.value)[0];e.has(i)?Q.debug("Ignoring duplicate codec"):(n.push(r),e.add(i))}return n}(a.split(/\s*,\s*/)),u=e.getAttribute("RESOLUTION"),l=c=null,f=Ni(e,"FRAME-RATE"),h=Number(eo(e,"BANDWIDTH")),u&&(p=u.value.split("x"),c=p[0],l=p[1]),g=(g=(g=o.ub(n.a,"EXT-X-MEDIA")).filter((function(t){return"CLOSED-CAPTIONS"!=eo(t,"TYPE")}))).filter((function(t){var e=Ni(t,"URI")||"";return"SUBTITLES"==(Ni(t,"TYPE")||"")||""!=e})),y=Ni(e,"AUDIO"),b=Ni(e,"VIDEO"),y?g=o.Xc(g,"AUDIO",y):b&&(g=o.Xc(g,"VIDEO",b)),(v=to(i.va,s))&&((w=Ni(e,"SUBTITLES"))&&((T=o.Xc(g,"SUBTITLES",w)).length&&(S=t.G.get(T[0].id))&&(S.stream.codecs=v)),At(s,v)),x=g.map(function(t){return Zi(this,t,s)}.bind(t)),E=[],I=[],M(r,Promise.all(x),2);case 2:if(k=(k=r.s).filter((function(t){return null!=t})),y?E=k:b&&(I=k),Q.debug("Guessing stream type for",e.toString()),L=!1,E.length||I.length?E.length?(C=eo(e,"URI"),O=E[0].Jc,C==O?(Q.debug("Guessing audio-only."),N=i.Nb,L=!0):(Q.debug("Guessing video."),N=i.Ua)):(Q.debug("Guessing audio."),N=i.Nb):1==s.length?(D=to(i.Ua,s),u||f||D?(Q.debug("Guessing video-only."),N=i.Ua):(Q.debug("Guessing audio-only."),N=i.Nb)):(Q.debug("Guessing multiplexed audio+video."),N=i.Ua,s=[s.join(",")]),L){r.C(3);break}return M(r,function(t,e,n,r){return m((function i(){var o,a,s,u,c;return R(i,(function(i){switch(i.j){case 1:return o=Ge,a=eo(e,"URI"),t.b.has(a)?i.return(t.b.get(a)):(s=Ni(e,"CLOSED-CAPTIONS"),u=null,r==o.Ua&&s&&"NONE"!=s&&(u=t.l.get(s)),M(i,Ki(t,a,n,r,"und",!1,null,null,u,null),2));case 2:return null==(c=i.s)?i.return(null):t.b.has(a)?i.return(t.b.get(a)):(t.b.set(a,c),i.return(c))}}))}))}(t,e,s,N),4);case 4:A=r.s;case 3:if(A)A.stream.type==i.Nb?E=[A]:I=[A];else if(null===A)return Q.debug("streamInfo is null"),r.return([]);return I&&Wi(I),E&&Wi(E),r.return(function(t,e,n,r,i,o,a){n.forEach(function(t){(t=t.stream)&&(t.width=Number(i)||void 0,t.height=Number(o)||void 0,t.frameRate=Number(a)||void 0)}.bind(t));var s=!!t.a&&t.a.disableAudio;e.length&&!s||(e=[null]);s=!!t.a&&t.a.disableVideo,(!n.length||s)&&(n=[null]);s=[];for(var u=(e=d(e)).next();!u.done;u=e.next()){u=u.value;for(var c=d(n),l=c.next();!l.done;l=c.next()){var f=l.value;l=u?u.stream:null;var h=f?f.stream:null,p=u?u.drmInfos:null,m=f?f.drmInfos:null;f=(f?f.Jc:"")+" - "+(u?u.Jc:"");var g=void 0;if(l&&h){if(p.length&&m.length&&!(0<ke(p,m).length)){Q.m("Incompatible DRM info in HLS variant.  Skipping.");continue}g=ke(p,m)}else l?g=p:h&&(g=m);t.V.has(f)?Q.debug("Skipping variant which only differs in text streams."):(l=Vi(t,l,h,r,g),s.push(l),t.V.add(f))}}return s}(t,E,I,h,c,l,f))}}))}))}(this,t,e)}.bind(t)),M(n,Promise.all(h),3);case 3:return p=n.s,g=(g=p.reduce(i.Oc,[])).filter((function(t){return null!=t})),n.return({startTime:0,variants:g,textStreams:l.filter((function(t){return null!=t}))})}}))}))}(t,r),2);case 2:if(i=n.s,!t.f)throw new pt(2,7,7001);if(t.$&&0==i.variants.length)throw Q.info("No stream is created, because we don't support AES-128","encryption yet"),new pt(2,4,4034);t.f.filterAllPeriods([i]),o=1/0,a=0,s=1/0;for(var g=d(t.b.values()),y=g.next();!y.done;y=g.next())u=y.value,o=Math.min(o,u.nd),a=Math.max(a,u.nd),"text"!=u.stream.type&&(s=Math.min(s,u.duration));if(t.g!=lo.Va?(t.c=new mi(0,3*t.F),t.c.dc(!1)):(t.c=new mi(null,0),t.c.dc(!0)),Ji(t),t.g!=lo.Va){for(t.S=t.H,c=lo,t.g==c.Rd&&(l=t.c.Dc,isNaN(t.a.availabilityWindowOverride)||(l=t.a.availabilityWindowOverride),t.c.Jd(l)),f=0;95443.7176888889<=a;)f+=95443.7176888889,a-=95443.7176888889;if(f)for(Q.debug("Offsetting live streams by",f,"to compensate for rollover"),y=(g=d(t.b.values())).next();!y.done;y=g.next())95443.7176888889>(h=y.value).nd?(Q.D("Offset applied to",h.stream.type),h.stream.presentationTimeOffset=-f,h.bc.offset(f)):Q.D("Offset NOT applied to",h.stream.type)}else for(t.c.Ba(s),t.c.offset(-o),y=(g=d(t.b.values())).next();!y.done;y=g.next())(p=y.value).stream.presentationTimeOffset=o,p.bc.offset(-o),$r(p.bc,s);t.o={presentationTimeline:t.c,periods:[i],offlineSessionIds:[],minBufferTime:0},I(n)}}))}))}(n,i.data),3);case 3:return 0<(o=n.S)&&n.h.T(o),r.return(n.o)}}))}))},i.stop=function(){this.h&&(this.h.stop(),this.h=null);var t=[];return this.i&&(t.push(this.i.destroy()),this.i=null),this.a=this.f=null,this.G.clear(),this.V.clear(),this.b.clear(),this.o=null,Promise.all(t)},i.update=function(){if(this.g!=lo.Va){for(var t=[],e=d(this.b.values()),n=e.next();!n.done;n=e.next())t.push(Hi(this,n.value));return Promise.all(t)}},i.onExpirationUpdated=function(){};var ro={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]},io=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"],oo={audio:{mp4:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",cmfa:"audio/mp4",ts:"video/mp2t",aac:"audio/aac",ac3:"audio/ac3",ec3:"audio/ec3",mp3:"audio/mpeg"},video:{mp4:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",cmfv:"video/mp4",ts:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",cmft:"application/mp4",vtt:"text/vtt",ttml:"application/ttml+xml"}};function ao(t,e){t.g=e,t.c&&t.c.dc(t.g==lo.Va),t.g!=lo.Va||t.h.stop()}function so(t,e,n){if(!t.i)throw new pt(2,7,7001);return e=t.f.networkingEngine.request(n,e),Lt(t.i,e),e.promise}var uo={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(t){var e=eo(t,"METHOD");Bn("HLS SAMPLE-AES-CENC","SAMPLE-AES-CENC will no longer be supported, see Issue #1227");var n=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];return n.includes(e)?(e=eo(t,"URI"),e=Yi.parse(e),e=Ye("com.widevine.alpha",[{initDataType:"cenc",initData:e=new Uint8Array(e.data)}]),(t=Ni(t,"KEYID"))&&(e.keyIds=[t.substr(2).toLowerCase()]),e):(Q.error("Widevine in HLS is only supported with [",n.join(", "),"], not",e),null)}},co="VOD",lo={Va:co,Ke:"EVENT",Rd:"LIVE"};function fo(){this.a=new Map}function ho(t,e,n){po(t,e).text=n}function po(t,e){return t.a.has(e)||t.a.set(e,new mo),t.a.get(e)}function mo(){this.text=this.variant=null}function go(t,e){this.a=t,this.b=new Set([t]);for(var n=d(e=e||[]),r=n.next();!r.done;r=n.next())this.add(r.value)}function yo(t,e){var n;if(!(n=!!t.audio!=!!e.audio||!!t.video!=!!e.video||t.language!=e.language)&&(n=t.audio&&e.audio)){n=t.audio;var r=e.audio;n=!(n.channelsCount==r.channelsCount&&bo(n,r)&&vo(n.roles,r.roles))}return!n&&(n=t.video&&e.video)&&(n=!(bo(n=t.video,r=e.video)&&vo(n.roles,r.roles))),!n}function bo(t,e){if(t.mimeType!=e.mimeType)return!1;var n=t.codecs.split(",").map((function(t){return Kt(t)[0]})),r=e.codecs.split(",").map((function(t){return Kt(t)[0]}));if(n.length!=r.length)return!1;n.sort(),r.sort();for(var i=0;i<n.length;i++)if(n[i]!=r[i])return!1;return!0}function vo(t,e){var n=new Set(t),r=new Set(e);if(n.delete("main"),r.delete("main"),n.size!=r.size)return!1;for(var i=(n=d(n)).next();!i.done;i=n.next())if(!r.has(i.value))return!1;return!0}function wo(t){this.a=t,this.b=new To(t.language,"",t.audio&&t.audio.channelsCount?t.audio.channelsCount:0,"")}function To(t,e,n,r,i){this.f=t,this.c=e,this.a=n,this.b=void 0===r?"":r,this.g=void 0===i?"":i}function So(){this.a=Mo,this.b=(new Map).set(Mo,2).set(Eo,1)}function xo(t,e,n){t.b.set(Mo,n).set(Eo,e)}pi.zd("m3u8",Gi),pi.Lb("application/x-mpegurl",Gi),pi.Lb("application/vnd.apple.mpegurl",Gi),go.prototype.add=function(t){return yo(this.a,t)?(this.b.add(t),!0):(Q.m("Rejecting variant - not compatible with root."),!1)},go.prototype.values=function(){return this.b.values()},wo.prototype.create=function(t){var e=this,n=t.filter((function(t){return yo(e.a,t)}));return n.length?new go(n[0],n):this.b.create(t)},To.prototype.create=function(t){var e=[];e=function(t,e){var n=_n(Cn(e),t.map((function(t){return On(t)})));return n?t.filter((function(t){return n==On(t)})):[]}(t,this.f);var n=t.filter((function(t){return t.primary}));for(e=e.length?e:n.length?n:t,this.c&&((t=function(t,e,n){return t.filter((function(t){if(n){var r=t[n];return r&&r.roles.includes(e)}return r=t.audio,t=t.video,r&&0<=r.roles.indexOf(e)||t&&0<=t.roles.indexOf(e)}))}(e,this.c,this.g)).length?e=t:Q.m("No exact match for variant role could be found.")),this.a&&((t=jn.$d(e,this.a)).length?e=t:Q.m("No exact match for the channel count could be found.")),this.b&&((t=function(t,e){return t.filter((function(t){return!!t.audio&&t.audio.label.toLowerCase()==e.toLowerCase()}))}(e,this.b)).length?e=t:Q.m("No exact match for variant label could be found.")),t=new go(e[0]),n=(e=d(e)).next();!n.done;n=e.next())n=n.value,yo(t.a,n)&&t.add(n);return t};var Eo=0,Mo=1;function Io(t,e){this.g=t,this.h=ko(t),this.a=t.a.currentTime,this.f=Date.now()/1e3,this.b=!1,this.i=e,this.c=function(){}}function Ao(t){this.a=t}function ko(t){if(t.a.paused||0==t.a.playbackRate||0==t.a.buffered.length)var e=!1;else t:{e=t.a.buffered,t=t.a.currentTime;for(var n=0;n<e.length;n++){var r=e.start(n),i=e.end(n);if(!(t<r||t>i-.5)){e=!0;break t}}e=!1}return e}function No(t,e,n,r,i){var o=this;this.a=t,this.v=e,this.u=n,this.l=i,this.f=new Ut,this.i=!1,this.o=t.readyState,this.c=!1,this.b=r,this.h=!1,this.f.B(t,"waiting",(function(){return Lo(o)})),this.g=new ft((function(){Lo(o)})).Ra(.25)}function Lo(t){if(0!=t.a.readyState){if(t.a.seeking){if(!t.i)return}else t.i=!1;if(!t.a.paused){t.a.readyState!=t.o&&(t.c=!1,t.o=t.a.readyState);var e=t.u.smallGapLimit,n=t.a.currentTime,r=t.a.buffered;t:{if(r&&r.length&&!(1==r.length&&1e-6>r.end(0)-r.start(0)))for(var i=te("Edge/")||te("Trident/")||te("Tizen")||te("CrKey")?.5:.1,o=0;o<r.length;o++)if(r.start(o)>n&&(0==o||r.end(o-1)-n<=i)){i=o;break t}i=null}if(null==i)t.b&&(r=ko(n=(t=t.b).g),i=n.a.currentTime,o=Date.now()/1e3,t.a==i&&t.h==r||(t.f=o,t.a=i,t.h=r,t.b=!1),(i=o-t.f)>=t.i&&r&&!t.b&&(t.c(t.a,i),t.b=!0,t.a=n.a.currentTime));else if(0!=i||t.h){o=r.start(i);var a=t.v.Ga();if(!(o>=a)){e=(a=o-n)<=e;var s=!1;if(!(.001>a)){if(!e&&!t.c){t.c=!0;var u=new St("largegap",{currentTime:n,gapSize:a});u.cancelable=!0,t.l(u),t.u.jumpLargeGaps&&!u.defaultPrevented?s=!0:Q.info("Ignoring large gap at",n,"size",a)}(e||s)&&(0==i?Q.info("Jumping forward",a,"seconds because of gap before start time of",o):Q.info("Jumping forward",a,"seconds because of gap starting at",r.end(i-1),"and ending at",o),t.a.currentTime=o)}}}}}}function Do(t){var e=this;this.c=t,this.a=new Set,this.b=new ft((function(){Co(e,!1)})).Ra(.25)}function Co(t,e){for(var n=d(t.a),r=n.next();!r.done;r=n.next())r.value.g(t.c.currentTime,e)}function Oo(t){for(var e=[],n=(t=d(t)).next();!n.done;n=t.next())for(var r=(n=d(n.value.variants)).next();!r.done;r=n.next())e.push(r.value);return e}function _o(t,e){for(var n=null,r=d(t),i=r.next();!i.done;i=r.next())e>=(i=i.value).startTime&&(n=i);return n}function Po(t){this.c=t,this.a=null,this.b=function(){}}function jo(t){var e=this;this.a=t,this.f=!1,this.c=this.a.rc(),this.b=new ft((function(){e.a.le(.25*e.c)}))}function Ro(t){t.b.stop();var e=t.f?0:t.c;if(0<=e)try{return void(t.a.rc()!=e&&t.a.Id(e))}catch(t){}t.b.Ra(.25),0!=t.a.rc()&&t.a.Id(0)}function Uo(t,e,n,r){e==HTMLMediaElement.HAVE_NOTHING||t.readyState>=e?r():(e=zo.get(e),n.ua(t,e,r))}Io.prototype.release=function(){this.g=null,this.c=function(){}},No.prototype.release=function(){this.f&&(this.f.release(),this.f=null),null!=this.g&&(this.g.stop(),this.g=null),this.b&&(this.b.release(),this.b=null),this.a=this.v=this.l=null},No.prototype.td=function(){this.h=!0,Lo(this)},Do.prototype.release=function(){this.b.stop();for(var t=d(this.a),e=t.next();!e.done;e=t.next())e.value.release();this.a.clear()},Po.prototype.release=function(){this.a=this.c=null,this.b=function(){}},Po.prototype.g=function(t){var e=this.a,n=this.c.periods;e!=(t=_o(n,t)||n[0])&&this.b(t),this.a=t},jo.prototype.release=function(){this.b&&(this.b.stop(),this.b=null),this.a=null},jo.prototype.set=function(t){this.c=t,Ro(this)};var zo=new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]]);function Bo(t,e,n){var r=this;this.a=t,this.g=e,this.f=n,this.h=!1,this.b=new Ut,this.c=new Wo(t),Uo(this.a,HTMLMediaElement.HAVE_METADATA,this.b,(function(){Go(r,r.f)}))}function Fo(t){return t.h?t.a.currentTime:t.f}function Yo(t,e){0<t.a.readyState?Vo(t.c,e):Uo(t.a,HTMLMediaElement.HAVE_METADATA,t.b,(function(){Go(t,t.f)}))}function Go(t,e){.001>Math.abs(t.a.currentTime-e)?Ho(t):(t.b.ua(t.a,"seeking",(function(){Ho(t)})),Vo(t.c,0==t.a.currentTime?e:t.a.currentTime))}function Ho(t){t.h=!0,t.b.B(t.a,"seeking",(function(){return t.g()}))}function Wo(t){var e=this;this.b=t,this.h=10,this.g=this.c=this.f=0,this.a=new ft((function(){0>=e.f?(Q.m(["Failed to move playhead from",e.c,"to",e.g].join(" ")),e.a.stop()):e.b.currentTime!=e.c?e.a.stop():(e.b.currentTime=e.g,e.f--)}))}function Vo(t,e){t.c=t.b.currentTime,t.g=e,t.f=t.h,t.b.currentTime=e,t.a.Ra(.1)}function Zo(t){var e=this;this.a=t,this.f=!1,this.c=null,this.b=new Ut,Uo(this.a,HTMLMediaElement.HAVE_CURRENT_DATA,this.b,(function(){null==e.c?e.f=!0:(e.b.ua(e.a,"seeking",(function(){e.f=!0})),e.a.currentTime=Math.max(0,e.a.currentTime+e.c))}))}function Ko(t,e,n,r,i,o){var a=this;this.b=t,this.a=e.presentationTimeline,this.F=e.minBufferTime||0,this.h=n,this.v=i,this.l=null,this.f=new No(t,e.presentationTimeline,n,function(t,e){if(!e.stallEnabled)return null;var n=e.stallSkip,r=new Io(new Ao(t),e.stallThreshold);return function(t,e){t.c=e}(r,(function(e,r){Q.debug(["Stall detected at",e,"for",r,"seconds. Seeking forward",n,"seconds."].join(" ")),t.currentTime+=n})),r}(t,n),o),this.c=new Bo(t,(function(){t:{var t=a.f;t.i=!0,t.h=!1,t.c=!1,t=Fo(a.c);var e=Xo(a,t);if(.001<Math.abs(e-t)){var n=(new Date).getTime()/1e3;if(!a.l||a.l<n-1){a.l=n,Yo(a.c,e),t=void 0;break t}}Q.D("Seek to "+t),a.v(),t=void 0}return t}),function(t,e){return null==e?e=1/0>t.a.ca()?t.a.wb():t.a.Ga():0>e&&(e=t.a.Ga()+e),Qo(t,Jo(t,e))}(this,r)),this.i=new ft((function(){if(0!=a.b.readyState&&!a.b.paused){var t=a.b.currentTime,e=a.a.wb(),n=a.a.Ga();3>n-e&&(e=n-3),t<e&&(e=Xo(a,t),Q.info("Jumping forward "+(e-t)+" seconds to catch up with the seek range."),a.b.currentTime=e)}})).Ra(.25)}function Qo(t,e){var n=t.a.ca();return e>=n?n-t.h.durationBackoff:e}function Xo(t,e){var n=Re.bind(null,t.b.buffered),r=Math.max(t.F,t.h.rebufferingGoal),i=t.h.safeSeekOffset,o=t.a.wb(),a=t.a.Ga(),s=t.a.ca();3>a-o&&(o=a-3);var u=t.a.Vb(r),c=t.a.Vb(i);return r=t.a.Vb(r+i),e>=s?(Q.D("Playhead past duration."),Qo(t,e)):e>a?(Q.D("Playhead past end."),a):e<o?n(c)?(Q.D("Playhead before start & start is buffered"),c):(Q.D("Playhead before start & start is unbuffered"),r):e>=u||n(e)?(Q.D("Playhead in safe region or in buffered region."),e):(Q.D("Playhead outside safe region & in unbuffered region."),r)}function Jo(t,e){var n=t.a.wb();return e<n||e>(n=t.a.Ga())?n:e}function qo(){this.b=function(){},this.a=new Set}function $o(t){var e=this;this.h=t,this.f=new Map,this.a=function(){},this.b=function(){},this.c=function(){},this.i=[{lb:null,kb:ea,ab:function(t,n){return e.a(t,n)}},{lb:ta,kb:ea,ab:function(t,n){return e.a(t,n)}},{lb:na,kb:ea,ab:function(t,n){return e.a(t,n)}},{lb:ea,kb:ta,ab:function(t,n){return e.b(t,n)}},{lb:ea,kb:na,ab:function(t,n){return e.b(t,n)}},{lb:ta,kb:na,ab:function(t,n){return e.c(t,n)}},{lb:na,kb:ta,ab:function(t,n){return e.c(t,n)}}]}Bo.prototype.release=function(){this.b&&(this.b.release(),this.b=null),null!=this.c&&(this.c.release(),this.c=null),this.g=function(){},this.a=null},Wo.prototype.release=function(){this.a&&(this.a.stop(),this.a=null),this.b=null},Zo.prototype.release=function(){this.b&&(this.b.release(),this.b=null),this.a=null},Zo.prototype.o=function(t){this.c=this.f?this.c:t},Zo.prototype.g=function(){return(this.f?this.a.currentTime:this.c)||0},Zo.prototype.u=function(){},Ko.prototype.release=function(){this.c&&(this.c.release(),this.c=null),this.f&&(this.f.release(),this.f=null),this.i&&(this.i.stop(),this.i=null),this.b=this.c=this.a=this.h=null,this.v=function(){}},Ko.prototype.o=function(t){Yo(this.c,t)},Ko.prototype.g=function(){var t=Fo(this.c);return 0<this.b.readyState&&!this.b.paused?Jo(this,t):t},Ko.prototype.u=function(){this.f.td()},qo.prototype.release=function(){this.b=function(){},this.a.clear()},$o.prototype.release=function(){this.h=null,this.f.clear(),this.a=function(){},this.b=function(){},this.c=function(){}},$o.prototype.g=function(t,e){for(var n=d(this.h.a),r=n.next();!r.done;r=n.next()){r=r.value;var i=this.f.get(r),o=t<r.startTime?ta:t>r.endTime?na:ea;this.f.set(r,o);for(var a=d(this.i),s=a.next();!s.done;s=a.next())(s=s.value).lb==i&&s.kb==o&&s.ab(r,e)}};var ta=1,ea=2,na=3;function ra(t,e){this.a=e,this.c=t,this.g=null,this.l=1,this.v=Promise.resolve(),this.h=[],this.i=new Map,this.b=new Map,this.u=!1,this.H=null,this.G=this.f=this.o=!1,this.F=0}function ia(t){return aa(t,"audio")}function oa(t){return aa(t,"video")}function aa(t,e){var n=t.b.get(e);return n?n.Oa||n.stream:null}function sa(t,e){return m((function n(){var r,i,o,a,s,u,c,l,f;return R(n,(function(n){switch(n.j){case 1:return r=Ge,M(n,In(t.a.O,r.va),2);case 2:return t.F++,t.G=!1,i=t.F,o=t.a.O,a=new Map,s=new Set,a.set(r.va,e),s.add(e),M(n,o.init(a,!1),3);case 3:return t.f?n.return():M(n,ma(t,s),4);case 4:if(t.f)return n.return();u=t.a.O.g.isTextVisible()||t.g.alwaysStreamText,t.F!=i||t.b.has(r.va)||t.G||!u||(c=t.a.Za(),l=xa(t,c),f=da(e,l,0),t.b.set(r.va,f),Aa(t,f,0)),I(n)}}))}))}function ua(t,e){var n=t.b.get("video");if(n){var r=n.stream;if(r)if(Q.debug("setTrickPlay",e),e){var i=r.trickModeVideo;i&&!n.Oa&&(Q.debug("Engaging trick mode stream",i),la(t,i,!1,0,!1),n.Oa=r)}else(r=n.Oa)&&(Q.debug("Restoring non-trick-mode stream",r),n.Oa=null,la(t,r,!0,0,!1))}}function ca(t,e,n,r){var i=!1;if(e.video){var o=la(t,e.video,n,r,!1);i=i||o}return e.audio&&(t=la(t,e.audio,n,r,!1),i=i||t),i}function la(t,e,n,r,i){var o=t.b.get(e.type);if(!o&&"text"==e.type&&t.g.ignoreTextStreamFailures)return sa(t,e),!0;if(!o)return!1;var a=Ea(t,e),s=Array.from(t.b.values()).every((function(t){return t.ka==o.ka}));return n&&a!=o.ka&&s?(Q.debug("switch: switching to stream in another Period; clearing buffer and changing Periods"),t.b.forEach((function(e){fa(t,e)})),!0):(o.Oa&&(Q.debug("switch during trick play mode",e),e.trickModeVideo?(o.Oa=e,e=e.trickModeVideo,Q.debug("switch found trick play stream",e)):(o.Oa=null,Q.debug("switch found no special trick play stream"))),!(!(s=t.h[a])||!s.Mb)&&(!(!(s=t.i.get(e.id))||!s.Mb)&&(o.stream!=e||i?("text"==e.type&&vn(t.a.O,Zt(e.mimeType,e.codecs)),o.stream=e,o.vc=!0,Q.debug("switch: switching to Stream "+Da(o)),function(t,e,n){if(!e.fb)return!1;var r=t.a.Za(),i=Sn(t.a.O,e.type),o=ba(t,e,r,i,n);return n=o&&o.a?o.a-o.b:null,o&&!n&&(n=(o.endTime-o.sc())*e.stream.bandwidth/8),!isNaN(n)&&((o=e.stream.initSegmentReference)&&(n+=(o.a?o.a-o.b:null)||0),o=t.a.getBandwidthEstimate(),8*n/o<i-r-Math.max(t.c.minBufferTime||0,t.g.rebufferingGoal)||e.fb.b.a>n)}(t,o,a)&&(Q.info("Aborting current segment request to switch."),o.fb.abort()),n&&(o.Wa?o.Kc=!0:o.Na?(o.Sa=!0,o.lc=r,o.Kc=!0):(ka(o),Ia(t,o,!0,r).catch((function(e){t.a&&t.a.onError(e)})))),!0):(Q.debug("switch: Stream "+Da(o)+" already active"),!1))))}function fa(t,e){var n=Da(e);e.Wa?Q.debug(n,"clear: already clearing the buffer"):e.Sa?Q.debug(n,"clear: already waiting"):e.Na?(Q.debug(n,"clear: currently updating"),e.Sa=!0,e.lc=0):null==Tn(t.a.O,e.type)?(Q.debug(n,"clear: nothing buffered"),null==e.Ka&&Aa(t,e,0)):(Q.debug(n,"clear: handling right now"),ka(e),Ia(t,e,!1,0).catch((function(e){t.a&&t.a.onError(e)})))}function ha(t,e,n,r,i){return m((function o(){var a,s,u,c,l,f,h;return R(o,(function(o){switch(o.j){case 1:return a=t.a.Za(),s=xa(t,a),u=Ge,c=new Map,l=new Set,e&&(c.set(u.Nb,e),l.add(e)),n&&(c.set(u.Ua,n),l.add(n)),r&&(c.set(u.va,r),l.add(r)),f=t.a.O,h=t.g.forceTransmuxTS,M(o,f.init(c,h),2);case 2:return t.f?o.return():(function(t){var e=t.c.presentationTimeline.ca();1/0>e?t.a.O.Ba(e):t.a.O.Ba(Math.pow(2,32))}(t),M(o,ma(t,l),3));case 3:if(t.f)return o.return();c.forEach((function(e,n){if(!t.b.has(n)){var r=da(e,s,i);t.b.set(n,r),Aa(t,r,0)}})),I(o)}}))}))}function da(t,e,n){return{stream:t,type:t.type,Cb:null,Ha:null,Oa:null,vc:!0,ka:e,endOfStream:!1,Na:!1,Ka:null,Sa:!1,lc:0,Kc:!1,Wa:!1,yd:!1,Xb:!1,Bd:n||0,fb:null}}function pa(t,e){var n=t.h[e];if(n)return Q.debug("(all) Period "+e+" is being or has been set up"),n.promise;Q.debug("(all) setting up Period "+e),n={promise:new mt,Mb:!1},t.h[e]=n;for(var r=new Set,i=d(t.c.periods[e].variants),o=i.next();!o.done;o=i.next())(o=o.value).video&&r.add(o.video),o.video&&o.video.trickModeVideo&&r.add(o.video.trickModeVideo),o.audio&&r.add(o.audio);for(o=(i=d(t.c.periods[e].textStreams)).next();!o.done;o=i.next())r.add(o.value);return t.v=t.v.then(function(){if(!this.f)return ma(this,r)}.bind(t)).then(function(){this.f||(this.h[e].promise.resolve(),this.h[e].Mb=!0,Q.D("(all) setup Period "+e))}.bind(t)).catch(function(t){this.f||(this.h[e].promise.catch((function(){})),this.h[e].promise.reject(),delete this.h[e],Q.m("(all) failed to setup Period "+e),this.a.onError(t))}.bind(t)),n.promise}function ma(t,e){return m((function n(){var r,i,o,a,s,u,c;return R(n,(function(n){switch(n.j){case 1:r=[];for(var l=d(e),f=l.next();!f.done;f=l.next())i=f.value,(o=t.i.get(i.id))?(Q.debug("(all) Stream "+i.id+" is being or has been set up"),r.push(o.promise)):(Q.D("(all) setting up Stream "+i.id),t.i.set(i.id,{promise:new mt,Mb:!1}),r.push(i.createSegmentIndex()));return A(n,2),M(n,Promise.all(r),4);case 4:if(t.f)return n.return();N(n,3);break;case 2:if(a=L(n),t.f)return n.return();for(f=(n=d(e)).next();!f.done;f=n.next())s=f.value,t.i.get(s.id).promise.catch((function(){})),t.i.get(s.id).promise.reject(),t.i.delete(s.id);throw a;case 3:for(f=(l=d(e)).next();!f.done;f=l.next())u=f.value,(c=t.i.get(u.id)).Mb||(c.promise.resolve(),c.Mb=!0,Q.D("(all) setup Stream "+u.id));I(n)}}))}))}function ga(t,e){if(!t.f){var n=Da(e);if(!e.Na&&null!=e.Ka&&!e.Wa)if(e.Ka=null,e.Sa)Q.debug(n,"skipping update and clearing the buffer"),Ia(t,e,e.Kc,e.lc);else{try{var r=function(t,e){if(Ta(e))return Mn(t.a.O,e.stream.originalId||""),null;var n=Da(e),r=t.a.Za(),i=ya(t,e,r);Q.J(n,"timeNeeded="+i);var o=Ea(t,e.stream),a=xa(t,i),s=function(t,e,n){return"text"==e?null==(t=t.a).b||t.b<n?0:t.b-Math.max(n,t.a):Ue(t=xn(t,e),n)}(t.a.O,e.type,r);Q.J(n,"update_:","presentationTime="+r,"bufferedAhead="+s);var u=Math.max(t.c.minBufferTime||0,t.g.rebufferingGoal,t.g.bufferingGoal)*t.l;if(i>=t.c.presentationTimeline.ca())return Q.debug(n,"buffered to end of presentation"),e.endOfStream=!0,"video"==e.type&&(i=t.b.get("text"))&&"application/cea-608"==i.stream.mimeType&&(i.endOfStream=!0),null;if(e.endOfStream=!1,e.ka=a,a!=o)return Q.debug(n,"need Period "+a,"presentationTime="+r,"timeNeeded="+i,"currentPeriodIndex="+o),null;if(s>=u)return Q.J(n,"buffering goal met"),.5;if(n=Sn(t.a.O,e.type),!(n=ba(t,e,r,n,o)))return 1;var c=1/0;return Array.from(t.b.values()).forEach((function(e){Ta(e)||(e=ya(t,e,r),c=Math.min(c,e))})),i>=c+t.c.presentationTimeline.a?1:(e.Bd=0,function(t,e,n,r,i){var o=Da(e),a=t.c.periods[r];Q.D(o,"fetchAndAppend_:","presentationTime="+n,"currentPeriod.startTime="+a.startTime,"reference.position="+i.position,"reference.startTime="+i.startTime,"reference.endTime="+i.endTime);var s=e.stream,u=t.c.presentationTimeline.ca(),c=t.c.periods[r+1];r=function(t,e,n,r,i){if(!e.vc)return Promise.resolve();var o=Da(e);return n=t.c.periods[n].startTime-e.stream.presentationTimeOffset,Q.D(o,"setting timestamp offset to "+n),Q.D(o,"setting append window start to "+r),Q.D(o,"setting append window end to "+i),r=function(t,e,n,r,i){return"text"==e?(t.a.o=n,(t=t.a).f=r,t.h=i,Promise.resolve()):Promise.all([An(t,e,t.Oe.bind(t,e)),An(t,e,t.ug.bind(t,e,n)),An(t,e,t.rg.bind(t,e,r,i))])}(t.a.O,e.type,n,r,i),e.stream.initSegmentReference?(Q.D(o,"fetching init segment"),t=Ma(t,e,e.stream.initSegmentReference).then(function(t){if(!this.f)return Q.D(o,"appending init segment"),En(this.a.O,e.type,t,null,null,e.stream.closedCaptions&&0<e.stream.closedCaptions.size)}.bind(t)).catch((function(t){return e.vc=!0,Promise.reject(t)})),Promise.all([r,t])):r}(t,e,r,Math.max(0,a.startTime-.1),c?c.startTime+.01:u),e.Na=!0,e.vc=!1,Q.J(o,"fetching segment"),u=Ma(t,e,i),Promise.all([r,u]).then(function(t){if(!this.f&&!this.o)return function(t,e,n,r,i,o,a){var s=Da(e),u=i.closedCaptions&&0<i.closedCaptions.size;return null!=i.emsgSchemeIdUris&&0<i.emsgSchemeIdUris.length&&(new Dr).ia("emsg",t.K.bind(t,r,o,i.emsgSchemeIdUris)).parse(a),function(t,e,n){var r=Da(e);Q.J(r,"checking buffer length");var i=Math.max(t.g.bufferBehind,t.c.presentationTimeline.a),o=Tn(t.a.O,e.type);if(null==o)return Q.J(r,"buffer behind okay because nothing buffered:","presentationTime="+n,"bufferBehind="+i),Promise.resolve();var a=n-o,s=a-i;return 0>=s?(Q.J(r,"buffer behind okay:","presentationTime="+n,"bufferedBehind="+a,"bufferBehind="+i,"underflow="+-s),Promise.resolve()):(Q.D(r,"buffer behind too large:","presentationTime="+n,"bufferedBehind="+a,"bufferBehind="+i,"overflow="+s),t.a.O.remove(e.type,o,o+s).then(function(){this.f||Q.D(r,"evicted "+s+" seconds")}.bind(t)))}(t,e,n).then(function(){if(!this.f)return Q.D(s,"appending media segment"),En(this.a.O,e.type,a,o.startTime+r.startTime,o.endTime+r.startTime,u)}.bind(t)).then(function(){if(!this.f)return Q.J(s,"appended media segment"),e.Cb=i,e.Ha=o,Promise.resolve()}.bind(t))}(this,e,n,a,s,i,t[1])}.bind(t)).then(function(){this.f||this.o||(e.Na=!1,e.yd=!1,e.Sa||this.a.td(),Aa(this,e,0),function(t,e,n){if(!t.u){var r=Da(e);if(1==(e=Array.from(t.b.values())).length&&"text"==e[0].type||(t.u=e.every((function(t){return"text"==t.type||!t.Sa&&!t.Wa&&t.Ha}))),t.u){for(Q.debug(r,"startup complete"),n=Ea(t,n),t.h[n]||pa(t,n).then(function(){this.f||(Q.D(r,"calling onCanSwitch()..."),this.a.ne())}.bind(t)).catch(Be.wc),n=0;n<t.c.periods.length;++n)pa(t,n).catch(Be.wc);t.a.Xf&&(Q.D(r,"calling onStartupComplete()..."),t.a.Xf())}}}(this,e,s),Q.D(o,"finished fetch and append"))}.bind(t)).catch(function(t){this.f||this.o||(e.Na=!1,"text"==e.type&&this.g.ignoreTextStreamFailures?(1001==t.code?Q.m(o,"Text stream failed to download. Proceeding without it."):Q.m(o,"Text stream failed to parse. Proceeding without it."),this.b.delete("text")):7001==t.code?(e.Na=!1,e.Ka=null,Aa(this,e,0)):3017==t.code?function(t,e,n){var r=Da(e);if(Array.from(t.b.values()).some((function(t){return t!=e&&t.yd})))Q.debug(r,"MediaSource threw QuotaExceededError:","waiting for another stream to recover...");else{var i=Math.round(100*t.l);if(20<i)t.l-=.2;else{if(!(4<i))return Q.error(r,"MediaSource threw QuotaExceededError too many times"),e.Xb=!0,t.o=!0,void t.a.onError(n);t.l-=.04}Q.m(r,"MediaSource threw QuotaExceededError:","reducing buffering goals by "+(100-Math.round(100*t.l))+"%"),e.yd=!0}Aa(t,e,4)}(this,e,t):(Q.error(o,"failed fetch and append: code="+t.code),e.Xb=!0,t.severity=2,La(this,t)))}.bind(t))}(t,e,r,o,n),null)}(t,e);null!=r&&(Aa(t,e,r),e.Xb=!1)}catch(e){return void La(t,e)}r=Array.from(t.b.values()),function(t,e){var n=Da(e),r=Ea(t,e.stream);if(e.ka!=r){var i=e.ka,o=Array.from(t.b.values());o.every((function(t){return t.ka==i||Ta(t)}))?o.every(Sa)?(Q.debug(n,"all need Period "+i),pa(t,i).then(function(){if(!this.f)if(o.every(function(t){var e=Sa(t),n=Ea(this,t.stream);return!!Ta(t)||e&&t.ka==i&&n!=i}.bind(this))){var t=this.c.periods[i];Q.D(n,"calling onChooseStreams()...");var e=this.a.oe(t),r=new Map;e.variant&&e.variant.video&&r.set("video",e.variant.video),e.variant&&e.variant.audio&&r.set("audio",e.variant.audio),e.text&&r.set("text",e.text);for(var a=(e=d(this.b.keys())).next();!a.done;a=e.next())if(a=a.value,!r.has(a)&&"text"!=a)return Q.error(n,"invalid Streams chosen: missing "+a+" Stream"),void this.a.onError(new pt(2,5,5005));for(a=(e=d(Array.from(r.keys()))).next();!a.done;a=e.next())if(a=a.value,!this.b.has(a)){if("text"!=a)return Q.error(n,"invalid Streams chosen: unusable "+a+" Stream"),void this.a.onError(new pt(2,5,5005));ha(this,null,null,r.get("text"),t.startTime),r.delete(a)}for(a=(e=d(Array.from(this.b.keys()))).next();!a.done;a=e.next()){a=a.value;var s=this.b.get(a),u=r.get(a);if(u){var c=Ta(s);c&&(s.ka=i,s.Bd=t.startTime),la(this,u,!1,0,!1),c&&Ta(s)||Aa(this,this.b.get(a),0)}else this.b.delete(a)}Q.D(n,"calling onCanSwitch()..."),this.a.ne()}else Q.debug(n,"ignoring transition to Period",i,"since another is happening")}.bind(t)).catch(Be.wc)):Q.debug(n,"all MediaStates need Period "+i+", but not all MediaStates are idle"):Q.debug(n,"not all MediaStates need Period "+i)}}(t,e),t.u&&r.every((function(t){return t.endOfStream}))&&(Q.D(n,"calling endOfStream()..."),t.a.O.endOfStream().then(function(){if(!this.f){var t=this.a.O.ca();0!=t&&t<this.c.presentationTimeline.ca()&&this.c.presentationTimeline.Ba(t)}}.bind(t)))}}}function ya(t,e,n){return e.Cb&&e.Ha?(n=Ea(t,e.Cb),t.c.periods[n].startTime+e.Ha.endTime):Math.max(n,e.Bd)}function ba(t,e,n,r,i){var o=Da(e);return e.Ha&&e.stream==e.Cb?(r=e.Ha.position+1,Q.J(o,"next position known:","position="+r),wa(t,e,i,r)):(e.Ha?(Q.D(o,"next position unknown: another Stream buffered"),o=Ea(t,e.Cb),o=va(t,e,t.c.periods[o].startTime+e.Ha.endTime,i)):(Q.D(o,"next position unknown: nothing buffered"),o=va(t,e,r||n,i)),null==o?null:(n=null,null==r&&(n=wa(t,e,i,Math.max(0,o-1))),n||wa(t,e,i,o)))}function va(t,e,n,r){var i=Da(e);return t=t.c.periods[r],Q.debug(i,"looking up segment:","presentationTime="+n,"currentPeriod.startTime="+t.startTime),n=Math.max(0,n-t.startTime),null==(e=e.stream.findSegmentPosition(n))&&Q.m(i,"cannot find segment:","currentPeriod.startTime="+t.startTime,"lookupTime="+n),e}function wa(t,e,n,r){var i=Da(e);return n=t.c.periods[n],(e=e.stream.getSegmentReference(r))?(t=(r=t.c.presentationTimeline).Wb(),r=r.xb(),n.startTime+e.endTime<t||n.startTime+e.startTime>r?(Q.J(i,"segment is not available:","currentPeriod.startTime="+n.startTime,"reference.startTime="+e.startTime,"reference.endTime="+e.endTime,"availabilityStart="+t,"availabilityEnd="+r),null):e):(Q.D(i,"segment does not exist:","currentPeriod.startTime="+n.startTime,"position="+r),null)}function Ta(t){return t&&"text"==t.type&&"application/cea-608"==t.stream.mimeType}function Sa(t){return!t.Na&&null==t.Ka&&!t.Sa&&!t.Wa}function xa(t,e){var n=_o(t.c.periods,e+1/15);return n?t.c.periods.indexOf(n):0}function Ea(t,e){for(var n=t.c.periods,r=0;r<n.length;r++){for(var i=n[r],o=new Set,a=d(i.variants),s=a.next();!s.done;s=a.next())(s=s.value).audio&&o.add(s.audio),s.video&&o.add(s.video),s.video&&s.video.trickModeVideo&&o.add(s.video.trickModeVideo);for(a=(i=d(i.textStreams)).next();!a.done;a=i.next())o.add(a.value);if(o.has(e))return r}return-1}function Ma(t,e,n){var r=gi(n.c(),n.b,n.a,t.g.retryParameters);return Q.J("fetching: reference=",n),t=t.a.Db.request(1,r),e.fb=t,t.promise.then((function(t){return e.fb=null,t.data}))}function Ia(t,e,n,r){return m((function i(){var o,a,s,u;return R(i,(function(i){switch(i.j){case 1:return o=Da(e),e.Sa=!1,e.Kc=!1,e.lc=0,e.Wa=!0,Q.debug(o,"clearing buffer"),r?(s=t.a.Za(),u=t.a.O.ca(),a=t.a.O.remove(e.type,s+r,u)):a=In(t.a.O,e.type).then(function(){if(!this.f&&n)return this.a.O.flush(e.type)}.bind(t)),M(i,a,2);case 2:if(t.f)return i.return();Q.debug(o,"cleared buffer"),e.Cb=null,e.Ha=null,e.Wa=!1,e.endOfStream=!1,Aa(t,e,0),I(i)}}))}))}function Aa(t,e,n){Q.J(Da(e),"updating in "+n+" seconds"),e.Ka=new lt((function(){return m((function n(){var r;return R(n,(function(n){switch(n.j){case 1:return A(n,2),M(n,ga(t,e),4);case 4:N(n,0);break;case 2:r=L(n),t.a&&t.a.onError(r),I(n)}}))}))})).T(n)}function ka(t){null!=t.Ka&&(t.Ka.stop(),t.Ka=null)}function Na(t){return m((function e(){return R(e,(function(e){switch(e.j){case 1:if(t.fb)return M(e,t.fb.abort(),0);e.C(0)}}))}))}function La(t,e){dt(t.H).then(function(){this.f||(this.a.onError(e),e.handled||this.g.failureCallback(e))}.bind(t))}function Da(t){return"("+t.type+":"+t.stream.id+")"}function Ca(t,e,n,r,i,o){if(200<=n&&299>=n&&202!=n)return{uri:i||r,vd:r,data:e,headers:t,fromCache:!!t["x-shaka-from-cache"]};i=null;try{i=ae(e)}catch(t){}throw Q.debug("HTTP error text:",i),new pt(401==n||403==n?2:1,1,1001,r,n,i,t,o)}function Oa(t,e,n,r){var i=new Oa.b;Wt(e.headers).forEach((function(t,e){i.append(e,t)}));var o=new Oa.a,a={Ud:!1,Ge:!1};if(t=new gt(t=Oa.l(t,n,{body:e.body||void 0,headers:i,method:e.method,signal:o.signal,credentials:e.allowCrossSiteCredentials?"include":void 0},a,r),(function(){return a.Ud=!0,o.abort(),Promise.resolve()})),e=e.retryParameters.timeout){var s=new ft((function(){a.Ge=!0,o.abort()}));s.T(e/1e3),t.finally((function(){s.stop()}))}return t}function _a(t,e,n,r){var i=new _a.f,o=Date.now(),a=0;return new gt(new Promise((function(s,u){for(var c in i.open(e.method,t,!0),i.responseType="arraybuffer",i.timeout=e.retryParameters.timeout,i.withCredentials=e.allowCrossSiteCredentials,i.onabort=function(){u(new pt(1,1,7001,t,n))},i.onload=function(e){for(var r=(e=e.target).getAllResponseHeaders().trim().split("\r\n"),i={},o=(r=d(r)).next();!o.done;o=r.next())i[(o=o.value.split(": "))[0].toLowerCase()]=o.slice(1).join(": ");try{var a=Ca(i,e.response,e.status,t,e.responseURL,n);s(a)}catch(t){u(t)}},i.onerror=function(e){u(new pt(1,1,1002,t,e,n))},i.ontimeout=function(){u(new pt(1,1,1003,t,n))},i.onprogress=function(t){var e=Date.now();(100<e-o||t.lengthComputable&&t.loaded==t.total)&&(r(e-o,t.loaded-a,t.total-t.loaded),a=t.loaded,o=e)},e.headers)i.setRequestHeader(c.toLowerCase(),e.headers[c]);i.send(e.body)})),(function(){return i.abort(),Promise.resolve()}))}function Pa(){this.a=this.f=this.b=0,this.c=new Map,this.g=0}function ja(t,e,n){this.h=t,this.b=new Map,this.c=!1,this.g=e,this.f=n,this.a=new Pa}function Ra(t,e,n,r,i,o){var a=function(t,e){t.b+=e;var n=t.g;return t.g++,t.c.set(n,e),n}(t.a,r);r=t.b.get(e)||Promise.resolve(),t.b.set(e,r.then((function(){return m((function e(){var r,s,u,c,l,f;return R(e,(function(e){switch(e.j){case 1:return M(e,function(t,e){return m((function n(){var r;return R(n,(function(n){switch(n.j){case 1:return M(n,t.h.request(1,e).promise,2);case 2:return r=n.s,n.return(r.data)}}))}))}(t,n),2);case 2:if(r=e.s,t.c)throw new pt(2,9,7001);if(i)for(var h in s=new Uint8Array(r),(u=new Rr(s)).data)c=Number(h),l=u.data[c],f=u.a[c],t.f(l,f);return t.a.close(a,r.byteLength),h=t.a,t.g(0==h.b?0:h.f/h.b,t.a.a),e.return(o(r))}}))}))})))}function Ua(t,e){var n=this;this.c=t,this.b=t.objectStore(e),this.a=new mt,t.onabort=function(t){t.preventDefault(),n.a.reject()},t.onerror=function(t){t.preventDefault(),n.a.reject()},t.oncomplete=function(){n.a.resolve()}}function za(t,e){return new Promise((function(n,r){var i=t.b.openCursor();i.onerror=r,i.onsuccess=function(t){if(!(t=t.target.result))return n();e(t.key,t.value,t),t.continue()}}))}function Ba(t){this.b=t,this.a=[]}function Fa(t,e){return Ya(t,e,"readwrite")}function Ya(t,e,n){var r=new Ua(n=t.b.transaction([e],n),e);return t.a.push(r),r.promise().then((function(){At(t.a,r)}),(function(){At(t.a,r)})),r}function Ga(t,e,n){this.b=new Ba(t),this.c=e,this.a=n}function Ha(t){return Promise.reject(new pt(2,9,9011,"Cannot add new value to "+t))}function Wa(t,e,n,r){e=(t=Fa(t.b,e)).store();for(var i={},o=(n=d(n)).next();!o.done;i={key:i.key},o=n.next())i.key=o.value,e.delete(i.key).onsuccess=function(t){return function(){return r(t.key)}}(i);return t.promise()}function Va(t,e,n){return m((function r(){var i,o,a,s,u,c,l;return R(r,(function(r){switch(r.j){case 1:for(i=Ya(t.b,e,"readonly"),o=i.store(),a={},s=[],u={},c=d(n),l=c.next();!l.done;u={request:u.request,key:u.key},l=c.next())u.key=l.value,u.request=o.get(u.key),u.request.onsuccess=function(t){return function(){null==t.request.result&&s.push(t.key),a[t.key]=t.request.result}}(u);return M(r,i.promise(),2);case 2:if(s.length)throw new pt(2,9,9012,"Could not find values for "+s);return r.return(n.map((function(t){return a[t]})))}}))}))}function Za(t){this.a=new Ba(t)}function Ka(){this.a=new Map}function Qa(t,e,n){if(!(t=t.a.get(e)))throw new pt(2,9,9013,"Could not find mechanism with name "+e);if(!(e=t.getCells().get(n)))throw new pt(2,9,9013,"Could not find cell with name "+n);return e}function Xa(t,e){Ja.set(t,e)}ra.prototype.destroy=function(){var t=this;return m((function e(){var n,r;return R(e,(function(e){switch(e.j){case 1:n=[];for(var i=d(t.b.values()),o=i.next();!o.done;o=i.next())ka(r=o.value),n.push(Na(r));return M(e,Promise.all(n),2);case 2:t.b.clear(),t.i.clear(),t.a=null,t.c=null,t.v=null,t.h=null,t.g=null,t.f=!0,I(e)}}))}))},ra.prototype.configure=function(t){this.g=t,this.H=new ht({maxAttempts:Math.max(t.retryParameters.maxAttempts,2),baseDelay:t.retryParameters.baseDelay,backoffFactor:t.retryParameters.backoffFactor,fuzzFactor:t.retryParameters.fuzzFactor,timeout:0},!0)},ra.prototype.start=function(){var t=this;return m((function e(){var n,r,i;return R(e,(function(e){switch(e.j){case 1:return n=t.a.Za(),r=xa(t,n),(i=t.a.oe(t.c.periods[r])).variant||i.text?M(e,ha(t,i.variant?i.variant.audio:null,i.variant?i.variant.video:null,i.text,n),2):(Q.error("init: no Streams chosen"),e.return(new pt(2,5,5005)));case 2:if(t.f)return e.return();Q.debug("init: completed initial Stream setup"),t.a&&t.a.Of&&(Q.D("init: calling onInitialStreamsSetup()..."),t.a.Of()),I(e)}}))}))},ra.prototype.K=function(t,e,n,r){var i=r.reader.wd(),o=r.reader.wd(),a=r.reader.I(),s=r.reader.I(),u=r.reader.I(),c=r.reader.I();r=r.reader.gb(r.reader.N.byteLength-r.reader.ga()),t=t.startTime+e.startTime+s/a,n.includes(i)&&("urn:mpeg:dash:event:2012"==i?this.a.Pf():this.a.onEvent(new St("emsg",{detail:{startTime:t,endTime:t+u/a,schemeIdUri:i,value:o,timescale:a,presentationTimeDelta:s,eventDuration:u,id:c,messageData:r}})))},G("shaka.net.HttpFetchPlugin",Oa),Oa.l=function(t,e,n,r,i){return m((function o(){var a,s,u,c,l,f,h,d,p,g,y,b;return R(o,(function(o){switch(o.j){case 1:return a=Oa.g,s=Oa.c,f=l=0,h=Date.now(),A(o,2),M(o,a(t,n),4);case 4:return u=o.s,d=u.clone().body.getReader(),g=(p=u.headers.get("Content-Length"))?parseInt(p,10):0,new s({start:function(t){!function e(){return m((function n(){var r,o,a;return R(n,(function(n){switch(n.j){case 1:return A(n,2),M(n,d.read(),4);case 4:r=n.s,N(n,3);break;case 2:return o=L(n),Q.D("error reading from stream",o.message),n.return();case 3:r.done||(l+=r.value.byteLength),(100<(a=Date.now())-h||r.done)&&(i(a-h,l-f,g-l),f=l,h=a),r.done?t.close():(t.enqueue(r.value),e()),I(n)}}))}))}()}}),M(o,u.arrayBuffer(),5);case 5:c=o.s,N(o,3);break;case 2:if(y=L(o),r.Ud)throw new pt(1,1,7001,t,e);if(r.Ge)throw new pt(1,1,1003,t,e);throw new pt(1,1,1002,t,y,e);case 3:return b={},u.headers.forEach((function(t,e){b[e.trim()]=t})),o.return(Ca(b,c,u.status,t,u.url,e))}}))}))},Oa.isSupported=function(){if(!t.ReadableStream)return!1;try{new ReadableStream({})}catch(t){return!1}return!(!t.fetch||!t.AbortController)},Oa.isSupported=Oa.isSupported,Oa.g=t.fetch,Oa.a=t.AbortController,Oa.c=t.ReadableStream,Oa.b=t.Headers,Oa.isSupported()&&(Ot("http",Oa,2),Ot("https",Oa,2)),G("shaka.net.HttpXHRPlugin",_a),_a.f=t.XMLHttpRequest,Ot("http",_a,1),Ot("https",_a,1),Pa.prototype.close=function(t,e){if(this.c.has(t)){var n=this.c.get(t);this.c.delete(t),this.f+=n,this.a+=e}},ja.prototype.destroy=function(){return this.c=!0,Promise.all(this.b.values()).then((function(){}),(function(){}))},Ua.prototype.abort=function(){try{this.c.abort()}catch(t){}return this.a.catch((function(){}))},Ua.prototype.store=function(){return this.b},Ua.prototype.promise=function(){return this.a},Ba.prototype.destroy=function(){return Promise.all(this.a.map((function(t){return t.abort()})))},(i=Ga.prototype).destroy=function(){return this.b.destroy()},i.hasFixedKeySpace=function(){return!0},i.addSegments=function(){return Ha(this.c)},i.removeSegments=function(t,e){return Wa(this,this.c,t,e)},i.getSegments=function(t){var e=this;return m((function n(){var r;return R(n,(function(n){switch(n.j){case 1:return M(n,Va(e,e.c,t),2);case 2:return r=n.s,n.return(r.map((function(t){return e.Wd(t)})))}}))}))},i.addManifests=function(){return Ha(this.a)},i.updateManifestExpiration=function(t,e){var n=Fa(this.b,this.a),r=n.store();return r.get(t).onsuccess=function(n){(n=n.target.result)&&(n.expiration=e,r.put(n,t))},n.promise()},i.removeManifests=function(t,e){return Wa(this,this.a,t,e)},i.getManifests=function(t){var e=this;return m((function n(){var r;return R(n,(function(n){switch(n.j){case 1:return M(n,Va(e,e.a,t),2);case 2:return r=n.s,n.return(r.map((function(t){return e.mc(t)})))}}))}))},i.getAllManifests=function(){var t=this;return m((function e(){var n,r;return R(e,(function(e){switch(e.j){case 1:return n=Ya(t.b,t.a,"readonly"),r=new Map,M(e,za(n,(function(e,n){r.set(e,t.mc(n))})),2);case 2:return M(e,n.promise(),3);case 3:return e.return(r)}}))}))},i.Wd=function(t){return t},i.mc=function(t){return t},i.add=function(t,e){var n=this;return m((function r(){var i,o,a,s;return R(r,(function(r){switch(r.j){case 1:i=Fa(n.b,t),o=i.store(),a=[];for(var u=d(e),c=u.next();!c.done;c=u.next())s=c.value,o.add(s).onsuccess=function(t){a.push(t.target.result)};return M(r,i.promise(),2);case 2:return r.return(a)}}))}))},Za.prototype.destroy=function(){return this.a.destroy()},Za.prototype.getAll=function(){var t=this;return m((function e(){var n,r;return R(e,(function(e){switch(e.j){case 1:return n=Ya(t.a,"session-ids","readonly"),r=[],M(e,za(n,(function(t,e){r.push(e)})),2);case 2:return M(e,n.promise(),3);case 3:return e.return(r)}}))}))},Za.prototype.add=function(t){for(var e=Fa(this.a,"session-ids"),n=e.store(),r=(t=d(t)).next();!r.done;r=t.next())n.add(r.value);return e.promise()},Za.prototype.remove=function(t){var e=this;return m((function n(){var r;return R(n,(function(n){switch(n.j){case 1:return M(n,za(r=Fa(e.a,"session-ids"),(function(e,n,r){0<=t.indexOf(n.sessionId)&&r.delete()})),2);case 2:return M(n,r.promise(),0)}}))}))},Ka.prototype.destroy=function(){for(var t=[],e=d(this.a.values()),n=e.next();!n.done;n=e.next())t.push(n.value.destroy());return this.a.clear(),Promise.all(t)},Ka.prototype.init=function(){var t=this;Ja.forEach((function(e,n){var r=e();r?t.a.set(n,r):Q.info("Skipping "+n+" as it is not supported on this platform")}));for(var e=[],n=d(this.a.values()),r=n.next();!r.done;r=n.next())e.push(r.value.init());return Promise.all(e)},Ka.prototype.erase=function(){var t=this;return m((function e(){var n,r;return R(e,(function(e){switch(e.j){case 1:return n=Array.from(t.a.values()),(r=0<n.length)||Ja.forEach((function(t){(t=t())&&n.push(t)})),M(e,Promise.all(n.map((function(t){return t.erase()}))),2);case 2:if(!r)return M(e,Promise.all(n.map((function(t){return t.destroy()}))),0);e.C(0)}}))}))},G("shaka.offline.StorageMuxer.register",Xa),G("shaka.offline.StorageMuxer.unregister",(function(t){Ja.delete(t)}));var Ja=new Map;function qa(t){Ga.apply(this,arguments)}function $a(t){return function(t){var e=t.streams.filter((function(t){return"audio"==t.contentType})),n=t.streams.filter((function(t){return"video"==t.contentType}));if(!e.every((function(t){return t.variantIds}))||!n.every((function(t){return t.variantIds}))){e.forEach((function(t){t.variantIds=[]})),n.forEach((function(t){t.variantIds=[]}));var r=0;if(n.length&&!e.length){Q.debug("Found video-only content. Creating variants for video.");var i=r++;n.forEach((function(t){t.variantIds.push(i)}))}if(!n.length&&e.length){Q.debug("Found audio-only content. Creating variants for audio.");var o=r++;e.forEach((function(t){t.variantIds.push(o)}))}n.length&&e.length&&(Q.debug("Found audio-video content. Creating variants."),e.forEach((function(t){n.forEach((function(e){var n=r++;t.variantIds.push(n),e.variantIds.push(n)}))})))}}(t),t.streams.forEach((function(){})),{startTime:t.startTime,streams:t.streams.map(ts)}}function ts(t){var e=t.initSegmentUri?ns(t.initSegmentUri):null;return{id:t.id,originalId:null,primary:t.primary,presentationTimeOffset:t.presentationTimeOffset,contentType:t.contentType,mimeType:t.mimeType,codecs:t.codecs,frameRate:t.frameRate,pixelAspectRatio:void 0,kind:t.kind,language:t.language,label:t.label,width:t.width,height:t.height,initSegmentKey:e,encrypted:t.encrypted,keyId:t.keyId,segments:t.segments.map(es),variantIds:t.variantIds}}function es(t){var e=ns(t.uri);return{startTime:t.startTime,endTime:t.endTime,dataKey:e}}function ns(t){var e;if((e=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(t))||(e=/^offline:segment\/([0-9]+)$/.exec(t)))return Number(e[1]);throw new pt(2,9,9004,"Could not parse uri "+t)}function rs(t,e,n,r){Ga.call(this,t,e,n),this.f=r}function is(){this.g=this.c=this.b=this.a=this.f=null}function os(t,e,n,r){this.a=t,this.g=e,this.f=n,this.c=r,this.b=["offline:",t,"/",e,"/",n,"/",r].join("")}function as(t){if(null==(t=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(t)))return null;var e=t[1];if("manifest"!=e&&"segment"!=e)return null;var n=t[2];if(!n)return null;var r=t[3];return r&&null!=e?new os(e,n,r,Number(t[4])):null}function ss(t,e){this.b=t,this.a=e}function us(t,e,n){var r=e.streams.filter((function(t){return"audio"==t.contentType})),i=e.streams.filter((function(t){return"video"==t.contentType}));return r=function(t,e,n){for(var r=new Set,i=d(e),o=i.next();!o.done;o=i.next()){var a=d(o.value.variantIds);for(o=a.next();!o.done;o=a.next())r.add(o.value)}for(i=d(n),o=i.next();!o.done;o=i.next())for(a=d(o.value.variantIds),o=a.next();!o.done;o=a.next())r.add(o.value);for(i=new Map,r=d(r),o=r.next();!o.done;o=r.next())o=o.value,i.set(o,{id:o,language:"",primary:!1,audio:null,video:null,bandwidth:0,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0});for(e=d(e),r=e.next();!r.done;r=e.next())for(r=r.value,o=cs(t,r),a=d(r.variantIds),r=a.next();!r.done;r=a.next())(r=i.get(r.value)).language=o.language,r.primary=r.primary||o.primary,r.audio=o;for(n=d(n),e=n.next();!e.done;e=n.next())for(r=e.value,e=cs(t,r),o=d(r.variantIds),r=o.next();!r.done;r=o.next())(r=i.get(r.value)).primary=r.primary||e.primary,r.video=e;return i}(t,r,i),i=e.streams.filter((function(t){return"text"==t.contentType})).map((function(e){return cs(t,e)})),e.streams.forEach((function(r){r=r.segments.map((function(e,n){return ls(t,n,e)})),n.Eb(r,e.startTime)})),{startTime:e.startTime,variants:Array.from(r.values()),textStreams:i}}function cs(t,e){var n=e.segments.map((function(e,n){return ls(t,n,e)})),r=new qr(n);return n={id:e.id,originalId:e.originalId,createSegmentIndex:function(){return Promise.resolve()},findSegmentPosition:function(t){return r.find(t)},getSegmentReference:function(t){return r.get(t)},initSegmentReference:null,presentationTimeOffset:e.presentationTimeOffset,mimeType:e.mimeType,codecs:e.codecs,width:e.width||void 0,height:e.height||void 0,frameRate:e.frameRate||void 0,pixelAspectRatio:e.pixelAspectRatio||void 0,kind:e.kind,encrypted:e.encrypted,keyId:e.keyId,language:e.language,label:e.label||null,type:e.contentType,primary:e.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null},null!=e.initSegmentKey&&(n.initSegmentReference=function(t,e){var n=new os("segment",t.b,t.a,e);return new Qr((function(){return[n.toString()]}),0,null)}(t,e.initSegmentKey)),n}function ls(t,e,n){var r=new os("segment",t.b,t.a,n.dataKey);return new Xr(e,n.startTime,n.endTime,(function(){return[r.toString()]}),0,null)}function fs(){this.a=null}function hs(t){var e=as(t);return e&&"manifest"==e.a?hs.h(t):e&&"segment"==e.a?hs.i(e.key(),e):yt(new pt(2,1,9004,t))}function ds(t,e,n){return m((function r(){var i,o,a,s,u,c;return R(r,(function(r){switch(r.j){case 1:i=[];for(var l=[],f=d(n),h=f.next();!h.done;h=f.next()){h=h.value;for(var p=!1,g=d(l),y=g.next();!y.done;y=g.next())if(ps((y=y.value).info,h)){y.sessionIds.push(h.sessionId),p=!0;break}p||l.push({info:h,sessionIds:[h.sessionId]})}o=d(l),a=o.next();case 2:if(a.done){r.C(4);break}return s=a.value,u=function(t,e,n){return m((function r(){var i,o,a,s;return R(r,(function(r){switch(r.j){case 1:return i=new he({Db:e,onError:function(){},yc:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),A(r,2),i.configure(t),M(r,function(t,e,n,r,i,o){var a=new Map;return a.set(e,{audioCapabilities:i,videoCapabilities:o,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:e,drmInfos:[{keySystem:e,licenseServerUri:n,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:r,initData:null,keyIds:null}]}),Te(t,a)}(i,n.info.keySystem,n.info.licenseUri,n.info.serverCertificate,n.info.audioCapabilities,n.info.videoCapabilities),4);case 4:N(r,3);break;case 2:return o=L(r),Q.m("Error initializing EME",o),M(r,i.destroy(),5);case 5:return r.return([]);case 3:return A(r,6),M(r,me(i),8);case 8:N(r,7);break;case 6:return a=L(r),Q.m("Error setting server certificate",a),M(r,i.destroy(),9);case 9:return r.return([]);case 7:return s=[],M(r,Promise.all(n.sessionIds.map((function(t){return m((function e(){var n;return R(e,(function(e){switch(e.j){case 1:return A(e,2),M(e,function(t,e){return m((function n(){var r,i,o;return R(n,(function(n){switch(n.j){case 1:return M(n,Se(t,e),2);case 2:return(r=n.s)?(i=[],(o=t.b.get(r))&&(o.Ca=new mt,i.push(o.Ca)),Q.J("Attempting to remove session",e),i.push(r.remove()),M(n,Promise.all(i),0)):(Q.J("Ignoring attempt to remove missing session",e),n.return())}}))}))}(i,t),4);case 4:s.push(t),N(e,0);break;case 2:n=L(e),Q.m("Error deleting offline session",n),I(e)}}))}))}))),10);case 10:return M(r,i.destroy(),11);case 11:return r.return(s)}}))}))}(t,e,s),M(r,u,5);case 5:c=r.s,i=i.concat(c),a=o.next(),r.C(2);break;case 4:return r.return(i)}}))}))}function ps(t,e){function n(t,e){return t.robustness==e.robustness&&t.contentType==e.contentType}return t.keySystem==e.keySystem&&t.licenseUri==e.licenseUri&&kt(t.audioCapabilities,e.audioCapabilities,n)&&kt(t.videoCapabilities,e.videoCapabilities,n)}function ms(t,e){var n={Ea:null,w:null,mimeType:null,startTime:null,Ld:null,uri:null},r=this;this.h=e,this.c=t,this.f=n,this.i=null,this.g=[],this.b=this.a=null,this.l=!0,this.o=Promise.resolve().then((function(){return function(t){return m((function e(){return R(e,(function(e){switch(e.j){case 1:if(t.l){if(0==t.g.length||t.a&&!t.a.$a)var n=!1;else{t.a&&(t.a.za.eb(),t.a=null);var r=(n=t.g.shift()).create(t.f);r?(n.za.Fb(),t.a={node:r.node,payload:r.payload,$a:r.$a,za:n.za}):n.za.zc(),n=!0}return n?n=Promise.resolve():t.a?n=function(t){return m((function e(){var n,r;return R(e,(function(e){switch(e.j){case 1:return t.c=t.h.rf(t.c,t.f,t.a.node,t.a.payload),A(e,2),t.b=t.h.Ye(t.c,t.f,t.a.payload),M(e,t.b.promise,4);case 4:t.b=null,t.c==t.a.node&&(t.a.za.xc(),t.a=null),N(e,0);break;case 2:return 7001==(n=L(e)).code?t.a.za.eb():t.a.za.onError(n),t.a=null,t.b=null,r=t,M(e,t.h.handleError(t.f,n),5);case 5:r.c=e.s,I(e)}}))}))}(t):(t.h.Nf(t.c),t.i=new mt,n=t.i),M(e,n,1)}e.C(0)}}))}))}(r)}))}function gs(t,e){var n={Fb:function(){},xc:function(){},eb:function(){},onError:function(){},zc:function(){},Sg:function(){}};return t.g.push({create:e,za:n}),t.b&&t.b.abort(),ys(t),n}function ys(t){t.i&&(t.i.resolve(),t.i=null)}function bs(t){this.a=null;for(var e=0;e<t.textTracks.length;++e){var n=t.textTracks[e];n.mode="disabled","Shaka Player TextTrack"==n.label&&(this.a=n)}this.a||(this.a=t.addTextTrack("subtitles","Shaka Player TextTrack")),this.a.mode="hidden"}function vs(t){if(t.startTime>=t.endTime)return Q.m("Invalid cue times: "+t.startTime+" - "+t.endTime),null;var e=new VTTCue(t.startTime,t.endTime,t.payload);e.lineAlign=t.lineAlign,e.positionAlign=t.positionAlign,t.size&&(e.size=t.size);try{e.align=t.textAlign}catch(t){}return"center"==t.textAlign&&"center"!=e.align&&(e.align="middle"),"vertical-lr"==t.writingMode?e.vertical="lr":"vertical-rl"==t.writingMode&&(e.vertical="rl"),1==t.lineInterpretation&&(e.snapToLines=!1),null!=t.line&&(e.line=t.line),null!=t.position&&(e.position=t.position),e}function ws(t,e){var n=t.mode;t.mode="showing"==n?"showing":"hidden";for(var r=t.cues,i=r.length-1;0<=i;i--){var o=r[i];o&&e(o)&&t.removeCue(o)}t.mode=n}function Ts(t,e,n,r,i){var o,a=i in r,s=!0;for(o in e){var u=i+"."+o,c=a?r[i]:n[o];a||o in n?void 0===e[o]?void 0===c||a?delete t[o]:t[o]=Mt(c):c.constructor==Object&&e[o]&&e[o].constructor==Object?(t[o]||(t[o]=Mt(c)),u=Ts(t[o],e[o],c,r,u),s=s&&u):typeof e[o]!=typeof c||null==e[o]||"function"!=typeof e[o]&&e[o].constructor!=c.constructor?(Q.jc("Invalid config, wrong type for "+u),s=!1):("function"==typeof n[o]&&n[o].length!=e[o].length&&Q.Z("Unexpected number of arguments for "+u),t[o]=e[o]):(Q.jc("Invalid config, unrecognized key "+u),s=!1)}return s}function Ss(t,e){for(var n={},r=n,i=0,o=0;!(0>(i=t.indexOf(".",i)));)0!=i&&"\\"==t[i-1]||(r[o=t.substring(o,i).replace(/\\\./g,".")]={},r=r[o],o=i+1),i+=1;return r[t.substring(o).replace(/\\\./g,".")]=e,n}function xs(){}function Es(){var t=5e5,e=1/0;navigator.connection&&(t=1e6*navigator.connection.downlink,navigator.connection.saveData&&(e=360));var n={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,initDataTransform:Ee,fairPlayTransform:!0,updateExpirationTime:1},r={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,dash:{customScheme:function(t){if(t)return null},clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,defaultPresentationDelay:10,ignoreMinBufferTime:!1,autoCorrectDrift:!0,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1},hls:{ignoreTextStreamFailures:!1,useFullSegmentsForStartTime:!1}},i={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},failureCallback:function(t){return Q.error("Unhandled streaming error",t),[t]},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!1,durationBackoff:1,forceTransmuxTS:!1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsOnSafari:!0};te("Web0S")&&(i.stallEnabled=!1);var o={trackSelectionCallback:function(t){return m((function e(){return R(e,(function(e){switch(e.j){case 1:return e.return(t)}}))}))},progressCallback:function(t,e){return[t,e]},usePersistentLicense:!0},a={drm:n,manifest:r,streaming:i,offline:o,abrFactory:Rn,abr:{enabled:!0,defaultBandwidthEstimate:t,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:e,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0}},preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayFactory:function(){return null}};return o.trackSelectionCallback=function(t){return m((function e(){return R(e,(function(e){switch(e.j){case 1:return e.return(function(t,e){var n=t.filter((function(t){return"variant"==t.type})),r=[],i=_n(e,n.map((function(t){return t.language})));i&&(r=n.filter((function(t){return Cn(t.language)==i}))),0==r.length&&(r=n.filter((function(t){return t.primary}))),0==r.length&&(1<new Set(n.map((function(t){return t.language}))).size&&Q.m("Could not choose a good audio track based on language preferences or primary tracks.  An arbitrary language will be stored!"),r=n);var o=r.filter((function(t){return t.height&&480>=t.height}));if(o.length&&(o.sort((function(t,e){return e.height-t.height})),r=o.filter((function(t){return t.height==o[0].height}))),n=[],r.length){var a=Math.floor(r.length/2);r.sort((function(t,e){return t.bandwidth-e.bandwidth})),n.push(r[a])}for(r=d(t),a=r.next();!a.done;a=r.next())"text"==(a=a.value).type&&n.push(a);return n}(t,a.preferredAudioLanguage))}}))}))},a}function Ms(t,e,n){var r={".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",serverCertificate:new Uint8Array(0),individualizationServer:""}};return Ts(t,e,n||Es(),r,"")}function Is(){this.a=null,this.b=[]}function As(t,e){if(null==t.a)t.a={timestamp:Date.now()/1e3,state:e,duration:0};else{var n=Date.now()/1e3;t.a.duration=n-t.a.timestamp,t.a.state!=e&&(t.b.push(t.a),t.a={timestamp:n,state:e,duration:0})}}function ks(t,e){var n=0;t.a&&t.a.state==e&&(n+=t.a.duration);for(var r=d(t.b),i=r.next();!i.done;i=r.next())n+=(i=i.value).state==e?i.duration:0;return n}function Ns(){this.b=this.c=null,this.a=[]}function Ls(){this.f=this.u=this.h=this.b=this.i=this.l=this.o=this.g=this.v=NaN,this.a=new Is,this.c=new Ns}function Ds(e,n){var r=this;Et.call(this),this.i=wu,this.a=null,this.ob=!1,this.g=new Ut,this.Lc=this.l=this.Ob=this.c=this.u=this.f=this.ec=this.F=this.fc=this.H=this.qb=this.o=this.G=this.h=this.S=null,this.ke=1e9,this.hc=new Set,this.sb=!0,this.sa=null,this.je=!1,this.ge=0,this.ra=null,this.ea=new fo,this.b=Gs(this),this.ic={width:1/0,height:1/0},this.v=null,this.Pb=new To(this.b.preferredAudioLanguage,this.b.preferredVariantRole,this.b.preferredAudioChannelCount),this.qa=this.b.preferredTextLanguage,this.nb=this.b.preferredTextRole,this.Mc=[],n&&n(this),this.S=function(t){return new Dt((function(e,n){t.l&&t.l.segmentDownloaded(e,n)}))}(this),this.g.B(t,"online",(function(){r.Cd()})),this.K={name:"detach"},this.V={name:"attach"},this.La={name:"unload"},this.Zc={name:"manifest-parser"},this.Uc={name:"manifest"},this.pb={name:"media-source"},this.Nc={name:"drm-engine"},this.$={name:"load"},this.dd={name:"src-equals-drm-engine"},this.rb={name:"src-equals"};var i=new Map;i.set(this.V,(function(t,e){return wt(function(t,e,n){return null==e.w&&(e.w=n.w,t.g.B(e.w,"error",(function(){var e=au(t);e&&t.Qa(e)}))),t.a=e.w,Promise.resolve()}(r,t,e))})),i.set(this.K,(function(t){return t.w&&(r.g.pa(t.w,"error"),t.w=null),r.a=null,wt(t=Promise.resolve())})),i.set(this.La,(function(t){return wt(Ps(r,t))})),i.set(this.pb,(function(e){return wt(e=function(e,n){return m((function r(){var i,o,a,s;return R(r,(function(r){switch(r.j){case 1:return i=t.muxjs?new _e:new Pe,o=e.b.textDisplayFactory,a=new o,e.Rc=o,M(r,(s=new gn(n.w,i,a)).u,2);case 2:e.G=s,I(r)}}))}))}(r,e))})),i.set(this.Zc,(function(t,e){return wt(function(t,e,n){return m((function r(){var i,o,a,s;return R(r,(function(r){switch(r.j){case 1:if(e.Ea=n.Ea,e.mimeType=n.mimeType,e.uri=n.uri,i=e.uri,o=t.S,t.Ob=i,e.Ea){t.u=e.Ea(),r.C(2);break}return a=t,M(r,pi.create(i,o,t.b.manifest.retryParameters,e.mimeType),3);case 3:a.u=r.s;case 2:s=Mt(t.b.manifest),n.w&&"AUDIO"===n.w.nodeName&&(s.disableVideo=!0),t.u.configure(s),I(r)}}))}))}(r,t,e))})),i.set(this.Uc,(function(t){return function(t,e){var n=e.uri,r=t.S;t.ec=new qo,function(t,e){t.b=e}(t.ec,(function(e){ou(t,"timelineregionadded",e)}));var i={networkingEngine:r,filterNewPeriod:function(e){return t.Vc(e)},filterAllPeriods:function(e){return Hs(t,e)},onTimelineRegionAdded:function(e){var n=t.ec;t:{for(var r=d(n.a),i=r.next();!i.done;i=r.next())if((i=i.value).schemeIdUri==e.schemeIdUri&&i.id==e.id&&i.startTime==e.startTime&&i.endTime==e.endTime){r=i;break t}r=null}null==r&&(n.a.add(e),n.b(e))},onEvent:function(e){return t.dispatchEvent(e)},onError:function(e){return t.Qa(e)}};return new gt(Promise.resolve().then((function(){return m((function e(){var r;return R(e,(function(e){switch(e.j){case 1:return r=t,M(e,t.u.start(n,i),2);case 2:if(r.c=e.s,t.dispatchEvent(new St("manifestparsed")),0==t.c.periods.length)throw new pt(2,4,4014);!function(t){function e(t){return t.video&&t.audio||t.video&&t.video.codecs.includes(",")}t.some((function(t){return t.variants.some(e)}))&&(Q.debug("Found variant with audio and video content, so filtering out audio-only content in all periods."),t.forEach((function(t){t.variants=t.variants.filter(e)})))}(t.c.periods),I(e)}}))}))})),(function(){return Q.info("Aborting parser step..."),t.u.stop()}))}(r,t)})),i.set(this.Nc,(function(){return wt(function(t){return m((function e(){return R(e,(function(e){switch(e.j){case 1:return t.h=js(t,{Db:t.S,onError:function(e){t.Qa(e)},yc:function(e){su(t,e)},onExpirationUpdated:function(e,n){uu(t,e,n)},onEvent:function(e){t.dispatchEvent(e)}}),t.h.configure(t.b.drm),M(e,de(t.h,Oo(t.c.periods),t.c.offlineSessionIds),2);case 2:Hs(t,t.c.periods),I(e)}}))}))}(r))})),i.set(this.$,(function(t,e){return wt(function(t,e,n){return m((function r(){var i,o,a,s,u,c,l,f,h,p;return R(r,(function(r){switch(r.j){case 1:return e.startTime=n.startTime,i=e.w,o=e.uri,t.Ob=o,t.H=new jo({rc:function(){return e.w.playbackRate},Id:function(t){e.w.playbackRate=t},le:function(t){e.w.currentTime+=t}}),t.v=new Ls,a=function(){return Qs(t)},s=function(){return Ks(t)},t.g.B(i,"playing",a),t.g.B(i,"pause",a),t.g.B(i,"ended",a),t.g.B(i,"ratechange",s),u=t.b.abrFactory,t.l&&t.Lc==u||(t.Lc=u,t.l=new u,t.l.configure(t.b.abr)),function(t,e){for(var n=0;n<e.length;n++){for(var r=e[n],i=new Map,o=d(r.variants),a=o.next();!a.done;a=o.next())if((a=a.value).video&&a.video.closedCaptions)for(var s=d((a=a.video).closedCaptions.keys()),u=s.next();!u.done;u=s.next())if(u=u.value,!i.has(u)){var c={id:t.ke++,originalId:u,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},initSegmentReference:null,presentationTimeOffset:0,mimeType:"application/cea-608",codecs:"",kind:"caption",encrypted:!1,keyId:null,language:a.closedCaptions.get(u),label:null,type:"text",primary:!1,frameRate:void 0,pixelAspectRatio:void 0,trickModeVideo:null,emsgSchemeIdUris:null,roles:a.roles,channelsCount:null,audioSamplingRate:null,closedCaptions:null};i.set(u,c)}for(i=d(i.values()),o=i.next();!o.done;o=i.next())r.textStreams.push(o.value)}}(t,t.c.periods),t.Pb=new To(t.b.preferredAudioLanguage,t.b.preferredVariantRole,t.b.preferredAudioChannelCount),t.qa=t.b.preferredTextLanguage,function(t,e,n){0<e&&(t.X()?Q.m("|playRangeStart| has been configured for live content. Ignoring the setting."):t.De(e)),n<t.ca()&&(t.X()?Q.m("|playRangeEnd| has been configured for live content. Ignoring the setting."):t.Ba(n))}(t.c.presentationTimeline,t.b.playRangeStart,t.b.playRangeEnd),M(r,t.h.Qb(i),2);case 2:return t.l.init((function(e,n,r){n=void 0!==n&&n,r=void 0===r?0:r,Q.debug("switch_");t:{for(var i=d(t.c.periods),o=i.next();!o.done;o=i.next())if((o=o.value).variants.includes(e)){i=o;break t}i=null}Fs(t,i,e,!0),t.f&&ca(t.f,e,n,r)&&$s(t)})),t.o=function(t,e){return new Ko(t.a,t.c,t.b.streaming,e,(function(){t.qb&&Co(t.qb,!0),t.f&&function(t){function e(e){var i=t.a.O;return"text"==e?e=null!=(e=i.a).a&&null!=e.b&&(n>=e.a&&n<e.b):e=Re(e=xn(i,e),n,r),e}var n=t.a.Za(),r=t.g.smallGapLimit,i=!1,o=xa(t,n);if(Ht(t.b.values(),(function(t){return t.ka==o})))for(var a=d(t.b.keys()),s=a.next();!s.done;s=a.next())e(s=s.value)||(fa(t,t.b.get(s)),i=!0);else Ht(t.b.keys(),e)||(Q.debug("(all): seeked: unbuffered seek: clearing all buffers"),t.b.forEach((function(e){fa(t,e)})),i=!0);i||Q.debug("(all): seeked: buffered seek: presentationTime="+n)}(t.f),t.F&&Us(t)}),(function(e){return t.dispatchEvent(e)}))}(t,e.startTime),t.qb=function(t){var e=new Po(t.c);!function(t,e){t.b=e}(e,(function(){tu(t)}));var n=new $o(t.ec);!function(t,e,n,r){t.a=e,t.b=n,t.c=r}(n,(function(e){ou(t,"timelineregionenter",e)}),(function(e){ou(t,"timelineregionexit",e)}),(function(e,n){n||(ou(t,"timelineregionenter",e),ou(t,"timelineregionexit",e))}));var r=new Do(t.a);return r.a.add(e),r.a.add(n),r}(t),c=Math.max(t.c.minBufferTime,t.b.streaming.rebufferingGoal),Rs(t,c),t.f=function(t){return new ra(t.c,{Za:function(){return t.o.g()},getBandwidthEstimate:function(){return t.l.getBandwidthEstimate()},O:t.G,Db:t.S,oe:t.Lf.bind(t),ne:t.Se.bind(t),onError:t.Qa.bind(t),onEvent:function(e){return t.dispatchEvent(e)},Pf:t.Qf.bind(t),td:t.Vf.bind(t)})}(t),t.f.configure(t.b.streaming),jn.Vd(t.c,t.b.preferredAudioChannelCount),t.i=Tu,t.dispatchEvent(new St("streaming")),M(r,t.f.start(),3);case 3:t.b.streaming.startAtSegmentBoundary&&(l=t.o.g(),f=function(t,e){function n(t,e){if(!t)return null;var n=t.findSegmentPosition(e-o.startTime);return null==n?null:(n=t.getSegmentReference(n))?n.startTime+o.startTime:null}var r=ia(t.f),i=oa(t.f),o=pu(t);return r=n(r,e),null!=(i=n(i,e))&&null!=r?Math.max(i,r):null!=i?i:null!=r?r:e}(t,l),t.o.o(f)),t.c.periods.forEach(t.Vc.bind(t)),tu(t),$s(t),h=pu(t)||t.c.periods[0],p=h.variants.some((function(t){return t.primary})),t.b.preferredAudioLanguage||p||Q.m("No preferred audio language set.  We will choose an arbitrary language initially"),Xs(t,h.variants),t.g.ua(i,"loadedmetadata",(function(){t.v.b=Date.now()/1e3-n.Ld})),I(r)}}))}))}(r,t,e))})),i.set(this.dd,(function(t){return wt(t=function(t,e){return m((function n(){var r,i;return R(n,(function(n){switch(n.j){case 1:return r=Ge,t.h=js(t,{Db:t.S,onError:function(e){t.Qa(e)},yc:function(e){su(t,e)},onExpirationUpdated:function(e,n){uu(t,e,n)},onEvent:function(e){t.dispatchEvent(e)}}),t.h.configure(t.b.drm),i={id:0,language:"und",primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},initSegmentReference:null,presentationTimeOffset:0,mimeType:"video/mp4",codecs:"",encrypted:!0,keyId:null,language:"und",label:null,type:r.Ua,primary:!1,frameRate:void 0,pixelAspectRatio:void 0,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null},bandwidth:100,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0},M(n,de(t.h,[i],[]),2);case 2:return M(n,t.h.Qb(e.w),0)}}))}))}(r,t))})),i.set(this.rb,(function(t,e){return function(t,e,n){function r(){return Qs(t)}if(e.uri=n.uri,e.startTime=n.startTime,t.Ob=e.uri,t.v=new Ls,t.o=new Zo(e.w),null!=e.startTime&&t.o.o(e.startTime),t.H=new jo({rc:function(){return e.w.playbackRate},Id:function(t){e.w.playbackRate=t},le:function(t){e.w.currentTime+=t}}),Rs(t,t.b.streaming.rebufferingGoal),t.g.B(e.w,"playing",r),t.g.B(e.w,"pause",r),t.g.B(e.w,"ended",r),t.g.B(e.w,"ratechange",(function(){return Ks(t)})),"none"!=t.a.preload&&t.g.ua(e.w,"loadedmetadata",(function(){t.v.b=Date.now()/1e3-n.Ld})),t.a.audioTracks&&(t.g.B(t.a.audioTracks,"addtrack",(function(){return tu(t)})),t.g.B(t.a.audioTracks,"removetrack",(function(){return tu(t)})),t.g.B(t.a.audioTracks,"change",(function(){return tu(t)}))),t.a.textTracks){var i=t.a.textTracks;t.g.B(i,"addtrack",(function(){return tu(t)})),t.g.B(i,"removetrack",(function(){return tu(t)})),t.g.B(i,"change",(function(){return tu(t)}))}e.w.src=e.uri,t.i=Su,t.dispatchEvent(new St("streaming"));var o=new mt;Uo(t.a,HTMLMediaElement.HAVE_METADATA,t.g,(function(){o.resolve()}));var a=!1;return t.Mc.push((function(){a=!0})),Uo(t.a,HTMLMediaElement.HAVE_CURRENT_DATA,t.g,(function(){return m((function e(){return R(e,(function(e){switch(e.j){case 1:if(a)return e.return();if(function(t){var e=t.b.preferredAudioLanguage;if(""!=e){t.Dd(e);var n=t.b.preferredVariantRole;""!=n&&t.Dd(e,n)}}(t),Bs(t).find((function(t){return"disabled"!=t.mode}))){e.C(2);break}return M(e,new Promise((function(e){t.g.ua(t.a.textTracks,"change",e),new ft(e).T(1)})),2);case 2:if(a)return e.return();!function(t){var e=t.b.preferredTextLanguage;if(""!=e){t.Ed(e);var n=t.b.preferredTextRole;""!=n&&t.Ed(e,n)}}(t),I(e)}}))}))})),t.a.error?o.reject(au(t)):"none"==t.a.preload&&(Q.Z('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),o.resolve()),t.g.ua(t.a,"error",(function(){o.reject(au(t))})),new gt(o,(function(){return o.reject(new pt(2,7,7001)),Promise.resolve()}))}(r,t,e)})),this.Ta=new ms(this.K,{rf:function(t,e,n,i){var o=null;return t==r.K&&(o=n==r.K?r.K:r.V),t==r.V&&(o=n==r.K||e.w!=i.w?r.K:n==r.V?r.V:n==r.pb||n==r.$?r.pb:n==r.rb?r.dd:null),t==r.pb&&(o=n==r.$&&e.w==i.w?r.Zc:r.La),t==r.Zc&&(o=yu(r.$,r.Uc,r.La,n,e,i)),t==r.Uc&&(o=yu(r.$,r.Nc,r.La,n,e,i)),t==r.Nc&&(o=yu(r.$,r.$,r.La,n,e,i)),t==r.dd&&(o=n==r.rb&&e.w==i.w?r.rb:r.La),t!=r.$&&t!=r.rb||(o=r.La),t==r.La&&(o=i.w&&e.w==i.w?r.V:r.K),o},Ye:function(t,e,n){return r.dispatchEvent(new St("onstatechange",{state:t.name})),i.get(t)(e,n)},handleError:function(t,e){return m((function n(){return R(n,(function(n){switch(n.j){case 1:return Q.m("The walker saw an error:"),e instanceof pt?Q.m("Error Code:",e.code):(Q.m("Error Message:",e.message),Q.m("Error Stack:",e.stack)),M(n,Ps(r,t),2);case 2:return n.return(t.w?r.V:r.K)}}))}))},Nf:function(t){r.dispatchEvent(new St("onstateidle",{state:t.name}))}}),e&&this.Qb(e,!0)}T(qa,Ga),qa.prototype.updateManifestExpiration=function(t,e){var n=Fa(this.b,this.a),r=n.store(),i=new mt;return r.get(t).onsuccess=function(n){(n=n.target.result)?(n.expiration=e,r.put(n),i.resolve()):i.reject(new pt(2,9,9012,"Could not find values for "+t))},n.promise().then((function(){return i}))},qa.prototype.mc=function(t){return{originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:null==t.expiration?1/0:t.expiration,periods:t.periods.map($a),sessionIds:t.sessionIds,drmInfo:t.drmInfo,appMetadata:t.appMetadata}},qa.prototype.Wd=function(t){return{data:t.data}},T(rs,Ga),rs.prototype.hasFixedKeySpace=function(){return this.f},rs.prototype.addSegments=function(t){return this.f?Ha(this.c):this.add(this.c,t)},rs.prototype.addManifests=function(t){return this.f?Ha(this.a):this.add(this.a,t)},rs.prototype.mc=function(t){return null==t.expiration&&(t.expiration=1/0),t},(i=is.prototype).init=function(){var e=this,n=new mt,r=t.indexedDB.open("shaka_offline_db",4);return r.onsuccess=function(t){t=t.target.result,e.f=t;var r=t.objectStoreNames;r.contains("manifest")&&r.contains("segment")?(Q.debug("Mounting v1 idb storage cell"),r=new qa(t,"segment","manifest")):r=null,e.a=r,(r=t.objectStoreNames).contains("manifest-v2")&&r.contains("segment-v2")?(Q.debug("Mounting v2 idb storage cell"),r=new rs(t,"segment-v2","manifest-v2",!0)):r=null,e.b=r,(r=t.objectStoreNames).contains("manifest-v3")&&r.contains("segment-v3")?(Q.debug("Mounting v3 idb storage cell"),r=new rs(t,"segment-v3","manifest-v3",!1)):r=null,e.c=r,t.objectStoreNames.contains("session-ids")?(Q.debug("Mounting session ID idb storage cell"),t=new Za(t)):t=null,e.g=t,n.resolve()},r.onupgradeneeded=function(t){t=t.target.result;for(var e=d(["segment-v3","manifest-v3","session-ids"]),n=e.next();!n.done;n=e.next())n=n.value,t.objectStoreNames.contains(n)||t.createObjectStore(n,{autoIncrement:!0})},r.onerror=function(t){n.reject(new pt(2,9,9001,r.error)),t.preventDefault()},n},i.destroy=function(){var t=this;return m((function e(){return R(e,(function(e){switch(e.j){case 1:if(!t.a){e.C(2);break}return M(e,t.a.destroy(),2);case 2:if(!t.b){e.C(4);break}return M(e,t.b.destroy(),4);case 4:if(!t.c){e.C(6);break}return M(e,t.c.destroy(),6);case 6:if(!t.g){e.C(8);break}return M(e,t.g.destroy(),8);case 8:t.f&&t.f.close(),I(e)}}))}))},i.getCells=function(){var t=new Map;return this.a&&t.set("v1",this.a),this.b&&t.set("v2",this.b),this.c&&t.set("v3",this.c),t},i.getEmeSessionCell=function(){return this.g},i.erase=function(){var e=this;return m((function n(){return R(n,(function(n){switch(n.j){case 1:if(!e.a){n.C(2);break}return M(n,e.a.destroy(),2);case 2:if(!e.b){n.C(4);break}return M(n,e.b.destroy(),4);case 4:if(!e.c){n.C(6);break}return M(n,e.c.destroy(),6);case 6:return e.f&&e.f.close(),M(n,function(){var e=new mt,n=t.indexedDB.deleteDatabase("shaka_offline_db");return n.onblocked=function(){Q.m("Deleting","shaka_offline_db","is being blocked")},n.onsuccess=function(){e.resolve()},n.onerror=function(t){e.reject(new pt(2,9,9001,n.error)),t.preventDefault()},e}(),8);case 8:return e.f=null,e.a=null,e.b=null,e.c=null,M(n,e.init(),0)}}))}))},Xa("idb",(function(){return t.indexedDB?new is:null})),os.prototype.Aa=function(){return this.g},os.prototype.fa=function(){return this.f},os.prototype.key=function(){return this.c},os.prototype.toString=function(){return this.b},(i=fs.prototype).configure=function(){},i.start=function(t){var e=this;return m((function n(){var r,i,o,a,s;return R(n,(function(n){switch(n.j){case 1:return r=as(t),e.a=r,null==r||"manifest"!=r.a?n.return(Promise.reject(new pt(2,1,9004,r))):(i=new Ka,k(n,2),M(n,i.init(),4));case 4:return M(n,Qa(i,r.Aa(),r.fa()),5);case 5:return M(n,n.s.getManifests([r.key()]),6);case 6:return o=n.s,a=o[0],s=new ss(r.Aa(),r.fa()),n.return(function(t,e){var n=new mi(null,0);n.Ba(e.duration);var r=e.periods.map((function(e){return us(t,e,n)})),i=e.drmInfo?[e.drmInfo]:[];return e.drmInfo&&r.forEach((function(t){t.variants.forEach((function(t){t.drmInfos=i}))})),{presentationTimeline:n,minBufferTime:2,offlineSessionIds:e.sessionIds,periods:r}}(s,a));case 2:return D(n),M(n,i.destroy(),7);case 7:C(n,0)}}))}))},i.stop=function(){return Promise.resolve()},i.update=function(){},i.onExpirationUpdated=function(t,e){var n=this;return m((function r(){var i,o,a,s,u,c,l,f;return R(r,(function(r){switch(r.j){case 1:return i=n.a,o=new Ka,A(r,2,3),M(r,o.init(),5);case 5:return M(r,Qa(o,i.Aa(),i.fa()),6);case 6:return M(r,(a=r.s).getManifests([i.key()]),7);case 7:if(s=r.s,u=s[0],c=u.sessionIds.includes(t),l=null==u.expiration||u.expiration>e,!c||!l){r.C(3);break}return Q.debug("Updating expiration for stored content"),M(r,a.updateManifestExpiration(i.key(),e),3);case 3:return D(r),M(r,o.destroy(),10);case 10:C(r,0);break;case 2:f=L(r),Q.error("There was an error updating",i,f),r.C(3)}}))}))},pi.Lb("application/x-offline-manifest",fs),G("shaka.offline.OfflineScheme",hs),hs.h=function(t){return vt(t={uri:t,vd:t,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}})},hs.i=function(t,e){var n=new Ka;return vt(void 0).Y((function(){return n.init()})).Y((function(){return Qa(n,e.Aa(),e.fa())})).Y((function(t){return t.getSegments([e.key()])})).Y((function(t){return{uri:e,vd:e,data:t[0].data,headers:{}}})).finally((function(){return n.destroy()}))},Ot("offline",hs),ms.prototype.destroy=function(){var t=this;return m((function e(){return R(e,(function(e){switch(e.j){case 1:return t.l=!1,t.b&&t.b.abort(),ys(t),M(e,t.o,2);case 2:t.a&&t.a.za.eb();for(var n=d(t.g),r=n.next();!r.done;r=n.next())r.value.za.eb();t.a=null,t.g=[],t.h=null,I(e)}}))}))},G("shaka.text.SimpleTextDisplayer",bs),bs.prototype.remove=function(t,e){return!!this.a&&(ws(this.a,(function(n){return n.startTime<e&&n.endTime>t})),!0)},bs.prototype.remove=bs.prototype.remove,bs.prototype.append=function(t){for(var e=vs,n=[],r=(t=d(t)).next();!r.done;r=t.next())(r=r.value).nestedCues.length?n=n.concat(r.nestedCues):n.push(r);var i=[];t=this.a.cues?Array.from(this.a.cues):[],r={};for(var o=(n=d(n)).next();!o.done;r={Ab:r.Ab},o=n.next())r.Ab=o.value,t.some(function(t){return function(e){return e.startTime==t.Ab.startTime&&e.endTime==t.Ab.endTime&&e.text==t.Ab.payload}}(r))||(o=e(r.Ab))&&i.push(o);i.slice().sort((function(t,e){return t.startTime!=e.startTime?t.startTime-e.startTime:t.endTime!=e.endTime?t.endTime-e.startTime:i.indexOf(e)-i.indexOf(t)})).forEach(function(t){this.a.addCue(t)}.bind(this))},bs.prototype.append=bs.prototype.append,bs.prototype.destroy=function(){return this.a&&ws(this.a,(function(){return!0})),this.a=null,Promise.resolve()},bs.prototype.destroy=bs.prototype.destroy,bs.prototype.isTextVisible=function(){return"showing"==this.a.mode},bs.prototype.isTextVisible=bs.prototype.isTextVisible,bs.prototype.setTextVisibility=function(t){this.a.mode=t?"showing":"hidden"},bs.prototype.setTextVisibility=bs.prototype.setTextVisibility,G("shaka.util.ConfigUtils.mergeConfigObjects",Ts),G("shaka.util.ConfigUtils.convertToConfigObject",Ss),G("shaka.util.PlayerConfiguration",xs),xs.mergeConfigObjects=Ms,H(Ds,Et),G("shaka.Player",Ds),Ds.prototype.destroy=function(){var t=this;return m((function e(){var n;return R(e,(function(e){switch(e.j){case 1:return t.i==vu?e.return():(t.i=vu,n=gs(t.Ta,(function(){return{node:t.K,payload:{Ea:null,w:null,mimeType:null,startTime:null,Ld:null,uri:null},$a:!1}})),M(e,new Promise((function(e){n.Fb=function(){Q.info("Preparing to destroy walker...")},n.xc=function(){e(),t.dispatchEvent(new St("loaded"))},n.eb=function(){e()},n.onError=function(){e()},n.zc=function(){e()}})),2));case 2:return M(e,t.Ta.destroy(),3);case 3:if(t.g&&(t.g.release(),t.g=null),t.Lc=null,t.l=null,t.b=null,!t.S){e.C(0);break}return M(e,t.S.destroy(),5);case 5:t.S=null,I(e)}}))}))},Ds.prototype.destroy=Ds.prototype.destroy,Ds.version="v2.5.13";var Cs=["2","5"];Gn=new function(t){this.a=t,this.c=Fn,this.b=Yn}(new zn(Number(Cs[0]),Number(Cs[1])));var Os=["output-restricted","internal-error"],_s={};function Ps(t,e){return m((function n(){var r;return R(n,(function(n){switch(n.j){case 1:return t.i!=vu&&(t.i=wu),r=t.Mc.map((function(t){return t()})),t.Mc=[],M(n,Promise.all(r),2);case 2:if(t.dispatchEvent(new St("unloading")),e.Ea=null,e.mimeType=null,e.startTime=null,e.uri=null,e.w&&(t.g.pa(e.w,"loadedmetadata"),t.g.pa(e.w,"playing"),t.g.pa(e.w,"pause"),t.g.pa(e.w,"ended"),t.g.pa(e.w,"ratechange")),t.qb&&(t.qb.release(),t.qb=null),t.fc&&(t.fc.stop(),t.fc=null),!t.u){n.C(3);break}return M(n,t.u.stop(),4);case 4:t.u=null;case 3:if(!t.l){n.C(5);break}return M(n,t.l.stop(),5);case 5:if(!t.f){n.C(7);break}return M(n,t.f.destroy(),8);case 8:t.f=null;case 7:if(t.H&&(t.H.release(),t.H=null),t.o&&(t.o.release(),t.o=null),!t.G){n.C(9);break}return M(n,t.G.destroy(),10);case 10:t.G=null;case 9:if(!e.w||!e.w.src){n.C(11);break}return M(n,new Promise((function(t){return new ft(t).T(.1)})),12);case 12:e.w.removeAttribute("src"),e.w.load();case 11:if(!t.h){n.C(13);break}return M(n,t.h.destroy(),14);case 14:t.h=null;case 13:t.ea.a.clear(),t.Ob=null,t.F=null,t.hc.clear(),t.c=null,t.v=null,t.Rc=null,t.sb=!0,Zs(t),I(n)}}))}))}function js(t,e){return new he(e,t.b.drm.updateExpirationTime)}function Rs(t,e){t.F=new So,t.F.a=Eo,xo(t.F,e,Math.min(.5,e/2)),Zs(t),t.fc=new ft((function(){Us(t)})).Ra(.25)}function Us(t){switch(t.i){case Su:var e=!!t.a.ended||je(t.a.buffered)>=t.a.duration-1;break;case Tu:t:if(t.a.ended||wn(t.G))e=!0;else{if(t.c.presentationTimeline.X()){var n=t.c.presentationTimeline.xb();if(je(t.a.buffered)>=n){e=!0;break t}}e=!1}break;default:e=!1}var r=Ue(t.a.buffered,t.a.currentTime),i=e,o=(n=t.F).b.get(n.a);e=n.a,r=i||r>=o?Mo:Eo,n.a=r,e!=r&&Zs(t)}function zs(t){if(t.u){var e=Mt(t.b.manifest);t.a&&"AUDIO"===t.a.nodeName&&(e.disableVideo=!0),t.u.configure(e)}if(t.h&&t.h.configure(t.b.drm),t.f){t.f.configure(t.b.streaming);try{t.c.periods.forEach(t.Vc.bind(t))}catch(e){t.Qa(e)}var n=ia(t.f),r=oa(t.f);e=pu(t),n=jn.ce(n,r,e.variants),t.l&&n&&n.allowedByApplication&&n.allowedByKeySystem?Xs(t,e.variants):(Q.debug("Choosing new streams after changing configuration"),Js(t,e))}if(t.G&&(e=t.b.textDisplayFactory,t.Rc!=e)){n=new e;var i=(r=t.G).g;r.g=n,i&&(n.setTextVisibility(i.isTextVisible()),i.destroy()),r.a&&(r.a.c=n),t.Rc=e,t.f&&((n=(e=t.f).b.get("text"))&&la(e,n.stream,!0,0,!0))}t.l&&(t.l.configure(t.b.abr),t.b.abr.enabled&&!t.sb?t.l.enable():t.l.disable(),iu(t)),t.F&&(e=t.b.streaming.rebufferingGoal,t.c&&(e=Math.max(e,t.c.minBufferTime)),xo(t.F,e,Math.min(.5,e/2)))}function Bs(t){return Array.from(t.a.textTracks).filter((function(t){return"metadata"!=t.kind&&"Shaka Player TextTrack"!=t.label}))}function Fs(t,e,n,r){po(t.ea,e).variant=n,(t=t.v.c).c!=n&&(t.c=n,t.a.push({timestamp:Date.now()/1e3,id:n.id,type:"variant",fromAdaptation:r,bandwidth:n.bandwidth}))}function Ys(t,e,n,r){ho(t.ea,e,n),(t=t.v.c).b!=n&&(t.b=n,t.a.push({timestamp:Date.now()/1e3,id:n.id,type:"text",fromAdaptation:r,bandwidth:null}))}function Gs(t){var e=Es();return e.streaming.failureCallback=function(e){t.X()&&[1001,1002,1003].includes(e.code)&&(e.severity=1,Q.m("Live streaming error.  Retrying automatically..."),t.Cd())},e.textDisplayFactory=function(){return new bs(t.a)},e}function Hs(t,e){var n=t.f?ia(t.f):null,r=t.f?oa(t.f):null;if(e.forEach(jn.filterNewPeriod.bind(null,t.h,n,r)),0==(n=function(t,e){var n=0;return t.forEach((function(t){n+=e(t)?1:0})),n}(e,(function(t){return t.variants.some(jn.Bb)}))))throw new pt(2,4,4032);if(n<e.length)throw new pt(2,4,4011);e.forEach(function(t){jn.Sd(t.variants,this.b.restrictions,this.ic)&&this.f&&pu(this)==t&&tu(this),cu(this,t.variants)}.bind(t))}function Ws(t,e,n,r){return n=void 0!==n&&n,r=void 0===r?0:r,t.sb?(t.sa=e,t.je=n,t.ge=r,!0):((e=ca(t.f,e,n,r))&&eu(t),e)}function Vs(t,e){if(t.sb)return t.ra=e,!0;var n=la(t.f,e,!0,0,!1);return n&&nu(t),n}function Zs(t){var e=t.fd();if(t.v&&t.F&&t.o){var n=t.H;n.f=e,Ro(n),Qs(t)}t.dispatchEvent(new St("buffering",{buffering:e}))}function Ks(t){var e=t.a.playbackRate;0!=e&&t.H.set(e)}function Qs(t){if(t.v&&t.F){var e=t.v.a;t.F.a==Eo?As(e,"buffering"):t.a.paused?As(e,"paused"):t.a.ended?As(e,"ended"):As(e,"playing")}}function Xs(t,e){try{cu(t,e)}catch(e){return t.Qa(e),null}var n=e.filter((function(t){return jn.Bb(t)}));return n=t.Pb.create(n),t.l.setVariants(Array.from(n.values())),t.l.chooseVariant()}function Js(t,e){var n=qs(t,e,!1),r=jn.Sb(e.textStreams,t.qa,t.nb)[0]||null,i=!1;r&&(t.b.streaming.alwaysStreamText||t.uc())&&(Ys(t,e,r,!0),i=Vs(t,r)),(n||i)&&$s(t)}function qs(t,e,n){n=void 0===n||n;var r=Xs(t,e.variants),i=!1;return r&&(Fs(t,e,r,!0),i=Ws(t,r,!0)),n&&i&&$s(t),i}function $s(t){lu(t,new St("adaptation"))}function tu(t){lu(t,new St("trackschanged"))}function eu(t){lu(t,new St("variantchanged"))}function nu(t){lu(t,new St("textchanged"))}function ru(t){lu(t,new St("texttrackvisibility"))}function iu(t){lu(t,new St("abrstatuschanged",{Rg:t.b.abr.enabled}))}function ou(t,e,n){t.dispatchEvent(new St(e,{detail:{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement}}))}function au(t){if(!t.a.error)return null;var e=t.a.error.code;if(1==e)return null;var n=t.a.error.msExtendedCode;return n&&(0>n&&(n+=Math.pow(2,32)),n=n.toString(16)),new pt(2,3,3016,e,n,t.a.error.message)}function su(t,e){if(t.f){var n=pu(t),r=!1,i=Object.keys(e);0==i.length&&Q.m("Got a key status event without any key statuses, so we don't know the real key statuses. If we don't have all the keys, you'll need to set restrictions so we don't select those tracks.");var o=1==i.length&&"00"==i[0];o&&Q.m("Got a synthetic key status event, so we don't know the real key statuses. If we don't have all the keys, you'll need to set restrictions so we don't select those tracks."),i.length&&t.c.periods.forEach((function(t){t.variants.forEach((function(t){jn.Bf(t).forEach((function(n){var i=t.allowedByKeySystem;n.keyId&&(n=e[o?"00":n.keyId],t.allowedByKeySystem=!!n&&!Os.includes(n)),i!=t.allowedByKeySystem&&(r=!0)}))}))})),i=ia(t.f);var a=oa(t.f);(i=jn.ce(i,a,n.variants))&&!i.allowedByKeySystem&&(Q.debug("Choosing new variants after key status changed"),qs(t,n)),r&&(tu(t),Xs(t,n.variants))}}function uu(t,e,n){t.u&&t.u.onExpirationUpdated&&t.u.onExpirationUpdated(e,n),t.dispatchEvent(new St("expirationupdated"))}function cu(t,e){var n=t.h?Vt(t.h.$):{},r=Object.keys(n);r=r.length&&"00"==r[0];for(var i=!1,o=!1,a=[],s=[],u=d(e),c=u.next();!c.done;c=u.next()){var l=[];(c=c.value).audio&&l.push(c.audio),c.video&&l.push(c.video);for(var f=(l=d(l)).next();!f.done;f=l.next())if((f=f.value).keyId){var h=n[r?"00":f.keyId];h?Os.includes(h)&&(s.includes(h)||s.push(h)):a.includes(f.keyId)||a.push(f.keyId)}c.allowedByApplication?c.allowedByKeySystem&&(i=!0):o=!0}if(!i)throw new pt(2,4,4012,{hasAppRestrictions:o,missingKeys:a,restrictedKeyStatuses:s})}function lu(t,e){m((function n(){return R(n,(function(n){switch(n.j){case 1:return M(n,Promise.resolve(),2);case 2:t.i!=vu&&t.dispatchEvent(e),I(n)}}))}))}function fu(t){for(var e=new Set,n=(t=d(t)).next();!n.done;n=t.next())(n=n.value).language?e.add(Cn(n.language)):e.add("und");return e}function hu(t){for(var e=new Map,n=(t=d(t)).next();!n.done;n=t.next()){var r=n.value;n="und";var i=[];for(r.language&&(n=Cn(r.language)),(i="variant"==r.type?r.audioRoles:r.roles)&&i.length||(i=[""]),e.has(n)||e.set(n,new Set),i=(r=d(i)).next();!i.done;i=r.next())i=i.value,e.get(n).add(i)}var o=[];return e.forEach((function(t,e){for(var n=d(t),r=n.next();!r.done;r=n.next())o.push({language:e,role:r.value})})),o}function du(t){return null==(t=pu(t))?[]:t.variants.filter((function(t){return jn.Bb(t)}))}function pu(t){for(var e=t.o.g(),n=null,r=(t=d(t.c.periods)).next();!r.done;r=t.next())(r=r.value).startTime<=e&&(n=r);return n}function mu(t){var e=pu(t);return po(t.ea,e).variant}function gu(){return new pt(2,7,7e3)}function yu(t,e,n,r,i,o){return r==t&&i.w==o.w&&i.uri==o.uri&&i.mimeType==o.mimeType&&i.Ea==o.Ea?e:n}function bu(t){return new Promise((function(e,n){t.eb=function(){return n(gu())},t.xc=function(){return e()},t.onError=function(t){return n(t)},t.zc=function(){return n(gu())}}))}Ds.registerSupportPlugin=function(t,e){_s[t]=e},Ds.isBrowserSupported=function(){if(!(t.Promise&&t.Uint8Array&&Array.prototype.forEach))return!1;var e=$t();return!(e&&12>e||!(t.MediaKeys&&t.navigator&&t.navigator.requestMediaKeySystemAccess&&t.MediaKeySystemAccess&&t.MediaKeySystemAccess.prototype.getConfiguration))&&(!!Xt()||Jt("application/x-mpegurl"))},Ds.probeSupport=function(){return Ie().then((function(t){for(var e=pi.dg(),n={},r=d('video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",")),i=r.next();!i.done;i=r.next()){n[i=i.value]=Xt()?!!dn(i)||(MediaSource.isTypeSupported(i)||We(i)):Jt(i);var o=i.split(";")[0];n[o]=n[o]||n[i]}for(var a in t={manifest:e,media:n,drm:t},_s)t[a]=_s[a]();return t}))},Ds.prototype.Qb=function(t,e){if(e=void 0===e||e,this.i==vu)return Promise.reject(gu());var n={Ea:null,w:null,mimeType:null,startTime:null,Ld:null,uri:null};n.w=t,Xt()||(e=!1);var r=e?this.pb:this.V,i=gs(this.Ta,(function(){return{node:r,payload:n,$a:!1}}));return i.Fb=function(){return Q.info("Starting attach...")},bu(i)},Ds.prototype.attach=Ds.prototype.Qb,Ds.prototype.detach=function(){var t=this;if(this.i==vu)return Promise.reject(gu());var e=gs(this.Ta,(function(){return{node:t.K,payload:{Ea:null,w:null,mimeType:null,startTime:null,Ld:null,uri:null},$a:!1}}));return e.Fb=function(){return Q.info("Starting detach...")},bu(e)},Ds.prototype.detach=Ds.prototype.detach,Ds.prototype.Od=function(t){var e=this;if(t=void 0===t||t,this.i==vu)return Promise.reject(gu());Xt()||(t=!1);var n={Ea:null,w:null,mimeType:null,startTime:null,Ld:null,uri:null},r=gs(this.Ta,(function(r){var i=r.w&&t?e.pb:r.w?e.V:e.K;return n.w=r.w,{node:i,payload:n,$a:!1}}));return r.Fb=function(){return Q.info("Starting unload...")},bu(r)},Ds.prototype.unload=Ds.prototype.Od,Ds.prototype.load=function(t,e,n){if(this.i==vu)return Promise.reject(gu());this.dispatchEvent(new St("loading"));var r={Ea:null,w:null,mimeType:null,startTime:null,Ld:null,uri:null};r.uri=t,r.Ld=Date.now()/1e3,n&&"string"!=typeof n&&(Bn("Loading with a manifest parser factory","Please register a manifest parser and for the mime-type."),r.Ea=function(){return new n}),n&&"string"==typeof n&&(r.mimeType=n),void 0!==e&&(r.startTime=e);var i=function(t,e){if(e.Ea)return!1;if(!Xt())return!0;var n=e.mimeType,r=e.uri||"";return n||(n={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",m3u8:"application/x-mpegurl",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav"}[pi.getExtension(r)]),!!n&&(""!=(e.w||ee()).canPlayType(n)&&(!pi.isSupported(r,n)||qt()&&t.b.streaming.useNativeHlsOnSafari))}(this,r)?this.rb:this.$,o=gs(this.Ta,(function(t){return null==t.w?null:(r.w=t.w,{node:i,payload:r,$a:!0})}));return o.Fb=function(){return Q.info("Starting load of "+t+"...")},new Promise((function(t,e){o.zc=function(){return e(new pt(2,7,7002))},o.xc=function(){return t()},o.eb=function(){return e(gu())},o.onError=function(t){return e(t)}}))},Ds.prototype.load=Ds.prototype.load,Ds.prototype.configure=function(t,e){2==arguments.length&&"string"==typeof t&&(t=Ss(t,e));var n=Ms(this.b,t,Gs(this));return zs(this),n},Ds.prototype.configure=Ds.prototype.configure,Ds.prototype.getConfiguration=function(){var t=Gs(this);return Ms(t,this.b,Gs(this)),t},Ds.prototype.getConfiguration=Ds.prototype.getConfiguration,Ds.prototype.lg=function(){for(var t in this.b)delete this.b[t];Ms(this.b,Gs(this),Gs(this)),zs(this)},Ds.prototype.resetConfiguration=Ds.prototype.lg,Ds.prototype.jf=function(){return this.i},Ds.prototype.getLoadMode=Ds.prototype.jf,Ds.prototype.pf=function(){return this.a},Ds.prototype.getMediaElement=Ds.prototype.pf,Ds.prototype.Ub=function(){return this.S},Ds.prototype.getNetworkingEngine=Ds.prototype.Ub,Ds.prototype.pc=function(){return this.Ob},Ds.prototype.getAssetUri=Ds.prototype.pc,Ds.prototype.mf=function(){return Bn("getManifestUri",'Please use "getAssetUri" instead.'),this.pc()},Ds.prototype.getManifestUri=Ds.prototype.mf,Ds.prototype.X=function(){return this.c?this.c.presentationTimeline.X():!(!this.a||!this.a.src)&&1/0==this.a.duration},Ds.prototype.isLive=Ds.prototype.X,Ds.prototype.bb=function(){return!!this.c&&this.c.presentationTimeline.bb()},Ds.prototype.isInProgress=Ds.prototype.bb,Ds.prototype.Gf=function(){if(this.c){if(!this.c.periods.length)return!1;var t=this.c.periods[0].variants;return!!t.length&&!t[0].video}return!(!this.a||!this.a.src)&&(this.a.videoTracks?0==this.a.videoTracks.length:0==this.a.videoHeight)},Ds.prototype.isAudioOnly=Ds.prototype.Gf,Ds.prototype.ng=function(){if(this.c){var t=this.c.presentationTimeline;return{start:t.wb(),end:t.Ga()}}return this.a&&this.a.src&&(t=this.a.seekable).length?{start:t.start(0),end:t.end(t.length-1)}:{start:0,end:0}},Ds.prototype.seekRange=Ds.prototype.ng,Ds.prototype.keySystem=function(){return be(this.drmInfo())},Ds.prototype.keySystem=Ds.prototype.keySystem,Ds.prototype.drmInfo=function(){return this.h?this.h.a:null},Ds.prototype.drmInfo=Ds.prototype.drmInfo,Ds.prototype.Tb=function(){return this.h?this.h.Tb():1/0},Ds.prototype.getExpiration=Ds.prototype.Tb,Ds.prototype.fd=function(){return!!this.F&&this.F.a==Eo},Ds.prototype.isBuffering=Ds.prototype.fd,Ds.prototype.tf=function(){if(this.H){var t=this.H;t=t.f?0:t.c}else t=0;return t},Ds.prototype.getPlaybackRate=Ds.prototype.tf,Ds.prototype.Eg=function(t){0==t?Q.Z("A trick play rate of 0 is unsupported!"):(this.a.paused&&this.a.play(),this.H&&this.H.set(t),this.i==Tu&&ua(this.f,1<Math.abs(t)))},Ds.prototype.trickPlay=Ds.prototype.Eg,Ds.prototype.Te=function(){this.i==Su&&this.H.set(1),this.i==Tu&&(this.H.set(1),ua(this.f,!1))},Ds.prototype.cancelTrickPlay=Ds.prototype.Te,Ds.prototype.cd=function(){if(this.c&&this.o){for(var t=mu(this),e=[],n=d(du(this)),r=n.next();!r.done;r=n.next()){r=r.value;var i=jn.Qd(r);i.active=r==t,e.push(i)}return e}return this.a&&this.a.audioTracks?Array.from(this.a.audioTracks).map((function(t){return jn.de(t)})):[]},Ds.prototype.getVariantTracks=Ds.prototype.cd,Ds.prototype.zb=function(){if(this.c&&this.o){for(var t=function(t){var e=pu(t);if(null==e)return null;if(!po(t.ea,e).text){var n=jn.Sb(e.textStreams,t.qa,t.nb);n.length&&ho(t.ea,e,n[0])}return po(t.ea,e).text}(this),e=[],n=d(function(t){var e=pu(t);return null==e?[]:e.textStreams.filter((function(e){return!t.hc.has(e)}))}(this)),r=n.next();!r.done;r=n.next()){r=r.value;var i=jn.Fc(r);i.active=r==t,e.push(i)}return e}return this.a&&this.a.src&&this.a.textTracks?Bs(this).map((function(t){return jn.Ef(t)})):[]},Ds.prototype.getTextTracks=Ds.prototype.zb,Ds.prototype.Fd=function(t){if(this.c&&this.f){var e=pu(this),n=e.textStreams.find((function(e){return e.id==t.id}));n?(Ys(this,e,n,!1),Vs(this,n),this.qa=n.language):Q.error("No stream with id",t.id)}else if(this.a&&this.a.src&&this.a.textTracks){for(n=(e=d(e=Bs(this))).next();!n.done;n=e.next())n=n.value,jn.ed(n)==t.id?n.mode=this.ob?"showing":"hidden":n.mode="disabled";nu(this)}},Ds.prototype.selectTextTrack=Ds.prototype.Fd,Ds.prototype.og=function(){Bn("selectEmbeddedTextTrack","If closed captions are signaled in the manifest, a text stream will be created to represent them. Please use SelectTextTrack.");var t=this.zb().filter((function(t){return"application/cea-608"==t.mimeType}));0<t.length?this.Fd(t[0]):Q.m("Unable to find the text track embedded in the video.")},Ds.prototype.selectEmbeddedTextTrack=Ds.prototype.og,Ds.prototype.Jg=function(){Bn("usingEmbeddedTextTrack","If closed captions are signaled in the manifest, a text stream will be created to represent them. There should be no reason to know if the player is playing embedded text.");var t=this.zb().filter((function(t){return t.active}))[0];return!!t&&"application/cea-608"==t.mimeType},Ds.prototype.usingEmbeddedTextTrack=Ds.prototype.Jg,Ds.prototype.pg=function(t,e,n){if(n=void 0===n?0:n,this.c&&this.f){var r=pu(this);this.b.abr.enabled&&Q.Z("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var i=r.variants.find((function(e){return e.id==t.id}));i?jn.Bb(i)?(Fs(this,r,i,!1),Ws(this,i,e,n),this.Pb=new wo(i),Xs(this,r.variants)):Q.error("Unable to switch to restricted track",t.id):Q.error("No variant with id",t.id)}else if(this.a&&this.a.audioTracks){for(n=(e=d(e=Array.from(this.a.audioTracks))).next();!n.done;n=e.next())n=n.value,jn.ed(n)==t.id&&(n.enabled=!0);eu(this)}},Ds.prototype.selectVariantTrack=Ds.prototype.pg,Ds.prototype.df=function(){return hu(this.cd())},Ds.prototype.getAudioLanguagesAndRoles=Ds.prototype.df,Ds.prototype.Af=function(){return hu(this.zb())},Ds.prototype.getTextLanguagesAndRoles=Ds.prototype.Af,Ds.prototype.cf=function(){return Array.from(fu(this.cd()))},Ds.prototype.getAudioLanguages=Ds.prototype.cf,Ds.prototype.zf=function(){return Array.from(fu(this.zb()))},Ds.prototype.getTextLanguages=Ds.prototype.zf,Ds.prototype.Dd=function(t,e){if(this.c&&this.o){var n=pu(this);this.Pb=new To(t,e||"",0,"","audio"),qs(this,n)}else if(this.a&&this.a.audioTracks){var r=Array.from(this.a.audioTracks);n=Cn(t);for(var i=(r=d(r)).next();!i.done;i=r.next()){i=i.value;var o=jn.de(i);Cn(o.language)!=n||e&&!o.roles.includes(e)||(i.enabled=!0)}eu(this)}},Ds.prototype.selectAudioLanguage=Ds.prototype.Dd,Ds.prototype.Ed=function(t,e){if(this.c&&this.o){var n=pu(this);this.qa=t,this.nb=e||"";var r=jn.Sb(n.textStreams,this.qa,this.nb)[0]||null;r&&(Ys(this,n,r,!1),(this.b.streaming.alwaysStreamText||this.uc())&&Vs(this,r))}else{var i=Cn(t);(n=this.zb().filter((function(t){return Cn(t.language)==i&&(!e||t.roles.includes(e))}))[0])&&this.Fd(n)}},Ds.prototype.selectTextLanguage=Ds.prototype.Ed,Ds.prototype.qg=function(t){if(this.c&&this.o){for(var e=pu(this),n=null,r=d(du(this)),i=r.next();!i.done;i=r.next())if((i=i.value).audio.label==t){n=i;break}null==n?Q.m("No variants were found with label: "+t+". Ignoring the request to switch."):(this.Pb=new To(n.language,"",0,t),qs(this,e))}},Ds.prototype.selectVariantsByLabel=Ds.prototype.qg,Ds.prototype.uc=function(){var t=this.ob;return this.G?this.G.g.isTextVisible():this.a&&this.a.src&&this.a.textTracks?Bs(this).some((function(t){return"showing"==t.mode})):t},Ds.prototype.isTextTrackVisible=Ds.prototype.uc,Ds.prototype.tg=function(t){var e=this;return m((function n(){var r,i,o,a;return R(n,(function(n){switch(n.j){case 1:if(e.ob==(r=!!t))return n.return();if(e.ob=r,e.i!=Tu){if(e.a&&e.a.src&&e.a.textTracks)for(var s=d(Bs(e)),u=s.next();!u.done;u=s.next())"disabled"!=(i=u.value).mode&&(i.mode=r?"showing":"hidden");n.C(2);break}if(e.G.g.setTextVisibility(r),e.b.streaming.alwaysStreamText){n.C(2);break}if(!r){!function(t){t.G=!0;var e=t.b.get("text");e&&(ka(e),Na(e).catch((function(){})),t.b.delete("text"))}(e.f),n.C(2);break}if(aa(e.f,"text")){n.C(2);break}if(o=pu(e),!(0<(a=jn.Sb(o.textStreams,e.qa,e.nb)).length)){n.C(2);break}return M(n,sa(e.f,a[0]),2);case 2:ru(e),I(n)}}))}))},Ds.prototype.setTextTrackVisibility=Ds.prototype.tg,Ds.prototype.vf=function(){if(!this.X())return Q.m("getPlayheadTimeAsDate is for live streams!"),null;var t=this.Ta.f,e=0;if(this.o)e=this.o.g();else if(t){if(null==t.startTime)return new Date;e=t.startTime}return this.c?new Date(1e3*(this.c.presentationTimeline.f+this.a.currentTime)):this.a&&this.a.getStartDate?(t=this.a.getStartDate(),isNaN(t.getTime())?(Q.m("EXT-X-PROGRAM-DATETIME required to get playhead time as Date!"),null):new Date(t.getTime()+1e3*e)):(Q.m("No way to get playhead time as Date!"),null)},Ds.prototype.getPlayheadTimeAsDate=Ds.prototype.vf,Ds.prototype.xf=function(){if(!this.X())return Q.m("getPresentationStartTimeAsDate is for live streams!"),null;if(this.c)return new Date(1e3*this.c.presentationTimeline.f);if(this.a&&this.a.getStartDate){var t=this.a.getStartDate();return isNaN(t.getTime())?(Q.m("EXT-X-PROGRAM-DATETIME required to get presentation start time as Date!"),null):t}return Q.m("No way to get presentation start time as Date!"),null},Ds.prototype.getPresentationStartTimeAsDate=Ds.prototype.xf,Ds.prototype.$c=function(){var t={total:[],audio:[],video:[],text:[]};return this.i==Su&&(t.total=ze(this.a.buffered)),this.i==Tu&&this.G.$c(t),t},Ds.prototype.getBufferedInfo=Ds.prototype.$c,Ds.prototype.getStats=function(){if(this.i!=Tu&&this.i!=Su)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,switchHistory:[],stateHistory:[]};Qs(this);var t=this.a;if(t.getVideoPlaybackQuality){t=t.getVideoPlaybackQuality();var e=this.v,n=Number(t.totalVideoFrames);e.o=Number(t.droppedVideoFrames),e.l=n,this.v.i=Number(t.corruptedVideoFrames)}this.h?t=(t=this.h).K?t.K:NaN:t=NaN,this.v.h=t,this.i==Tu&&((t=mu(this))&&(this.v.u=t.bandwidth),t&&t.video&&(e=this.v,n=t.video.height||NaN,e.v=t.video.width||NaN,e.g=n),t=this.l.getBandwidthEstimate(),this.v.f=t);var r=this.v;t=r.v,e=r.g,n=r.u;for(var i=r.l,o=r.o,a=r.i,s=r.f,u=r.b,c=ks(r.a,"playing"),l=ks(r.a,"paused"),f=ks(r.a,"buffering"),h=r.h,p=function(t){function e(t){return{timestamp:t.timestamp,state:t.state,duration:t.duration}}for(var n=[],r=d(t.b),i=r.next();!i.done;i=r.next())n.push(e(i.value));return t.a&&n.push(e(t.a)),n}(r.a),m=[],g=(r=d(r.c.a)).next();!g.done;g=r.next())g=g.value,m.push({timestamp:g.timestamp,id:g.id,type:g.type,fromAdaptation:g.fromAdaptation,bandwidth:g.bandwidth});return{width:t,height:e,streamBandwidth:n,decodedFrames:i,droppedFrames:o,corruptedFrames:a,estimatedBandwidth:s,loadLatency:u,playTime:c,pauseTime:l,bufferingTime:f,licenseTime:h,stateHistory:p,switchHistory:m}},Ds.prototype.getStats=Ds.prototype.getStats,Ds.prototype.addTextTrack=function(t,e,n,r,i,o){var a=this;return m((function s(){var u,c,l,f,h,d,p,m,g;return R(s,(function(s){switch(s.j){case 1:if(a.i==Su)throw Q.error("Cannot add text when loaded with src="),Error("State error!");if(a.i!=Tu)throw Q.error("Must call load() and wait for it to resolve before adding text tracks."),Error("State error!");if(u=pu(a),c=Ge,l=a.c.periods.indexOf(u),h=(f=l+1)>=a.c.periods.length?a.c.presentationTimeline.ca():a.c.periods[f].startTime,1/0==(d=h-u.startTime))throw new pt(1,4,4033);return p=new Xr(1,0,d,(function(){return[t]}),0,null),m={id:a.ke++,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return 1},getSegmentReference:function(t){return 1==t?p:null},initSegmentReference:null,presentationTimeOffset:0,mimeType:r,codecs:i||"",kind:n,encrypted:!1,keyId:null,language:e,label:o||null,type:c.va,primary:!1,frameRate:void 0,pixelAspectRatio:void 0,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null},a.hc.add(m),u.textStreams.push(m),M(s,sa(a.f,m),2);case 2:return(g=aa(a.f,"text"))&&ho(a.ea,u,g),a.hc.delete(m),Q.debug("Choosing new streams after adding a text stream"),Js(a,u),tu(a),s.return(jn.Fc(m))}}))}))},Ds.prototype.addTextTrack=Ds.prototype.addTextTrack,Ds.prototype.Hd=function(t,e){this.ic.width=t,this.ic.height=e},Ds.prototype.setMaxHardwareResolution=Ds.prototype.Hd,Ds.prototype.Cd=function(){if(this.i==Tu){var t=this.f;if(t.f)Q.error("Unable to retry after StreamingEngine is destroyed!"),t=!1;else if(t.o)Q.error("Unable to retry after StreamingEngine encountered a fatal error!"),t=!1;else{for(var e=d(t.b.values()),n=e.next();!n.done;n=e.next()){var r=Da(n=n.value);n.Xb&&(Q.info(r,"Retrying after failure..."),n.Xb=!1,Aa(t,n,.1))}t=!0}}else t=!1;return t},Ds.prototype.retryStreaming=Ds.prototype.Cd,Ds.prototype.kf=function(){return this.c},Ds.prototype.getManifest=Ds.prototype.kf,Ds.prototype.lf=function(){return this.u?this.u.constructor:null},Ds.prototype.getManifestParserFactory=Ds.prototype.lf,(i=Ds.prototype).Vc=function(t){var e=this.f?ia(this.f):null,n=this.f?oa(this.f):null;if(jn.filterNewPeriod(this.h,e,n,t),!(e=t.variants).some(jn.Bb))throw new pt(2,4,4011);if(cu(this,t.variants),jn.Sd(e,this.b.restrictions,this.ic)&&this.f&&pu(this)==t&&tu(this),t=this.h?this.h.a:null)for(n=(e=d(e)).next();!n.done;n=e.next())for(var r=(n=d(n.value.drmInfos)).next();!r.done;r=n.next())if((r=r.value).keySystem==t.keySystem)for(var i=(r=d(r.initData||[])).next();!i.done;i=r.next())i=i.value,ye(this.h,i.initDataType,i.initData)},i.Lf=function(t){Q.debug("onChooseStreams_",t);try{Q.J("onChooseStreams_, choosing variant from ",t.variants),Q.J("onChooseStreams_, choosing text from ",t.textStreams),this.sb=!0,this.l.disable(),iu(this),Q.debug("Choosing new streams after period changed");var e=Xs(this,t.variants),n=jn.Sb(t.textStreams,this.qa,this.nb)[0]||null;this.sa&&(t.variants.includes(this.sa)&&(e=this.sa),this.sa=null),this.ra&&(t.textStreams.includes(this.ra)&&(n=this.ra),this.ra=null),e&&Fs(this,t,e,!0),n&&Ys(this,t,n,!0);var r=this.f,i=r.b.get("video");if(i)var o=r.c.periods[i.ka];else{var a=r.b.get("audio");o=a?r.c.periods[a.ka]:null}var s=e?e.audio:null;if(!o&&n){var u;if(u=s){t=n;var c=Cn(this.b.preferredTextLanguage),l=Cn(s.language),f=Cn(t.language);u=Ln(f,c)&&!Ln(l,f)}u&&(this.ob=!0),this.ob&&this.G.g.setTextVisibility(!0),ru(this)}var h=this.b.streaming.alwaysStreamText||this.uc()?{variant:e,text:n}:{variant:e,text:null};return Q.J("onChooseStreams_, chose variant ",h.variant),Q.J("onChooseStreams_, chose text ",h.text),h}catch(t){return this.Qa(t),{variant:null,text:null}}},i.Se=function(){Q.debug("canSwitch_"),this.sb=!1,this.b.abr.enabled&&(this.l.enable(),iu(this)),this.sa&&(ca(this.f,this.sa,this.je,this.ge),eu(this),this.sa=null),this.ra&&(la(this.f,this.ra,!0,0,!1),nu(this),this.ra=null)},i.Qf=function(){this.u&&this.u.update&&this.u.update()},i.Vf=function(){this.o&&this.o.u()},i.Qa=function(t){if(this.i!=vu){var e=new St("error",{detail:t});this.dispatchEvent(e),e.defaultPrevented&&(t.handled=!0)}};var vu=0,wu=1,Tu=2,Su=3;function xu(t,e){var n=us(new ss(t.Aa(),t.fa()),e.periods[0],new mi(null,0)),r=e.appMetadata||{};return n=Eu(n),{offlineUri:t.toString(),originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:e.expiration,tracks:n,appMetadata:r}}function Eu(t){for(var e=[],n=jn.sf(t.variants),r=(n=d(n)).next();!r.done;r=n.next())e.push(jn.Qd(r.value));for(n=(t=d(t.textStreams)).next();!n.done;n=t.next())e.push(jn.Fc(n.value));return e}function Mu(){this.a={}}function Iu(t,e){var n=e.audio,r=e.video;if(n&&!r&&(t.a[n.id]=n.bandwidth||e.bandwidth),!n&&r&&(t.a[r.id]=r.bandwidth||e.bandwidth),n&&r){var i=n.bandwidth||393216,o=r.bandwidth||e.bandwidth-i;0>=o&&(Q.m("Audio bit rate consumes variants bandwidth. Setting video bandwidth to match variant's bandwidth."),o=e.bandwidth),t.a[n.id]=i,t.a[r.id]=o}}function Au(t,e){var n=t.a[e];return null==n&&(n=0,Q.error("Asking for bitrate of stream not given to the estimator")),0==n&&Q.m("Using bitrate of 0, this stream won't affect progress"),n}function ku(t){this.a=!1,this.b=new mt,this.c=t}function Nu(t){var e=new Du;t.periods.forEach((function(t,n){var r=Ou(t.variants);if(0==n)for(var i=(r=d(r.a)).next();!i.done;i=r.next())e.add(i.value);else!function(t,e){t.a=t.a.filter((function(t){return Cu(e,t)}))}(e,r)}));for(var n=(t=d(t.periods)).next();!n.done;n=t.next())(n=n.value).variants=n.variants.filter((function(t){return Cu(e,new Lu(t))}))}function Lu(t){var e=t.audio;t=t.video,this.b=e?e.mimeType:null,this.a=e?e.codecs.split(".")[0]:null,this.f=t?t.mimeType:null,this.c=t?t.codecs.split(".")[0]:null}function Du(){this.a=[]}function Cu(t,e){return t.a.some((function(t){return e.b==t.b&&e.a==t.a&&e.f==t.f&&e.c==t.c}))}function Ou(t){for(var e=new Du,n=(t=d(t)).next();!n.done;n=t.next())e.add(new Lu(n.value));return e}function _u(t){var e=this;if(t&&t.constructor!=Ds)throw new pt(2,9,9008);this.b=this.a=null,t?(this.a=t.b,this.b=t.Ub()):(this.a=Es(),this.b=new Dt),this.f=!1,this.c=[],this.g=[];var n=!t;this.h=new ku((function(){return m((function t(){var r;return R(t,(function(t){switch(t.j){case 1:return r=function(){},M(t,Promise.all(e.g.map((function(t){return t.then(r,r)}))),2);case 2:if(!n){t.C(3);break}return M(t,e.b.destroy(),3);case 3:e.a=null,e.b=null,I(t)}}))}))}))}function Pu(){if(Xt())t:{for(var t=d(Ja.values()),e=t.next();!e.done;e=t.next())if(e=(e=e.value)()){e.destroy(),t=!0;break t}t=!1}else t=!1;return t}function ju(t,e){for(var n=[],r=d(t.periods),i=r.next();!i.done;i=r.next())for(var o=(i=d(i.value.streams)).next();!o.done;o=i.next())o=o.value,e&&"video"==o.contentType?n.push({contentType:Zt(o.mimeType,o.codecs),robustness:t.drmInfo.videoRobustness}):e||"audio"!=o.contentType||n.push({contentType:Zt(o.mimeType,o.codecs),robustness:t.drmInfo.audioRobustness});return n}function Ru(t,e,n){return m((function r(){return R(r,(function(r){switch(r.j){case 1:return M(r,function(t,e,n,r){return m((function i(){var o,a,s;return R(i,(function(i){switch(i.j){case 1:return r.drmInfo?(o=function(t){var e=Array.from(t.a.keys());if(!e.length)throw new pt(2,9,9e3,"No supported storage mechanisms found");return t.a.get(e[0]).getEmeSessionCell()}(n),a=r.sessionIds.map((function(t){return{sessionId:t,keySystem:r.drmInfo.keySystem,licenseUri:r.drmInfo.licenseServerUri,serverCertificate:r.drmInfo.serverCertificate,audioCapabilities:ju(r,!1),videoCapabilities:ju(r,!0)}})),M(i,ds(e,t,a),2)):i.return();case 2:return s=i.s,M(i,o.remove(s),3);case 3:return M(i,o.add(a.filter((function(t){return-1==s.indexOf(t.sessionId)}))),0)}}))}))}(t.b,t.a.drm,n,e),0)}}))}))}function Uu(t,e,n,r){function i(){s+=1,t.a.offline.progressCallback(u,s/a)}var o=function(t){var e=[];return t.periods.forEach((function(t){t.streams.forEach((function(t){null!=t.initSegmentKey&&e.push(t.initSegmentKey),t.segments.forEach((function(t){e.push(t.dataKey)}))}))})),e}(r),a=o.length+1,s=0,u=xu(n,r);return Promise.all([e.removeSegments(o,i),e.removeManifests([n.key()],i)])}function zu(t,e,n,r,i,o){var a={id:o.id,originalId:o.originalId,primary:o.primary,presentationTimeOffset:o.presentationTimeOffset||0,contentType:o.type,mimeType:o.mimeType,codecs:o.codecs,frameRate:o.frameRate,pixelAspectRatio:o.pixelAspectRatio,kind:o.kind,language:o.language,label:o.label,width:o.width||null,height:o.height||null,initSegmentKey:null,encrypted:o.encrypted,keyId:o.keyId,segments:[],variantIds:[]};i=i.presentationTimeline.Wb();var s=o.id,u=o.initSegmentReference;return u&&(u=gi(u.c(),u.b,u.a,t.a.streaming.retryParameters),Ra(e,s,u,.5*Au(r,o.id),!0,(function(e){return m((function r(){var i;return R(r,(function(r){switch(r.j){case 1:return M(r,n.addSegments([{data:e}]),2);case 2:i=r.s,t.c.push(i[0]),a.initSegmentKey=i[0],I(r)}}))}))}))),function(t,e,n){for(var r=null==(e=t.findSegmentPosition(e))?null:t.getSegmentReference(e);r;)n(r),r=t.getSegmentReference(++e)}(o,i,(function(i){var u=gi(i.c(),i.b,i.a,t.a.streaming.retryParameters);Ra(e,s,u,function(t,e,n){return n=n.endTime-n.startTime,Au(t,e)*n}(r,o.id,i),!1,(function(e){return m((function r(){var o;return R(r,(function(r){switch(r.j){case 1:return M(r,n.addSegments([{data:e}]),2);case 2:o=r.s,t.c.push(o[0]),a.segments.push({startTime:i.startTime,endTime:i.endTime,dataKey:o[0]}),I(r)}}))}))}))})),a}function Bu(t){if(t.h.a)throw new pt(2,9,7001)}function Fu(){if(!Pu())throw new pt(2,9,9e3)}function Yu(t,e){return m((function n(){return R(n,(function(n){switch(n.j){case 1:return t.g.push(e),k(n,2),M(n,e,4);case 4:return n.return(n.s);case 2:D(n),At(t.g,e),C(n,0)}}))}))}function Gu(t){var e=new Set(t.variants.map((function(t){return t.video}))),n=new Set(t.variants.map((function(t){return t.audio})));t=t.textStreams,1<e.size&&Q.m("Multiple video tracks selected to be stored");for(var r=(e=d(n)).next();!r.done;r=e.next()){r=r.value;for(var i=d(n),o=i.next();!o.done;o=i.next())r!=(o=o.value)&&r.language==o.language&&Q.m("Similar audio tracks were selected to be stored",r.id,o.id)}for(e=(n=d(t)).next();!e.done;e=n.next())for(e=e.value,i=(r=d(t)).next();!i.done;i=r.next())e!=(i=i.value)&&e.language==i.language&&Q.m("Similar text tracks were selected to be stored",e.id,i.id)}Ds.LoadMode={DESTROYED:vu,NOT_LOADED:wu,MEDIA_SOURCE:Tu,SRC_EQUALS:Su},ku.prototype.destroy=function(){var t=this;return this.a?this.b:(this.a=!0,this.c().then((function(){t.b.resolve()}),(function(){t.b.resolve()})))},Du.prototype.add=function(t){Cu(this,t)||this.a.push(t)},G("shaka.offline.Storage",_u),_u.support=Pu,_u.prototype.destroy=function(){return this.h.destroy()},_u.prototype.destroy=_u.prototype.destroy,_u.prototype.configure=function(t,e){2==arguments.length&&"string"==typeof t&&(t=Ss(t,e));var n=t,r=!1;return null!=n.trackSelectionCallback&&(r=!0,n.offline=n.offline||{},n.offline.trackSelectionCallback=n.trackSelectionCallback,delete n.trackSelectionCallback),null!=n.progressCallback&&(r=!0,n.offline=n.offline||{},n.offline.progressCallback=n.progressCallback,delete n.progressCallback),null!=n.usePersistentLicense&&(r=!0,n.offline=n.offline||{},n.offline.usePersistentLicense=n.usePersistentLicense,delete n.usePersistentLicense),r&&Bn("Storage.configure with OfflineConfig","Please configure storage with a player configuration."),Ms(this.a,t)},_u.prototype.configure=_u.prototype.configure,_u.prototype.getConfiguration=function(){var t=Es();return Ms(t,this.a,Es()),t},_u.prototype.getConfiguration=_u.prototype.getConfiguration,_u.prototype.Ub=function(){return this.b},_u.prototype.getNetworkingEngine=_u.prototype.Ub,_u.prototype.store=function(t,e,n){var r=this;return Yu(this,function(t,e,n,r){return m((function i(){var o,a,s,u,c,l,f,h,p;return R(i,(function(i){switch(i.j){case 1:return Fu(),t.f?i.return(Promise.reject(new pt(2,9,9006))):(t.f=!0,M(i,function(t,e,n){return m((function r(){var i,o,a,s,u,c;return R(r,(function(r){switch(r.j){case 1:return i=null,o=t.b,a={networkingEngine:o,filterAllPeriods:function(){},filterNewPeriod:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(t){i=t}},M(r,n(),2);case 2:return(s=r.s).configure(t.a.manifest),Bu(t),k(r,3),M(r,s.start(e,a),5);case 5:return u=r.s,Bu(t),c=function(t){for(var e=new Set,n=(t=d(t.periods)).next();!n.done;n=t.next()){for(var r=d((n=n.value).textStreams),i=r.next();!i.done;i=r.next())e.add(i.value);for(n=d(n.variants),r=n.next();!r.done;r=n.next())(r=r.value).audio&&e.add(r.audio),r.video&&e.add(r.video)}return e}(u),M(r,Promise.all(Gt(c,(function(t){return t.createSegmentIndex()}))),6);case 6:if(Bu(t),i)throw i;return r.return(u);case 3:return D(r),M(r,s.stop(),7);case 7:C(r,0)}}))}))}(t,e,r),2));case 2:if(o=i.s,Bu(t),!(!o.presentationTimeline.X()&&!o.presentationTimeline.bb()))throw new pt(2,9,9005,e);return a=null,s=new Ka,c=u=null,A(i,3,4),M(i,function(t,e,n){return m((function r(){var i,o,a;return R(r,(function(r){switch(r.j){case 1:return i=new he({Db:t.b,onError:n,yc:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),o=Oo(e.periods),a=t.a,i.configure(a.drm),M(r,function(t,e,n){return t.u=[],t.G=n,pe(t,e)}(i,o,a.offline.usePersistentLicense),2);case 2:return M(r,me(i),3);case 3:return M(r,ge(i),4);case 4:return r.return(i)}}))}))}(t,o,(function(t){c=c||t})),6);case 6:if(a=i.s,Bu(t),c)throw c;return M(i,function(t,e,n){return m((function r(){var i,o;return R(r,(function(r){switch(r.j){case 1:return i={width:1/0,height:1/0},function(t,e,n){for(var r=(t=d(t.periods)).next();!r.done;r=t.next())(r=r.value).variants=r.variants.filter((function(t){return jn.ld(t,e,n)}))}(e,t.a.restrictions,i),function(t){for(var e=(t=d(t.periods)).next();!e.done;e=t.next())(e=e.value).variants=e.variants.filter((function(t){var e=!0;return t.audio&&(e=e&&bn(t.audio)),t.video&&(e=e&&bn(t.video)),e}))}(e),function(t,e){for(var n=d(t.periods),r=n.next();!r.done;r=n.next())(r=r.value).variants=r.variants.filter((function(t){return Ae(e,t)}))}(e,n),Nu(e),o=t.a.preferredAudioChannelCount,jn.Vd(e,o),M(r,function(t,e){return m((function n(){var r,i,o,a;return R(n,(function(n){switch(n.j){case 1:r=null,i=d(t.periods),o=i.next();case 2:if(o.done){n.C(0);break}return a=o.value,r&&(a.variants=a.variants.filter((function(t){return Cu(r,new Lu(t))}))),M(n,e(a),5);case 5:r=Ou(a.variants),o=i.next(),n.C(2)}}))}))}(e,(function(e){return m((function n(){var r,i,o,a,s,u,c,l;return R(n,(function(n){switch(n.j){case 1:r=jn,i=[];for(var f=d(e.variants),h=f.next();!h.done;h=f.next())o=h.value,i.push(r.Qd(o));for(h=(f=d(e.textStreams)).next();!h.done;h=f.next())a=h.value,i.push(r.Fc(a));return M(n,t.a.offline.trackSelectionCallback(i),2);case 2:for(s=n.s,u=new Set,c=new Set,h=(f=d(s)).next();!h.done;h=f.next())"variant"==(l=h.value).type&&u.add(l.id),"text"==l.type&&c.add(l.id);e.variants=e.variants.filter((function(t){return u.has(t.id)})),e.textStreams=e.textStreams.filter((function(t){return c.has(t.id)})),I(n)}}))}))})),2);case 2:(function(t){if(0==t.periods.length)throw new pt(2,4,4014);for(var e=(t=d(t.periods)).next();!e.done;e=t.next())Gu(e.value)})(e),I(r)}}))}))}(t,o,a),7);case 7:return M(i,s.init(),8);case 8:return Bu(t),M(i,function(t){var e=null;if(t.a.forEach((function(t,n){t.getCells().forEach((function(t,r){t.hasFixedKeySpace()||e||(e={path:{Aa:n,fa:r},fa:t})}))})),e)return e;throw new pt(2,9,9013,"Could not find a cell that supports add-operations")}(s),9);case 9:return u=i.s,Bu(t),M(i,function(t,e,n,r,i,o){return m((function a(){var s,u,c,l,f,h,p,g,y,b;return R(a,(function(a){switch(a.j){case 1:return s=function(t,e,n){var r=null==e.expiration?1/0:e.expiration;return{offlineUri:null,originalManifestUri:t,duration:e.presentationTimeline.ca(),size:0,expiration:r,tracks:e=Eu(e.periods[0]),appMetadata:n}}(i,r,o),u=r.periods.some((function(t){return t.variants.some((function(t){return t.drmInfos&&t.drmInfos.length}))})),c=r.periods.some((function(t){return t.variants.some((function(t){return t.drmInfos.some((function(t){return t.initData&&t.initData.length}))}))})),f=null,(l=u&&!c)&&(h=n.a,f=Hu.get(h.keySystem)),p=new ja(t.b,(function(e,n){s.size=n,t.a.offline.progressCallback(s,e)}),(function(e,r){l&&t.a.offline.usePersistentLicense&&f==r&&ye(n,"cenc",e)})),k(a,2),y=g=function(t,e,n,r,i,o,a){var s=new Mu,u=i.periods.map((function(r){return function(t,e,n,r,i,o){for(var a=d(o.variants),s=a.next();!s.done;s=a.next())Iu(r,s.value);for(a=d(o.textStreams),s=a.next();!s.done;s=a.next())r.a[s.value.id]=52;a=function(t){for(var e=new Set,n=d(t.textStreams),r=n.next();!r.done;r=n.next())e.add(r.value);for(t=d(t.variants),n=t.next();!n.done;n=t.next())(n=n.value).audio&&e.add(n.audio),n.video&&e.add(n.video);return e}(o);var u=new Map;for(a=d(a),s=a.next();!s.done;s=a.next()){s=s.value;var c=zu(t,e,n,r,i,s);u.set(s.id,c)}return o.variants.forEach((function(t){t.audio&&u.get(t.audio.id).variantIds.push(t.id),t.video&&u.get(t.video.id).variantIds.push(t.id)})),{startTime:o.startTime,streams:Array.from(u.values())}}(t,e,n,s,i,r)})),c=r.a,l=t.a.offline.usePersistentLicense;return c&&l&&(c.initData=[]),{originalManifestUri:o,duration:i.presentationTimeline.ca(),size:0,expiration:r.Tb(),periods:u,sessionIds:l?we(r):[],drmInfo:c,appMetadata:a}}(t,p,e,n,r,i,o),M(a,function(t){return m((function e(){return R(e,(function(e){switch(e.j){case 1:return M(e,Promise.all(t.b.values()),2);case 2:return e.return(t.a.a)}}))}))}(p),4);case 4:if(y.size=a.s,g.expiration=n.Tb(),b=we(n),g.sessionIds=t.a.offline.usePersistentLicense?b:[],u&&t.a.offline.usePersistentLicense&&!b.length)throw new pt(2,9,9007);return a.return(g);case 2:return D(a),M(a,p.destroy(),5);case 5:C(a,0)}}))}))}(t,u.fa,a,o,e,n),10);case 10:if(l=i.s,Bu(t),c)throw c;return M(i,u.fa.addManifests([l]),11);case 11:return f=i.s,Bu(t),h=new os("manifest",u.path.Aa,u.path.fa,f[0]),i.return(xu(h,l));case 4:return D(i),t.f=!1,t.c=[],M(i,s.destroy(),12);case 12:if(!a){i.C(13);break}return M(i,a.destroy(),13);case 13:C(i,0);break;case 3:if(p=L(i),!u){i.C(15);break}return M(i,u.fa.removeSegments(t.c,(function(){})),15);case 15:throw c||p}}))}))}(this,t,e||{},(function(){return m((function e(){var i,o;return R(e,(function(e){switch(e.j){case 1:return n&&"string"!=typeof n?(Bn("Storing with a manifest parser factory","Please register a manifest parser and for the mime-type."),i=n,e.return(new i)):M(e,pi.create(t,r.b,r.a.manifest.retryParameters,n),2);case 2:return o=e.s,e.return(o)}}))}))})))},_u.prototype.store=_u.prototype.store,_u.prototype.yf=function(){return this.f},_u.prototype.getStoreInProgress=_u.prototype.yf,_u.prototype.remove=function(t){return Yu(this,function(t,e){return m((function n(){var r,i,o,a,s,u;return R(n,(function(n){switch(n.j){case 1:return Fu(),null==(r=as(e))||"manifest"!=r.a?n.return(Promise.reject(new pt(2,9,9004,e))):(i=r,o=new Ka,k(n,2),M(n,o.init(),4));case 4:return M(n,Qa(o,i.Aa(),i.fa()),5);case 5:return M(n,(a=n.s).getManifests([i.key()]),6);case 6:return s=n.s,u=s[0],M(n,Promise.all([Ru(t,u,o),Uu(t,a,i,u)]),2);case 2:return D(n),M(n,o.destroy(),8);case 8:C(n,0)}}))}))}(this,t))},_u.prototype.remove=_u.prototype.remove,_u.prototype.ig=function(){return Yu(this,function(t){return m((function e(){var n,r,i,o,a,s,u,c,l;return R(e,(function(e){switch(e.j){case 1:return Fu(),n=t.b,r=t.a.drm,i=new Ka,o=!1,k(e,2),M(e,i.init(),4);case 4:for(a=[],function(t,e){t.a.forEach((function(t){e(t.getEmeSessionCell())}))}(i,(function(t){return a.push(t)})),s=Promise.resolve(),u={},c=d(a),l=c.next();!l.done;u={Ec:u.Ec},l=c.next())u.Ec=l.value,s=s.then(function(t){return function(){return m((function e(){var i,a;return R(e,(function(e){switch(e.j){case 1:return M(e,t.Ec.getAll(),2);case 2:return i=e.s,M(e,ds(r,n,i),3);case 3:return a=e.s,M(e,t.Ec.remove(a),4);case 4:a.length!=i.length&&(o=!0),I(e)}}))}))}}(u));return M(e,s,2);case 2:return D(e),M(e,i.destroy(),6);case 6:C(e,3);break;case 3:return e.return(!o)}}))}))}(this))},_u.prototype.removeEmeSessions=_u.prototype.ig,_u.prototype.list=function(){return Yu(this,m((function t(){var e,n,r;return R(t,(function(t){switch(t.j){case 1:return Fu(),e=[],n=new Ka,k(t,2),M(t,n.init(),4);case 4:return r=Promise.resolve(),function(t,e){t.a.forEach((function(t,n){t.getCells().forEach((function(t,r){e({Aa:n,fa:r},t)}))}))}(n,(function(t,n){r=r.then((function(){return m((function r(){return R(r,(function(r){switch(r.j){case 1:return M(r,n.getAllManifests(),2);case 2:r.s.forEach((function(n,r){var i=xu(new os("manifest",t.Aa,t.fa,r),n);e.push(i)})),I(r)}}))}))}))})),M(t,r,2);case 2:return D(t),M(t,n.destroy(),6);case 6:C(t,3);break;case 3:return t.return(e)}}))})))},_u.prototype.list=_u.prototype.list,_u.deleteAll=function(){return m((function t(){var e;return R(t,(function(t){switch(t.j){case 1:return e=new Ka,k(t,2),M(t,e.erase(),2);case 2:return D(t),M(t,e.destroy(),5);case 5:C(t,0)}}))}))};var Hu=(new Map).set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.adobe.primetime","f239e769efa348509c16a903c6932efb");_s.offline=Pu,G("shaka.polyfill.installAll",(function(){for(var t=0;t<Zu.length;++t)try{Zu[t].Qe()}catch(t){Q.Z("Error installing polyfill!",t)}}));var Wu,Vu,Zu=[];function Ku(t,e){for(var n={priority:e=e||0,Qe:t},r=0;r<Zu.length;r++)if(Zu[r].priority<e)return void Zu.splice(r,0,n);Zu.push(n)}function Qu(t){var e=t.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if("function"==typeof Event)var n=new Event(e,t);else(n=document.createEvent("Event")).initEvent(e,t.bubbles,t.cancelable);t.target.dispatchEvent(n)}function Xu(t,e,n){if("input"==t)switch(this.type){case"range":t="change"}HTMLInputElement.prototype.originalAddEventListener.call(this,t,e,n)}function Ju(){var t=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(e){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];return(n=t.apply(this,n)).abort=function(){},n}}function qu(t,e){Q.debug("PatchedMediaKeysApple.requestMediaKeySystemAccess");try{var n=new $u(t,e);return Promise.resolve(n)}catch(t){return Promise.reject(t)}}function $u(t,e){if(Q.debug("PatchedMediaKeysApple.MediaKeySystemAccess"),this.keySystem=t,t.startsWith("com.apple.fps"))for(var n=d(e),r=n.next();!r.done;r=n.next()){var i=r.value;if("required"==i.persistentState)r=null;else{r={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label};var o=!1,a=!1;if(i.audioCapabilities)for(var s=d(i.audioCapabilities),u=s.next();!u.done;u=s.next())if((u=u.value).contentType){o=!0;var c=u.contentType.split(";")[0];WebKitMediaKeys.isTypeSupported(this.keySystem,c)&&(r.audioCapabilities.push(u),a=!0)}if(i.videoCapabilities)for(u=(i=d(i.videoCapabilities)).next();!u.done;u=i.next())(s=u.value).contentType&&(o=!0,u=s.contentType.split(";")[0],WebKitMediaKeys.isTypeSupported(this.keySystem,u)&&(r.videoCapabilities.push(s),a=!0));o||(a=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),r=a?r:null}if(r)return void(this.a=r)}throw(n=Error("Unsupported keySystem")).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function tc(t){Q.debug("PatchedMediaKeysApple.setMediaKeys");var e=this.mediaKeys;return e&&e!=t&&nc(e,null),delete this.mediaKeys,(this.mediaKeys=t)?nc(t,this):Promise.resolve()}function ec(t){Q.debug("PatchedMediaKeysApple.MediaKeys"),this.b=new WebKitMediaKeys(t),this.a=new Ut}function nc(t,e){if(t.a.hb(),!e)return Promise.resolve();t.a.B(e,"webkitneedkey",ic);try{return Uo(e,HTMLMediaElement.HAVE_METADATA,t.a,(function(){e.webkitSetMediaKeys(t.b)})),Promise.resolve()}catch(t){return Promise.reject(t)}}function rc(t){Q.debug("PatchedMediaKeysApple.MediaKeySession"),Et.call(this),this.b=null,this.g=t,this.c=this.a=null,this.f=new Ut,this.sessionId="",this.expiration=NaN,this.closed=new mt,this.keyStatuses=new ac}function ic(t){if(Q.debug("PatchedMediaKeysApple.onWebkitNeedKey_",t),t=new Uint8Array(t.initData),new DataView(t.buffer,t.byteOffset,t.byteLength).getUint32(0,!0)+4!=t.byteLength)throw new RangeError("Malformed FairPlay init data");t=se(t=oe(t.subarray(4),!0));var e=new Event("encrypted");e.initDataType="skd",e.initData=t,this.dispatchEvent(e)}function oc(t,e){var n=t.keyStatuses;n.size=null==e?0:1,n.a=e,t.dispatchEvent(new St("keystatuseschange"))}function ac(){this.size=0,this.a=void 0}function sc(t,e){Q.debug("PatchedMediaKeysMs.requestMediaKeySystemAccess");try{var n=new uc(t,e);return Promise.resolve(n)}catch(t){return Promise.reject(t)}}function uc(t,e){Q.debug("PatchedMediaKeysMs.MediaKeySystemAccess"),this.keySystem=t;for(var n=!1,r=0;r<e.length;++r){var i=e[r],o={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label},a=!1;if(i.audioCapabilities)for(var s=0;s<i.audioCapabilities.length;++s){var u=i.audioCapabilities[s];if(u.contentType){a=!0;var c=u.contentType.split(";")[0];MSMediaKeys.isTypeSupported(this.keySystem,c)&&(o.audioCapabilities.push(u),n=!0)}}if(i.videoCapabilities)for(s=0;s<i.videoCapabilities.length;++s)(u=i.videoCapabilities[s]).contentType&&(a=!0,c=u.contentType.split(";")[0],MSMediaKeys.isTypeSupported(this.keySystem,c)&&(o.videoCapabilities.push(u),n=!0));if(a||(n=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),"required"==i.persistentState&&(n=!1),n)return void(this.a=o)}throw(n=Error("Unsupported keySystem")).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function cc(t){Q.debug("PatchedMediaKeysMs.setMediaKeys");var e=this.mediaKeys;return e&&e!=t&&fc(e,null),delete this.mediaKeys,(this.mediaKeys=t)?fc(t,this):Promise.resolve()}function lc(t){Q.debug("PatchedMediaKeysMs.MediaKeys"),this.b=new MSMediaKeys(t),this.a=new Ut}function fc(t,e){if(t.a.hb(),!e)return Promise.resolve();t.a.B(e,"msneedkey",dc);try{return Uo(e,HTMLMediaElement.HAVE_METADATA,t.a,(function(){e.msSetMediaKeys(t.b)})),Promise.resolve()}catch(t){return Promise.reject(t)}}function hc(t){Q.debug("PatchedMediaKeysMs.MediaKeySession"),Et.call(this),this.c=null,this.g=t,this.b=this.a=null,this.f=new Ut,this.sessionId="",this.expiration=NaN,this.closed=new mt,this.keyStatuses=new mc}function dc(t){if(Q.debug("PatchedMediaKeysMs.onMsNeedKey_",t),t.initData){var e=document.createEvent("CustomEvent");e.initCustomEvent("encrypted",!1,!1,null),e.initDataType="cenc",e.initData=function(t){if(!t)return t;var e=new Rr(t);if(1>=e.data.length)return t;t=[];for(var n={},r=(e=d(e.data)).next();!r.done;n={tc:n.tc},r=e.next())n.tc=r.value,t.some(function(t){return function(e){return fe.Da(e,t.tc)}}(n))||t.push(n.tc);return fe.concat.apply(fe,t instanceof Array?t:function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(d(t)))}(t.initData).buffer,this.dispatchEvent(e)}}function pc(t,e){var n=t.keyStatuses;n.size=null==e?0:1,n.a=e,t.dispatchEvent(new St("keystatuseschange"))}function mc(){this.size=0,this.a=void 0}function gc(){return Q.debug("PatchedMediaKeysNop.requestMediaKeySystemAccess"),Promise.reject(Error("The key system specified is not supported."))}function yc(t){return Q.debug("PatchedMediaKeysNop.setMediaKeys"),null==t?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}function bc(){throw new TypeError("Illegal constructor.")}function vc(){throw new TypeError("Illegal constructor.")}G("shaka.polyfill.register",Ku),Ku((function(){Ll()}),-1),Ku((function(){if(t.Document){var e=Element.prototype;e.requestFullscreen=e.requestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen||e.webkitRequestFullscreen,(e=Document.prototype).exitFullscreen=e.exitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen||e.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",Qu),document.addEventListener("webkitfullscreenerror",Qu),document.addEventListener("mozfullscreenchange",Qu),document.addEventListener("mozfullscreenerror",Qu),document.addEventListener("MSFullscreenChange",Qu),document.addEventListener("MSFullscreenError",Qu)}})),Ku((function(){Q.debug("IndexedDB.install");var e=!1;if(te("CrKey"))Q.debug("Removing IndexedDB from ChromeCast"),e=!0;else try{t.indexedDB&&(e=!1)}catch(t){Q.debug("Removing IndexedDB due to an exception when accessing it"),e=!0}e&&delete t.indexedDB})),Ku((function(){Q.debug("InputEvent.install"),te("Trident/")&&!HTMLInputElement.prototype.originalAddEventListener&&(Q.info("Patching input event support on IE."),HTMLInputElement.prototype.originalAddEventListener=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=Xu)})),Ku((function(){navigator.languages||Object.defineProperty(navigator,"languages",{get:function(){return navigator.language?[navigator.language]:["en"]}})})),Ku((function(){Q.debug("mathRound.install")})),Ku((function(){Q.debug("MediaSource.install");var e=$t();t.MediaSource?t.cast&&cast.__platform__&&cast.__platform__.canDisplayType?(Q.info("Patching Chromecast MSE bugs."),function(){var t=MediaSource.isTypeSupported,e=/^dv(?:h[e1]|a[v1])\./;MediaSource.isTypeSupported=function(n){for(var r=n.split(/ *; */),i=r[0],o={},a=1;a<r.length;++a){var s=r[a].split("="),u=s[0];s=s[1].replace(/"(.*)"/,"$1"),o[u]=s}if(!(r=o.codecs))return t(n);var c=!1,l=!1;for(var f in n=r.split(",").filter((function(t){return e.test(t)&&(l=!0),/^(hev|hvc)1\.2/.test(t)&&(c=!0),!0})),l&&(c=!1),o.codecs=n.join(","),c&&(o.eotf="smpte2084"),o)i+="; "+f+'="'+o[f]+'"';return cast.__platform__.canDisplayType(i)}}()):e?(function(){var t=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(e){return"mp2t"!=e.split(/ *; */)[0].split("/")[1].toLowerCase()&&t(e)}}(),12>=e?(Q.info("Patching Safari 11 & 12 MSE bugs."),Ju(),function(){var t=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(e,n){return t.call(this,e,n-.001)}}()):(Q.info("Patching Safari 13 MSE bugs."),Ju())):te("Tizen 2")||te("Tizen 3")||te("Tizen 4")?function(){var t=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(e){return"opus"!=Kt(e)[0]&&t(e)}}():Q.info("Using native MSE as-is."):Q.info("No MSE implementation available.")})),$u.prototype.createMediaKeys=function(){Q.debug("PatchedMediaKeysApple.MediaKeySystemAccess.createMediaKeys");var t=new ec(this.keySystem);return Promise.resolve(t)},$u.prototype.getConfiguration=function(){return Q.debug("PatchedMediaKeysApple.MediaKeySystemAccess.getConfiguration"),this.a},ec.prototype.createSession=function(t){if(Q.debug("PatchedMediaKeysApple.MediaKeys.createSession"),"temporary"!=(t=t||"temporary"))throw new TypeError("Session type "+t+" is unsupported on this platform.");return new rc(this.b,t)},ec.prototype.setServerCertificate=function(t){return Q.debug("PatchedMediaKeysApple.MediaKeys.setServerCertificate"),t&&new Uint8Array(t),Promise.resolve(!0)},H(rc,Et),(i=rc.prototype).generateRequest=function(t,e){Q.debug("PatchedMediaKeysApple.MediaKeySession.generateRequest"),this.a=new mt;try{this.b=this.g.createSession("video/mp4",new Uint8Array(e)),this.sessionId=this.b.sessionId||"",this.f.B(this.b,"webkitkeymessage",this.yg.bind(this)),this.f.B(this.b,"webkitkeyadded",this.wg.bind(this)),this.f.B(this.b,"webkitkeyerror",this.xg.bind(this)),oc(this,"status-pending")}catch(t){this.a.reject(t)}return this.a},i.load=function(){return Q.debug("PatchedMediaKeysApple.MediaKeySession.load"),Promise.reject(Error("MediaKeySession.load not yet supported"))},i.update=function(t){Q.debug("PatchedMediaKeysApple.MediaKeySession.update"),this.c=new mt;try{this.b.update(new Uint8Array(t))}catch(t){this.c.reject(t)}return this.c},i.close=function(){Q.debug("PatchedMediaKeysApple.MediaKeySession.close");try{this.b.close(),this.closed.resolve(),this.f.hb()}catch(t){this.closed.reject(t)}return this.closed},i.remove=function(){return Q.debug("PatchedMediaKeysApple.MediaKeySession.remove"),Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},i.yg=function(t){Q.debug("PatchedMediaKeysApple.onWebkitKeyMessage_",t),this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new St("message",{messageType:null==this.keyStatuses.a?"license-request":"license-renewal",message:t.message.buffer}))},i.wg=function(t){Q.debug("PatchedMediaKeysApple.onWebkitKeyAdded_",t),this.c&&(oc(this,"usable"),this.c.resolve(),this.c=null)},i.xg=function(t){if(Q.debug("PatchedMediaKeysApple.onWebkitKeyError_",t),(t=Error("EME PatchedMediaKeysApple key error")).errorCode=this.b.error,null!=this.a)this.a.reject(t),this.a=null;else if(null!=this.c)this.c.reject(t),this.c=null;else switch(this.b.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:oc(this,"output-not-allowed");break;default:oc(this,"internal-error")}},(i=ac.prototype).forEach=function(t){this.a&&t(this.a,Wu)},i.get=function(t){if(this.has(t))return this.a},i.has=function(t){var e=Wu;return!(!this.a||!fe.Da(new Uint8Array(t),new Uint8Array(e)))},i.entries=function(){},i.keys=function(){},i.values=function(){},Ku((function(){t.HTMLVideoElement&&t.WebKitMediaKeys&&(Q.info("Using Apple-prefixed EME"),Wu=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=tc,t.MediaKeys=ec,t.MediaKeySystemAccess=$u,navigator.requestMediaKeySystemAccess=qu)})),uc.prototype.createMediaKeys=function(){Q.debug("PatchedMediaKeysMs.MediaKeySystemAccess.createMediaKeys");var t=new lc(this.keySystem);return Promise.resolve(t)},uc.prototype.getConfiguration=function(){return Q.debug("PatchedMediaKeysMs.MediaKeySystemAccess.getConfiguration"),this.a},lc.prototype.createSession=function(t){if(Q.debug("PatchedMediaKeysMs.MediaKeys.createSession"),"temporary"!=(t=t||"temporary"))throw new TypeError("Session type "+t+" is unsupported on this platform.");return new hc(this.b,t)},lc.prototype.setServerCertificate=function(){return Q.debug("PatchedMediaKeysMs.MediaKeys.setServerCertificate"),Promise.resolve(!1)},H(hc,Et),(i=hc.prototype).generateRequest=function(t,e){Q.debug("PatchedMediaKeysMs.MediaKeySession.generateRequest"),this.a=new mt;try{this.c=this.g.createSession("video/mp4",new Uint8Array(e),null),this.f.B(this.c,"mskeymessage",this.Uf.bind(this)),this.f.B(this.c,"mskeyadded",this.Sf.bind(this)),this.f.B(this.c,"mskeyerror",this.Tf.bind(this)),pc(this,"status-pending")}catch(t){this.a.reject(t)}return this.a},i.load=function(){return Q.debug("PatchedMediaKeysMs.MediaKeySession.load"),Promise.reject(Error("MediaKeySession.load not yet supported"))},i.update=function(t){Q.debug("PatchedMediaKeysMs.MediaKeySession.update"),this.b=new mt;try{this.c.update(new Uint8Array(t))}catch(t){this.b.reject(t)}return this.b},i.close=function(){Q.debug("PatchedMediaKeysMs.MediaKeySession.close");try{this.c.close(),this.closed.resolve(),this.f.hb()}catch(t){this.closed.reject(t)}return this.closed},i.remove=function(){return Q.debug("PatchedMediaKeysMs.MediaKeySession.remove"),Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},i.Uf=function(t){Q.debug("PatchedMediaKeysMs.onMsKeyMessage_",t),this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new St("message",{messageType:null==this.keyStatuses.a?"license-request":"license-renewal",message:t.message.buffer}))},i.Sf=function(t){Q.debug("PatchedMediaKeysMs.onMsKeyAdded_",t),this.a?(Q.debug("Simulating completion for a PR persistent license."),pc(this,"usable"),this.a.resolve(),this.a=null):this.b&&(pc(this,"usable"),this.b.resolve(),this.b=null)},i.Tf=function(t){if(Q.debug("PatchedMediaKeysMs.onMsKeyError_",t),(t=Error("EME PatchedMediaKeysMs key error")).errorCode=this.c.error,null!=this.a)this.a.reject(t),this.a=null;else if(null!=this.b)this.b.reject(t),this.b=null;else switch(this.c.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:pc(this,"output-not-allowed");break;default:pc(this,"internal-error")}},(i=mc.prototype).forEach=function(t){this.a&&t(this.a,Vu)},i.get=function(t){if(this.has(t))return this.a},i.has=function(t){var e=Vu;return!(!this.a||!fe.Da(new Uint8Array(t),new Uint8Array(e)))},i.entries=function(){},i.keys=function(){},i.values=function(){},Ku((function(){!t.HTMLVideoElement||!t.MSMediaKeys||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(Q.info("Using ms-prefixed EME v20140218"),Vu=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=cc,t.MediaKeys=lc,t.MediaKeySystemAccess=uc,navigator.requestMediaKeySystemAccess=sc)})),bc.prototype.createSession=function(){},bc.prototype.setServerCertificate=function(){},vc.prototype.getConfiguration=function(){},vc.prototype.createMediaKeys=function(){},Ku((function(){!t.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(Q.info("EME not available."),navigator.requestMediaKeySystemAccess=gc,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=yc,t.MediaKeys=bc,t.MediaKeySystemAccess=vc)}),-10);var wc,Tc="";function Sc(t){return Tc?Tc+t.charAt(0).toUpperCase()+t.slice(1):t}function xc(t,e){Q.debug("PatchedMediaKeysWebkit.requestMediaKeySystemAccess");try{var n=new Mc(t,e);return Promise.resolve(n)}catch(t){return Promise.reject(t)}}function Ec(t){Q.debug("PatchedMediaKeysWebkit.setMediaKeys");var e=this.mediaKeys;return e&&e!=t&&Ac(e,null),delete this.mediaKeys,(this.mediaKeys=t)&&Ac(t,this),Promise.resolve()}function Mc(t,e){Q.debug("PatchedMediaKeysWebkit.MediaKeySystemAccess"),this.a=this.keySystem=t;var n=!1;"org.w3.clearkey"==t&&(this.a="webkit-org.w3.clearkey",n=!1);var r=!1,i=document.getElementsByTagName("video");i=i.length?i[0]:document.createElement("video");for(var o=0;o<e.length;++o){var a=e[o],s={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:a.initDataTypes,sessionTypes:["temporary"],label:a.label},u=!1;if(a.audioCapabilities)for(var c=0;c<a.audioCapabilities.length;++c){var l=a.audioCapabilities[c];if(l.contentType){u=!0;var f=l.contentType.split(";")[0];i.canPlayType(f,this.a)&&(s.audioCapabilities.push(l),r=!0)}}if(a.videoCapabilities)for(c=0;c<a.videoCapabilities.length;++c)(l=a.videoCapabilities[c]).contentType&&(u=!0,i.canPlayType(l.contentType,this.a)&&(s.videoCapabilities.push(l),r=!0));if(u||(r=i.canPlayType("video/mp4",this.a)||i.canPlayType("video/webm",this.a)),"required"==a.persistentState&&(n?(s.persistentState="required",s.sessionTypes=["persistent-license"]):r=!1),r)return void(this.b=s)}throw n="Unsupported keySystem","org.w3.clearkey"!=t&&"com.widevine.alpha"!=t||(n="None of the requested configurations were supported."),(n=Error(n)).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function Ic(t){Q.debug("PatchedMediaKeysWebkit.MediaKeys"),this.g=t,this.b=null,this.a=new Ut,this.c=[],this.f={}}function Ac(t,e){t.b=e,t.a.hb();var n=Tc;e&&(t.a.B(e,n+"needkey",t.Yf.bind(t)),t.a.B(e,n+"keymessage",t.Bg.bind(t)),t.a.B(e,n+"keyadded",t.zg.bind(t)),t.a.B(e,n+"keyerror",t.Ag.bind(t)))}function kc(t,e){var n=t.f[e];return n?(Q.debug("PatchedMediaKeysWebkit.MediaKeys.findSession_",n),n):(n=t.c.shift())?(n.sessionId=e,t.f[e]=n,Q.debug("PatchedMediaKeysWebkit.MediaKeys.findSession_",n),n):null}function Nc(t,e,n){Q.debug("PatchedMediaKeysWebkit.MediaKeySession"),Et.call(this),this.f=t,this.h=!1,this.a=this.b=null,this.c=e,this.g=n,this.sessionId="",this.expiration=NaN,this.closed=new mt,this.keyStatuses=new Cc}function Lc(t,e,n){if(t.h)return Promise.reject(Error("The session is already initialized."));t.h=!0;try{if("persistent-license"==t.g)if(n)var r=new Uint8Array(se("LOAD_SESSION|"+n));else{var i=se("PERSISTENT|"),o=new Uint8Array(i.byteLength+e.byteLength);o.set(new Uint8Array(i),0),o.set(new Uint8Array(e),i.byteLength),r=o}else r=new Uint8Array(e)}catch(t){return Promise.reject(t)}t.b=new mt;var a=Sc("generateKeyRequest");try{t.f[a](t.c,r)}catch(e){if("InvalidStateError"!=e.name)return t.b=null,Promise.reject(e);new ft((function(){try{t.f[a](t.c,r)}catch(e){t.b.reject(e),t.b=null}})).T(.01)}return t.b}function Dc(t,e){var n=t.keyStatuses;n.size=null==e?0:1,n.a=e,t.dispatchEvent(new St("keystatuseschange"))}function Cc(){this.size=0,this.a=void 0}function Oc(t){if("picture-in-picture"==(t=t.target).webkitPresentationMode){document.pictureInPictureElement=t;var e=new Event("enterpictureinpicture");t.dispatchEvent(e)}else document.pictureInPictureElement==t&&(document.pictureInPictureElement=null),e=new Event("leavepictureinpicture"),t.dispatchEvent(e)}function _c(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function Pc(){var t=document.pictureInPictureElement;return t?(t.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function jc(){return!!this.hasAttribute("disablePictureInPicture")||!this.webkitSupportsPresentationMode("picture-in-picture")}function Rc(t){t?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}function Uc(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function zc(e,n,r){return new t.TextTrackCue(e,n,r)}function Bc(e,n,r){return new t.TextTrackCue(e+"-"+n+"-"+r,e,n,r)}function Fc(){}Mc.prototype.createMediaKeys=function(){Q.debug("PatchedMediaKeysWebkit.MediaKeySystemAccess.createMediaKeys");var t=new Ic(this.a);return Promise.resolve(t)},Mc.prototype.getConfiguration=function(){return Q.debug("PatchedMediaKeysWebkit.MediaKeySystemAccess.getConfiguration"),this.b},(i=Ic.prototype).createSession=function(t){if(Q.debug("PatchedMediaKeysWebkit.MediaKeys.createSession"),"temporary"!=(t=t||"temporary")&&"persistent-license"!=t)throw new TypeError("Session type "+t+" is unsupported on this platform.");var e=this.b||document.createElement("video");return e.src||(e.src="about:blank"),t=new Nc(e,this.g,t),this.c.push(t),t},i.setServerCertificate=function(){return Q.debug("PatchedMediaKeysWebkit.MediaKeys.setServerCertificate"),Promise.resolve(!1)},i.Yf=function(t){Q.debug("PatchedMediaKeysWebkit.onWebkitNeedKey_",t);var e=document.createEvent("CustomEvent");e.initCustomEvent("encrypted",!1,!1,null),e.initDataType="cenc",t.initData instanceof ArrayBuffer?e.initData=t.initData:e.initData=t.initData.buffer,this.b.dispatchEvent(e)},i.Bg=function(t){Q.debug("PatchedMediaKeysWebkit.onWebkitKeyMessage_",t);var e=kc(this,t.sessionId);e?(t=new St("message",{messageType:null==e.keyStatuses.a?"licenserequest":"licenserenewal",message:t.message}),Q.debug("PatchedMediaKeysWebkit.MediaKeySession.generated"),e.b&&(e.b.resolve(),e.b=null),e.dispatchEvent(t)):Q.error("Session not found",t.sessionId)},i.zg=function(t){Q.debug("PatchedMediaKeysWebkit.onWebkitKeyAdded_",t),(t=kc(this,t.sessionId))&&(Q.debug("PatchedMediaKeysWebkit.MediaKeySession.ready"),Dc(t,"usable"),t.a&&t.a.resolve(),t.a=null)},i.Ag=function(t){Q.debug("PatchedMediaKeysWebkit.onWebkitKeyError_",t);var e=kc(this,t.sessionId);e&&e.handleError(t)},H(Nc,Et),(i=Nc.prototype).handleError=function(t){Q.debug("PatchedMediaKeysWebkit.MediaKeySession.handleError",t);var e=Error("EME v0.1b key error"),n=t.errorCode;n.systemCode=t.systemCode,e.errorCode=n,!t.sessionId&&this.b?(45==t.systemCode&&(e.message="Unsupported session type."),this.b.reject(e),this.b=null):t.sessionId&&this.a?(this.a.reject(e),this.a=null):(e=t.systemCode,t.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?Dc(this,"output-restricted"):Dc(this,1==e?"expired":"internal-error"))},i.Kd=function(t,e){if(this.a)this.a.then(this.Kd.bind(this,t,e)).catch(this.Kd.bind(this,t,e));else{if(this.a=t,"webkit-org.w3.clearkey"==this.c){var n=ie(e),r=JSON.parse(n);"oct"!=r.keys[0].kty&&(this.a.reject(Error("Response is not a valid JSON Web Key Set.")),this.a=null),n=fe.Fa(r.keys[0].k),r=fe.Fa(r.keys[0].kid)}else n=new Uint8Array(e),r=null;var i=Sc("addKey");try{this.f[i](this.c,n,r,this.sessionId)}catch(t){this.a.reject(t),this.a=null}}},i.generateRequest=function(t,e){return Q.debug("PatchedMediaKeysWebkit.MediaKeySession.generateRequest"),Lc(this,e,null)},i.load=function(t){return Q.debug("PatchedMediaKeysWebkit.MediaKeySession.load"),"persistent-license"==this.g?Lc(this,null,t):Promise.reject(Error("Not a persistent session."))},i.update=function(t){Q.debug("PatchedMediaKeysWebkit.MediaKeySession.update",t);var e=new mt;return this.Kd(e,t),e},i.close=function(){if(Q.debug("PatchedMediaKeysWebkit.MediaKeySession.close"),"persistent-license"!=this.g){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var t=Sc("cancelKeyRequest");try{this.f[t](this.c,this.sessionId)}catch(t){}}return this.closed.resolve(),this.closed},i.remove=function(){return Q.debug("PatchedMediaKeysWebkit.MediaKeySession.remove"),"persistent-license"!=this.g?Promise.reject(Error("Not a persistent session.")):this.close()},(i=Cc.prototype).forEach=function(t){this.a&&t(this.a,wc)},i.get=function(t){if(this.has(t))return this.a},i.has=function(t){var e=wc;return!(!this.a||!fe.Da(new Uint8Array(t),new Uint8Array(e)))},i.entries=function(){},i.keys=function(){},i.values=function(){},Ku((function(){if(!(!t.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)Q.info("Using webkit-prefixed EME v0.1b"),Tc="webkit";else{if(!HTMLMediaElement.prototype.generateKeyRequest)return;Q.info("Using nonprefixed EME v0.1b")}wc=new Uint8Array([0]).buffer,navigator.requestMediaKeySystemAccess=xc,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Ec,t.MediaKeys=Ic,t.MediaKeySystemAccess=Mc}})),Ku((function(){if(t.HTMLVideoElement){var e=HTMLVideoElement.prototype;e.requestPictureInPicture&&document.exitPictureInPicture||!e.webkitSupportsPresentationMode||(Q.debug("PiPWebkit.install"),document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,e.requestPictureInPicture=_c,Object.defineProperty(e,"disablePictureInPicture",{get:jc,set:Rc,enumerable:!0,configurable:!0}),document.exitPictureInPicture=Pc,document.addEventListener("webkitpresentationmodechanged",Oc,!0))}})),Ku((function(){if(Q.debug("VideoPlayPromise.install"),t.HTMLMediaElement){var e=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var t=e.apply(this);return t&&t.catch((function(){})),t}}})),Ku((function(){if(t.HTMLVideoElement){var e=HTMLVideoElement.prototype;!e.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in e&&(e.getVideoPlaybackQuality=Uc)}})),Ku((function(){if(t.VTTCue)Q.info("Using native VTTCue.");else if(t.TextTrackCue){var e=TextTrackCue.length;if(3==e)Q.info("Using VTTCue polyfill from 3 argument TextTrackCue."),t.VTTCue=zc;else if(6==e)Q.info("Using VTTCue polyfill from 6 argument TextTrackCue."),t.VTTCue=Bc;else{try{var n=!!zc(1,2,"")}catch(t){n=!1}n&&(Q.info("Using VTTCue polyfill from 3 argument TextTrackCue."),t.VTTCue=zc)}}else Q.error("VTTCue not available.")})),G("shaka.text.TtmlTextParser",Fc),Fc.prototype.parseInit=function(){},Fc.prototype.parseInit=Fc.prototype.parseInit,Fc.prototype.parseMedia=function(t,e){var n=ie(t),r=[],i=new DOMParser,o=null;if(""==n)return r;try{o=i.parseFromString(n,"text/xml")}catch(t){throw new pt(2,2,2005,"Failed to parse TTML.")}if(o){if(n=o.getElementsByTagName("parsererror")[0])throw new pt(2,2,2005,n.textContent);if(!(i=o.getElementsByTagName("tt")[0]))throw new pt(2,2,2005,"TTML does not contain <tt> tag.");var a=Ur.getAttributeNS(i,"http://www.w3.org/ns/ttml#parameter","frameRate"),s=Ur.getAttributeNS(i,"http://www.w3.org/ns/ttml#parameter","subFrameRate"),u=Ur.getAttributeNS(i,"http://www.w3.org/ns/ttml#parameter","frameRateMultiplier"),c=Ur.getAttributeNS(i,"http://www.w3.org/ns/ttml#parameter","tickRate");if(o=i.getAttribute("xml:space")||"default",n=i.getAttribute("tts:extent"),"default"!=o&&"preserve"!=o)throw new pt(2,2,2005,"Invalid xml:space value: "+o);o="default"==o,a=new ll(a,s,u,c),s=el(i.getElementsByTagName("metadata")[0]),u=el(i.getElementsByTagName("styling")[0]),c=el(i.getElementsByTagName("layout")[0]);for(var l=[],f=0;f<c.length;f++){var h,p,m=c[f],g=u,y=n,b=new un,v=m.getAttribute("xml:id");if(v)b.id=v,v=null,y&&(v=Hc.exec(y)||Vc.exec(y)),y=v?Number(v[1]):null,v=v?Number(v[2]):null,(h=ol(m,g,"extent"))&&(null!=(h=(p=Hc.exec(h))||Vc.exec(h))&&(b.width=null!=y?100*Number(h[1])/y:Number(h[1]),b.height=null!=v?100*Number(h[2])/v:Number(h[2]),b.widthUnits=p||null!=y?cn:0,b.heightUnits=p||null!=v?cn:0)),(m=ol(m,g,"origin"))&&(null!=(h=(p=Hc.exec(m))||Vc.exec(m))&&(b.viewportAnchorX=null!=v?100*Number(h[1])/v:Number(h[1]),b.viewportAnchorY=null!=y?100*Number(h[2])/y:Number(h[2]),b.viewportAnchorUnits=p||null!=y?cn:0));else Q.m("TtmlTextParser parser encountered a region with no id. Region will be ignored."),b=null;b&&l.push(b)}for(n=function t(e){if(!e)return[];for(var n=[],r=(e=d(e.childNodes)).next();!r.done;r=e.next())(r=r.value)instanceof Element&&(r.hasAttribute("begin")?n.push(r):n=n.concat(t(r)));return n}(i.getElementsByTagName("body")[0]),i=(n=d(n)).next();!i.done;i=n.next())(i=nl(i.value,e.periodStart,a,s,u,c,l,o,!1))&&r.push(i)}return r},Fc.prototype.parseMedia=Fc.prototype.parseMedia;var Yc,Gc,Hc=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,Wc=/^(\d+px|\d+em)$/,Vc=/^(\d+)px (\d+)px$/,Zc=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Kc=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,Qc=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,Xc=/^(\d*(?:\.\d*)?)f$/,Jc=/^(\d*(?:\.\d*)?)t$/,qc=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,$c={left:nn,center:"center",right:"end",start:nn,end:"end"},tl={left:"line-left",center:"center",right:"line-right"};function el(t){var e=[];if(!t)return e;for(var n=d(t.childNodes),r=n.next();!r.done;r=n.next())(r=r.value).nodeType==Node.ELEMENT_NODE&&"br"!==r.nodeName&&(r=el(r),e=e.concat(r));return e.length||e.push(t),e}function nl(t,e,n,r,i,o,a,s,u){if(u&&"br"==t.nodeName)return(t=new Ze(0,0,"")).spacer=!0,t;var c=/^[\s\n]*$/.test(t.textContent),l=t.nodeType==Node.ELEMENT_NODE&&!t.hasAttribute("begin")&&!t.hasAttribute("end");if(t.nodeType!=Node.ELEMENT_NODE||l&&c||l&&!u)return null;c=ul(t.getAttribute("begin"),n),l=ul(t.getAttribute("end"),n);var f=ul(t.getAttribute("dur"),n);if(null==l&&null!=f&&(l=c+f),!u&&(null==c||null==l))throw new pt(2,2,2001);if(c=u&&null==c?0:c+e,l=u&&null==l?0:l+e,f="",u=[],Array.from(t.childNodes).find((function(t){return t.nodeType===Node.TEXT_NODE&&/\S+/.test(t.textContent)})))f=function t(e,n){for(var r="",i=d(e.childNodes),o=i.next();!o.done;o=i.next())"br"==(o=o.value).nodeName&&e.childNodes[0]!==o?r+="\n":o.childNodes&&0<o.childNodes.length?r+=t(o,n):n?r+=o=(o=o.textContent.trim()).replace(/\s+/g," "):r+=o.textContent;return r}(t,s);else for(var h=d(t.childNodes),p=h.next();!p.done;p=h.next())(p=nl(p.value,e,n,r,i,o,a,s,!0))&&(p.startTime=p.startTime||c,p.endTime=p.endTime||l,u.push(p));if((e=new Ze(c,l,f)).nestedCues=u,(o=sl(t,"region",o,"")[0])&&o.getAttribute("xml:id")){var m=o.getAttribute("xml:id");e.region=a.filter((function(t){return t.id==m}))[0]}return function(t,e,n,r,i){"rtl"==il(e,n,i,"direction")&&(t.direction="rtl");var o=il(e,n,i,"writingMode");"tb"==o||"tblr"==o?t.writingMode="vertical-lr":"tbrl"==o?t.writingMode="vertical-rl":"rltb"==o||"rl"==o?t.direction="rtl":o&&(t.direction=$e),(o=il(e,n,i,"textAlign"))?(t.positionAlign=tl[o],t.lineAlign=$c[o],t.textAlign=Xe[o.toUpperCase()]):t.textAlign="start",(o=il(e,n,i,"displayAlign"))&&(t.displayAlign=qe[o.toUpperCase()]);(o=il(e,n,i,"color"))&&(t.color=o);(o=il(e,n,i,"backgroundColor"))&&(t.backgroundColor=o);(o=il(e,n,i,"fontFamily"))&&(t.fontFamily=o);(o=il(e,n,i,"fontWeight"))&&"bold"==o&&(t.fontWeight=700),(o=il(e,n,i,"wrapOption"))&&"noWrap"==o&&(t.wrapLine=!1),(o=il(e,n,i,"lineHeight"))&&o.match(Wc)&&(t.lineHeight=o),(o=il(e,n,i,"fontSize"))&&o.match(Wc)&&(t.fontSize=o),(o=il(e,n,i,"fontStyle"))&&(t.fontStyle=sn[o.toUpperCase()]);if(r){o=r.getAttribute("imagetype");var a=r.getAttribute("encoding");r=r.textContent.trim(),"PNG"==o&&"Base64"==a&&r&&(t.backgroundImage="data:image/png;base64,"+r)}(n=ol(n,i,"textDecoration"))&&rl(t,n),(e=al(e,i,"textDecoration"))&&rl(t,e)}(e,t,o,r=sl(t,"smpte:backgroundImage",r,"#")[0],i),e}function rl(t,e){for(var n=e.split(" "),r=0;r<n.length;r++)switch(n[r]){case"underline":t.textDecoration.includes("underline")||t.textDecoration.push("underline");break;case"noUnderline":t.textDecoration.includes("underline")&&At(t.textDecoration,"underline");break;case"lineThrough":t.textDecoration.includes("lineThrough")||t.textDecoration.push("lineThrough");break;case"noLineThrough":t.textDecoration.includes("lineThrough")&&At(t.textDecoration,"lineThrough");break;case"overline":t.textDecoration.includes("overline")||t.textDecoration.push("overline");break;case"noOverline":t.textDecoration.includes("overline")&&At(t.textDecoration,"overline")}}function il(t,e,n,r){return(t=al(t,n,r))?t:ol(e,n,r)}function ol(t,e,n){for(var r=el(t),i=0;i<r.length;i++){var o=Ur.getAttributeNS(r[i],"http://www.w3.org/ns/ttml#styling",n);if(o)return o}return(t=sl(t,"style",e,"")[0])?Ur.getAttributeNS(t,"http://www.w3.org/ns/ttml#styling",n):null}function al(t,e,n){var r=Ur.getAttributeNS(t,"http://www.w3.org/ns/ttml#styling",n);if(r)return r;for(t=sl(t,"style",e,""),e=null,r=0;r<t.length;r++){var i=Ur.getAttributeNS(t[r],"http://www.w3.org/ns/ttml#styling",n);i&&(e=i)}return e}function sl(t,e,n,r){var i=[];if(!t||1>n.length)return i;var o=t;for(t=null;o&&!(t=o.getAttribute(e))&&(o=o.parentNode)instanceof Element;);if(e=t)for(t=(e=d(e=e.split(" "))).next();!t.done;t=e.next()){t=t.value;for(var a=(o=d(n)).next();!a.done;a=o.next())if(r+(a=a.value).getAttribute("xml:id")==t){i.push(a);break}}return i}function ul(t,e){var n=null;if(Zc.test(t)){n=Zc.exec(t);var r=Number(n[1]),i=Number(n[2]),o=Number(n[3]),a=Number(n[4]);n=(o+=(a+=(Number(n[5])||0)/e.b)/e.frameRate)+60*i+3600*r}else Kc.test(t)?n=cl(Kc,t):Qc.test(t)?n=cl(Qc,t):Xc.test(t)?(n=Xc.exec(t),n=Number(n[1])/e.frameRate):Jc.test(t)?(n=Jc.exec(t),n=Number(n[1])/e.a):qc.test(t)&&(n=cl(qc,t));return n}function cl(t,e){var n=t.exec(e);return null==n||""==n[0]?null:(Number(n[4])||0)/1e3+(Number(n[3])||0)+60*(Number(n[2])||0)+3600*(Number(n[1])||0)}function ll(t,e,n,r){this.frameRate=Number(t)||30,this.b=Number(e)||1,this.a=Number(r),0==this.a&&(this.a=t?this.frameRate*this.b:1),n&&(t=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(t[1])/Number(t[2]))}function fl(){this.a=new Fc}function hl(){}function dl(t,e,n){var r;if(r=/^align:(start|middle|center|end|left|right)$/.exec(e))e=r[1],t.textAlign="middle"==e?Qe:Xe[e.toUpperCase()];else if(r=/^vertical:(lr|rl)$/.exec(e))t.writingMode="lr"==r[1]?"vertical-lr":"vertical-rl";else if(r=/^size:([\d.]+)%$/.exec(e))t.size=Number(r[1]);else if(r=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(e))t.position=Number(r[1]),r[2]&&(e=r[2],t.positionAlign="line-left"==e||"start"==e?"line-left":"line-right"==e||"end"==e?"line-right":"center");else{if(!(r=/^region:(.*)$/.exec(e))){t:{if(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(e))t.lineInterpretation=1,t.line=Number(n[1]),n[2]&&(t.lineAlign=rn[n[2].toUpperCase()]);else{if(!(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(e))){t=!1;break t}t.lineInterpretation=en,t.line=Number(n[1]),n[2]&&(t.lineAlign=rn[n[2].toUpperCase()])}t=!0}return t}(e=function(t,e){var n=t.filter((function(t){return t.id==e}));return n.length?n[0]:(Q.m("VTT parser could not find a region with id: ",e," The region will be ignored."),null)}(n,r[1]))&&(t.region=e)}return!0}function pl(t){if(null==(t=_i(t,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3})/g)))return null;var e=Number(t[2]),n=Number(t[3]);return 59<e||59<n?null:Number(t[4])/1e3+n+60*e+3600*(Number(t[1])||0)}function ml(){this.a=null}function gl(t,e,n){var r,i,o;return(new Dr).L("payl",_r((function(t){r=ie(t)}))).L("iden",_r((function(t){i=ie(t)}))).L("sttg",_r((function(t){o=ie(t)}))).parse(t),r?function(t,e,n,r,i){if(t=new Ze(r,i,t),e&&(t.id=e),n)for(e=new Ci(n),n=Pi(e);n;)dl(t,n,[])||Q.m("VTT parser encountered an invalid VTT setting: ",n," The setting will be ignored."),Oi(e),n=Pi(e);return t}(r,i,o,e,n):null}
/*
 @license
 EME Encryption Scheme Polyfill
 Copyright 2019 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/
function yl(){}function bl(){Yc?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(Yc=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=vl):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function vl(t,e){var n=this;return m((function r(){var i;return R(r,(function(r){switch(r.j){case 1:return console.assert(n==navigator,'bad "this" for requestMediaKeySystemAccess'),M(r,Yc.call(n,t,e),2);case 2:return kl(i=r.s)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=Yc,r.return(i)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=wl,r.return(wl.call(n,t,e)))}}))}))}function wl(t,e){var n=this;return m((function r(){var i,o,a,s,u,c,l,f;return R(r,(function(r){switch(r.j){case 1:console.assert(n==navigator,'bad "this" for requestMediaKeySystemAccess'),i=Al(t),o=[];for(var h=d(e),p=h.next();!p.done;p=h.next())a=p.value,s=Tl(a.videoCapabilities,i),u=Tl(a.audioCapabilities,i),a.videoCapabilities&&a.videoCapabilities.length&&!s.length||a.audioCapabilities&&a.audioCapabilities.length&&!u.length||((c=Object.assign({},a)).videoCapabilities=s,c.audioCapabilities=u,o.push(c));if(!o.length)throw(l=Error("Unsupported keySystem or supportedConfigurations.")).name="NotSupportedError",l.code=DOMException.NOT_SUPPORTED_ERR,l;return M(r,Yc.call(n,t,o),2);case 2:return f=r.s,r.return(new Il(f,i))}}))}))}function Tl(t,e){return t?t.filter((function(t){return!t.encryptionScheme||t.encryptionScheme==e})):t}function Sl(){}function xl(){navigator.mediaCapabilities?(Gc=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=El):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function El(t){var e=this;return m((function n(){var r;return R(n,(function(n){switch(n.j){case 1:return console.assert(e==navigator.mediaCapabilities,'bad "this" for decodingInfo'),M(n,Gc.call(e,t),2);case 2:return r=n.s,t.keySystemConfiguration?kl(r.keySystemAccess)?(console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=Gc,n.return(r)):(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=Ml,n.return(Ml.call(e,t))):n.return(r)}}))}))}function Ml(t){var e=this;return m((function n(){var r,i,o,a,s,u,c;return R(n,(function(n){switch(n.j){case 1:return console.assert(e==navigator.mediaCapabilities,'bad "this" for decodingInfo'),r=null,t.keySystemConfiguration&&(i=t.keySystemConfiguration,o=i.keySystem,a=i.audio&&i.audio.encryptionScheme,s=i.video&&i.video.encryptionScheme,r=Al(o),u={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:t},a&&a!=r||s&&s!=r)?n.return(u):M(n,Gc.call(e,t),2);case 2:return(c=n.s).keySystemAccess&&(c.keySystemAccess=new Il(c.keySystemAccess,r)),n.return(c)}}))}))}function Il(t,e){this.b=t,this.a=e,this.keySystem=t.keySystem}function Al(t){return t.startsWith("com.widevine")||t.startsWith("com.microsoft")||t.startsWith("com.adobe")||t.startsWith("org.w3")?"cenc":t.startsWith("com.apple")?"cbcs-1-9":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",t,"Please contribute!"),null)}function kl(t){var e=(t=t.getConfiguration()).audioCapabilities&&t.audioCapabilities[0];return!(!(t=t.videoCapabilities&&t.videoCapabilities[0]||e)||void 0===t.encryptionScheme)}function Nl(){}function Ll(){bl(),xl()}hn["application/ttml+xml"]=Fc,G("shaka.text.Mp4TtmlParser",fl),fl.prototype.parseInit=function(t){var e=!1;if((new Dr).L("moov",Cr).L("trak",Cr).L("mdia",Cr).L("minf",Cr).L("stbl",Cr).ia("stsd",Or).L("stpp",(function(t){e=!0,t.parser.stop()})).parse(t),!e)throw new pt(2,2,2007)},fl.prototype.parseInit=fl.prototype.parseInit,fl.prototype.parseMedia=function(t,e){var n=!1,r=[];if((new Dr).L("mdat",_r(function(t){n=!0,r=r.concat(this.a.parseMedia(t,e))}.bind(this))).parse(t),!n)throw new pt(2,2,2007);return r},fl.prototype.parseMedia=fl.prototype.parseMedia,hn['application/mp4; codecs="stpp"']=fl,hn['application/mp4; codecs="stpp.ttml.im1t"']=fl,hn['application/mp4; codecs="stpp.TTML.im1t"']=fl,G("shaka.text.VttTextParser",hl),hl.prototype.parseInit=function(){},hl.prototype.parseInit=hl.prototype.parseInit,hl.prototype.parseMedia=function(t,e){var n=ie(t);if(n=(n=n.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m),!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new pt(2,2,2e3);var r=e.segmentStart;if(null==r&&(r=0,n[0].includes("X-TIMESTAMP-MAP"))){var i=n[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),o=n[0].match(/MPEGTS:(\d+)/m);if(i&&o){if(null==(r=pl(new Ci(i[1]))))throw new pt(2,2,2e3);r=e.periodStart+(Number(o[1])/9e4-r)}}o=[];var a=n[0].split("\n");for(i=1;i<a.length;i++)if(/^Region:/.test(a[i])){var s=new Ci(a[i]),u=new un;Pi(s),Oi(s);for(var c=Pi(s);c;){var l;t:{var f=u,h=c;if(l=/^id=(.*)$/.exec(h))f.id=l[1];else if(l=/^width=(\d{1,2}|100)%$/.exec(h))f.width=Number(l[1]);else if(l=/^lines=(\d+)$/.exec(h))f.height=Number(l[1]),f.heightUnits=2;else if(l=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(h))f.regionAnchorX=Number(l[1]),f.regionAnchorY=Number(l[2]);else if(l=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(h))f.viewportAnchorX=Number(l[1]),f.viewportAnchorY=Number(l[2]);else{if(!/^scroll=up$/.exec(h)){l=!1;break t}f.scroll="up"}l=!0}l||Q.m("VTT parser encountered an invalid VTTRegion setting: ",c," The setting will be ignored."),Oi(s),c=Pi(s)}o.push(u)}for(i=[],s=1;s<n.length;s++){if(l=a=n[s].split("\n"),f=r,a=o,1==l.length&&!l[0]||/^NOTE($|[ \t])/.test(l[0])||"STYLE"==l[0])a=null;else{u=null,l[0].includes("--\x3e")||(u=l[0],l.splice(0,1)),h=pl(c=new Ci(l[0]));var d=_i(c,/[ \t]+--\x3e[ \t]+/g),p=pl(c);if(null==h||null==d||null==p)throw new pt(2,2,2001);for(l=new Ze(h+f,p+f,l.slice(1).join("\n").trim()),Oi(c),f=Pi(c);f;)dl(l,f,a)||Q.m("VTT parser encountered an invalid VTT setting: ",f," The setting will be ignored."),Oi(c),f=Pi(c);null!=u&&(l.id=u),a=l}a&&i.push(a)}return i},hl.prototype.parseMedia=hl.prototype.parseMedia,hn["text/vtt"]=hl,hn['text/vtt; codecs="vtt"']=hl,G("shaka.text.Mp4VttParser",ml),ml.prototype.parseInit=function(t){var e=!1;if((new Dr).L("moov",Cr).L("trak",Cr).L("mdia",Cr).ia("mdhd",function(t){0==t.version?(t.reader.P(4),t.reader.P(4),this.a=t.reader.I(),t.reader.P(4)):(t.reader.P(8),t.reader.P(8),this.a=t.reader.I(),t.reader.P(8)),t.reader.P(4)}.bind(this)).L("minf",Cr).L("stbl",Cr).ia("stsd",Or).L("wvtt",(function(){e=!0})).parse(t),!this.a)throw new pt(2,2,2008);if(!e)throw new pt(2,2,2008)},ml.prototype.parseInit=ml.prototype.parseInit,ml.prototype.parseMedia=function(t,e){var n=this;if(!this.a)throw Q.error("No init segment for MP4+VTT!"),new pt(2,2,2008);var r,i=0,o=[],a=[],s=!1,u=!1,c=!1,l=null;if((new Dr).L("moof",Cr).L("traf",Cr).ia("tfdt",(function(t){s=!0,i=0==t.version?t.reader.I():t.reader.Kb()})).ia("tfhd",(function(t){var e=t.flags;(t=t.reader).P(4),1&e&&t.P(8),2&e&&t.P(4),l=8&e?t.I():null})).ia("trun",(function(t){u=!0;var e=t.version,n=t.flags,r=(t=t.reader).I();1&n&&t.P(4),4&n&&t.P(4);for(var i=[],a=0;a<r;a++){var s={duration:null,sampleSize:null,Md:null};256&n&&(s.duration=t.I()),512&n&&(s.sampleSize=t.I()),1024&n&&t.P(4),2048&n&&(s.Md=0==e?t.I():t.xe()),i.push(s)}o=i})).L("mdat",_r((function(t){c=!0,r=t}))).parse(t),!c&&!s&&!u)throw new pt(2,2,2008);var f=i,h=new kr(new DataView(r.buffer,r.byteOffset,r.byteLength),0);return o.forEach((function(t){var r=t.duration||l,o=t.Md?i+t.Md:f;f=o+(r||0);var s=0;do{var u=h.I();s+=u;var c=h.I(),d=null;"vttc"==(c=jr(c))?8<u&&(d=h.gb(u-8)):("vtte"!=c&&Q.error("Unknown box "+c+"! Skipping!"),h.P(u-8)),r?d&&a.push(gl(d,e.periodStart+o/n.a,e.periodStart+f/n.a)):Q.error("WVTT sample duration unknown, and no default found!")}while(t.sampleSize&&s<t.sampleSize)})),a.filter(Be.Ma)},ml.prototype.parseMedia=ml.prototype.parseMedia,hn['application/mp4; codecs="wvtt"']=ml,G("shaka.util.Dom.createHTMLElement",(function(t){return document.createElement(t)})),G("shaka.util.Dom.createVideoElement",(function(){var t=document.createElement("video");return t.muted=!0,t.width=600,t.height=400,t})),G("shaka.util.Dom.asHTMLElement",(function(t){return t})),G("shaka.util.Dom.asHTMLMediaElement",(function(t){return t})),G("shaka.util.Dom.removeAllChildren",(function(t){for(;t.firstChild;)t.removeChild(t.firstChild)})),G("EmeEncryptionSchemePolyfill",yl),yl.install=bl,G("McEncryptionSchemePolyfill",Sl),Sl.install=xl,Il.prototype.getConfiguration=function(){var t=this.b.getConfiguration();if(t.videoCapabilities)for(var e=d(t.videoCapabilities),n=e.next();!n.done;n=e.next())n.value.encryptionScheme=this.a;if(t.audioCapabilities)for(n=(e=d(t.audioCapabilities)).next();!n.done;n=e.next())n.value.encryptionScheme=this.a;return t},Il.prototype.createMediaKeys=function(){return this.b.createMediaKeys()},G("EncryptionSchemePolyfills",Nl),Nl.install=Ll,void 0!==r&&r.$e&&(r.$e=Nl)}.call(i,r,r,void 0),i.shaka)e[o]=i.shaka[o]}()}).call(this,n(9),n(95))},function(t,e,n){t.exports=function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};e[a][0].call(c.exports,(function(t){return i(e[a][1][t]||t)}),c,c.exports,t,e,n,r)}return n[a].exports}for(var o=!1,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){"use strict";var r,i=t(42),o=t(2);(r=function(){var t=new Uint8Array,e=0;r.prototype.init.call(this),this.setTimestamp=function(t){e=t},this.push=function(n){var r,i,a,s,u=0,c=0;for(t.length?(s=t.length,(t=new Uint8Array(n.byteLength+s)).set(t.subarray(0,s)),t.set(n,s)):t=n;t.length-c>=3;)if(t[c]!=="I".charCodeAt(0)||t[c+1]!=="D".charCodeAt(0)||t[c+2]!=="3".charCodeAt(0))if(255!=(255&t[c])||240!=(240&t[c+1]))c++;else{if(t.length-c<7)break;if(c+(u=o.parseAdtsSize(t,c))>t.length)break;a={type:"audio",data:t.subarray(c,c+u),pts:e,dts:e},this.trigger("data",a),c+=u}else{if(t.length-c<10)break;if(c+(u=o.parseId3TagSize(t,c))>t.length)break;i={type:"timed-metadata",data:t.subarray(c,c+u)},this.trigger("data",i),c+=u}r=t.length-c,t=r>0?t.subarray(c):new Uint8Array},this.reset=function(){t=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){t=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new i,e.exports=r},{2:2,42:42}],2:[function(t,e,n){"use strict";var r=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],i=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},o=function(t,e,n){return unescape(function(t,e,n){var r,i="";for(r=e;r<n;r++)i+="%"+("00"+t[r].toString(16)).slice(-2);return i}(t,e,n))};e.exports={isLikelyAacData:function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},parseId3TagSize:function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?n+20:n+10},parseAdtsSize:function(t,e){var n=(224&t[e+5])>>5,r=t[e+4]<<3;return 6144&t[e+3]|r|n},parseType:function(t,e){return t[e]==="I".charCodeAt(0)&&t[e+1]==="D".charCodeAt(0)&&t[e+2]==="3".charCodeAt(0)?"timed-metadata":!0&t[e]&&240==(240&t[e+1])?"audio":null},parseSampleRate:function(t){for(var e=0;e+5<t.length;){if(255===t[e]&&240==(246&t[e+1]))return r[(60&t[e+2])>>>2];e++}return null},parseAacTimestamp:function(t){var e,n,r;e=10,64&t[5]&&(e+=4,e+=i(t.subarray(10,14)));do{if((n=i(t.subarray(e+4,e+8)))<1)return null;if("PRIV"===String.fromCharCode(t[e],t[e+1],t[e+2],t[e+3])){r=t.subarray(e+10,e+n+10);for(var a=0;a<r.byteLength;a++)if(0===r[a]){if("com.apple.streaming.transportStreamTimestamp"===o(r,0,a)){var s=r.subarray(a+1),u=(1&s[3])<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2;return(u*=4)+(3&s[7])}break}}e+=10,e+=n}while(e<t.byteLength);return null}}},{}],3:[function(t,e,n){"use strict";var r,i=t(42),o=t(40).ONE_SECOND_IN_TS,a=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(r=function(t){var e,n=0;r.prototype.init.call(this),this.push=function(r){var i,s,u,c,l,f,h=0;if(t||(n=0),"audio"===r.type)for(e?(c=e,(e=new Uint8Array(c.byteLength+r.data.byteLength)).set(c),e.set(r.data,c.byteLength)):e=r.data;h+5<e.length;)if(255===e[h]&&240==(246&e[h+1])){if(s=2*(1&~e[h+1]),i=(3&e[h+3])<<11|e[h+4]<<3|(224&e[h+5])>>5,f=(l=1024*(1+(3&e[h+6])))*o/a[(60&e[h+2])>>>2],u=h+i,e.byteLength<u)return;if(this.trigger("data",{pts:r.pts+n*f,dts:r.dts+n*f,sampleCount:l,audioobjecttype:1+(e[h+2]>>>6&3),channelcount:(1&e[h+2])<<2|(192&e[h+3])>>>6,samplerate:a[(60&e[h+2])>>>2],samplingfrequencyindex:(60&e[h+2])>>>2,samplesize:16,data:e.subarray(h+7+s,u)}),n++,e.byteLength===u)return void(e=void 0);e=e.subarray(u)}else h++},this.flush=function(){n=0,this.trigger("done")},this.reset=function(){e=void 0,this.trigger("reset")},this.endTimeline=function(){e=void 0,this.trigger("endedtimeline")}}).prototype=new i,e.exports=r},{40:40,42:42}],4:[function(t,e,n){"use strict";var r,i,o,a=t(42),s=t(41);(i=function(){var t,e,n=0;i.prototype.init.call(this),this.push=function(r){var i;e?((i=new Uint8Array(e.byteLength+r.data.byteLength)).set(e),i.set(r.data,e.byteLength),e=i):e=r.data;for(var o=e.byteLength;n<o-3;n++)if(1===e[n+2]){t=n+5;break}for(;t<o;)switch(e[t]){case 0:if(0!==e[t-1]){t+=2;break}if(0!==e[t-2]){t++;break}n+3!==t-2&&this.trigger("data",e.subarray(n+3,t-2));do{t++}while(1!==e[t]&&t<o);n=t-2,t+=3;break;case 1:if(0!==e[t-1]||0!==e[t-2]){t+=3;break}this.trigger("data",e.subarray(n+3,t-2)),n=t-2,t+=3;break;default:t+=3}e=e.subarray(n),t-=n,n=0},this.reset=function(){e=null,n=0,this.trigger("reset")},this.flush=function(){e&&e.byteLength>3&&this.trigger("data",e.subarray(n+3)),e=null,n=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}}).prototype=new a,o={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(r=function(){var t,e,n,a,u,c,l,f=new i;r.prototype.init.call(this),t=this,this.push=function(t){"video"===t.type&&(e=t.trackId,n=t.pts,a=t.dts,f.push(t))},f.on("data",(function(r){var i={trackId:e,pts:n,dts:a,data:r};switch(31&r[0]){case 5:i.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:i.nalUnitType="sei_rbsp",i.escapedRBSP=u(r.subarray(1));break;case 7:i.nalUnitType="seq_parameter_set_rbsp",i.escapedRBSP=u(r.subarray(1)),i.config=c(i.escapedRBSP);break;case 8:i.nalUnitType="pic_parameter_set_rbsp";break;case 9:i.nalUnitType="access_unit_delimiter_rbsp"}t.trigger("data",i)})),f.on("done",(function(){t.trigger("done")})),f.on("partialdone",(function(){t.trigger("partialdone")})),f.on("reset",(function(){t.trigger("reset")})),f.on("endedtimeline",(function(){t.trigger("endedtimeline")})),this.flush=function(){f.flush()},this.partialFlush=function(){f.partialFlush()},this.reset=function(){f.reset()},this.endTimeline=function(){f.endTimeline()},l=function(t,e){var n,r=8,i=8;for(n=0;n<t;n++)0!==i&&(i=(r+e.readExpGolomb()+256)%256),r=0===i?r:i},u=function(t){for(var e,n,r=t.byteLength,i=[],o=1;o<r-2;)0===t[o]&&0===t[o+1]&&3===t[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return t;e=r-i.length,n=new Uint8Array(e);var a=0;for(o=0;o<e;a++,o++)a===i[0]&&(a++,i.shift()),n[o]=t[a];return n},c=function(t){var e,n,r,i,a,u,c,f,h,d,p,m,g,y=0,b=0,v=0,w=0,T=1;if(n=(e=new s(t)).readUnsignedByte(),i=e.readUnsignedByte(),r=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),o[n]&&(3===(a=e.readUnsignedExpGolomb())&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(p=3!==a?8:12,g=0;g<p;g++)e.readBoolean()&&l(g<6?16:64,e);if(e.skipUnsignedExpGolomb(),0===(u=e.readUnsignedExpGolomb()))e.readUnsignedExpGolomb();else if(1===u)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),c=e.readUnsignedExpGolomb(),g=0;g<c;g++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),f=e.readUnsignedExpGolomb(),h=e.readUnsignedExpGolomb(),0===(d=e.readBits(1))&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(y=e.readUnsignedExpGolomb(),b=e.readUnsignedExpGolomb(),v=e.readUnsignedExpGolomb(),w=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(e.readUnsignedByte()){case 1:m=[1,1];break;case 2:m=[12,11];break;case 3:m=[10,11];break;case 4:m=[16,11];break;case 5:m=[40,33];break;case 6:m=[24,11];break;case 7:m=[20,11];break;case 8:m=[32,11];break;case 9:m=[80,33];break;case 10:m=[18,11];break;case 11:m=[15,11];break;case 12:m=[64,33];break;case 13:m=[160,99];break;case 14:m=[4,3];break;case 15:m=[3,2];break;case 16:m=[2,1];break;case 255:m=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()]}m&&(T=m[0]/m[1])}return{profileIdc:n,levelIdc:r,profileCompatibility:i,width:Math.ceil((16*(f+1)-2*y-2*b)*T),height:(2-d)*(h+1)*16-2*v-2*w,sarRatio:m}}}).prototype=new a,e.exports={H264Stream:r,NalByteStream:i}},{41:41,42:42}],5:[function(t,e,n){e.exports={Adts:t(3),h264:t(4)}},{3:3,4:4}],6:[function(t,e,n){e.exports=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"]},{}],7:[function(t,e,n){e.exports=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"]},{}],8:[function(t,e,n){var r,i=[33,16,5,32,164,27],o=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],a=function(t){for(var e=[];t--;)e.push(0);return e};e.exports=function(){if(!r){var t={96e3:[i,[227,64],a(154),[56]],88200:[i,[231],a(170),[56]],64e3:[i,[248,192],a(240),[56]],48e3:[i,[255,192],a(268),[55,148,128],a(54),[112]],44100:[i,[255,192],a(268),[55,163,128],a(84),[112]],32e3:[i,[255,192],a(268),[55,234],a(226),[112]],24e3:[i,[255,192],a(268),[55,255,128],a(268),[111,112],a(126),[224]],16e3:[i,[255,192],a(268),[55,255,128],a(268),[111,255],a(269),[223,108],a(195),[1,192]],12e3:[o,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,253,128],a(259),[56]],11025:[o,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,255,192],a(268),[55,175,128],a(108),[112]],8e3:[o,a(268),[3,121,16],a(47),[7]]};r=function(t){return Object.keys(t).reduce((function(e,n){return e[n]=new Uint8Array(t[n].reduce((function(t,e){return t.concat(e)}),[])),e}),{})}(t)}return r}},{}],9:[function(t,e,n){"use strict";var r=t(42),i=function(t){this.numberOfTracks=0,this.metadataStream=t.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,this.processedTracks=0,i.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):("video"===t.track.type&&(this.videoTrack=t.track,this.videoTags=t.tags,this.pendingTracks++),void("audio"===t.track.type&&(this.audioTrack=t.track,this.audioTags=t.tags,this.pendingTracks++)))}};i.prototype=new r,i.prototype.flush=function(t){var e,n,r,i,o={tags:{},captions:[],captionStreams:{},metadata:[]};if(this.pendingTracks<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(0===this.pendingTracks&&++this.processedTracks<this.numberOfTracks)return}if(this.processedTracks+=this.pendingTracks,this.pendingTracks=0,!(this.processedTracks<this.numberOfTracks)){for(this.videoTrack?i=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(i=this.audioTrack.timelineStartInfo.pts),o.tags.videoTags=this.videoTags,o.tags.audioTags=this.audioTags,r=0;r<this.pendingCaptions.length;r++)(n=this.pendingCaptions[r]).startTime=n.startPts-i,n.startTime/=9e4,n.endTime=n.endPts-i,n.endTime/=9e4,o.captionStreams[n.stream]=!0,o.captions.push(n);for(r=0;r<this.pendingMetadata.length;r++)(e=this.pendingMetadata[r]).cueTime=e.pts-i,e.cueTime/=9e4,o.metadata.push(e);o.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.processedTracks=0,this.trigger("data",o),this.trigger("done")}},e.exports=i},{42:42}],10:[function(t,e,n){"use strict";var r=t(11);e.exports=function(t,e,n){var i,o,a,s=new Uint8Array(9),u=new DataView(s.buffer);return t=t||0,e=void 0===e||e,n=void 0===n||n,u.setUint8(0,70),u.setUint8(1,76),u.setUint8(2,86),u.setUint8(3,1),u.setUint8(4,(e?4:0)|(n?1:0)),u.setUint32(5,s.byteLength),t<=0?((o=new Uint8Array(s.byteLength+4)).set(s),o.set([0,0,0,0],s.byteLength),o):((i=new r(r.METADATA_TAG)).pts=i.dts=0,i.writeMetaDataDouble("duration",t),a=i.finalize().length,(o=new Uint8Array(s.byteLength+a)).set(s),o.set(u.byteLength,a),o)}},{11:11}],11:[function(t,e,n){"use strict";var r;(r=function(t,e){var n,i=0,o=16384,a=function(t,e){var n,r=t.position+e;r<t.bytes.byteLength||((n=new Uint8Array(2*r)).set(t.bytes.subarray(0,t.position),0),t.bytes=n,t.view=new DataView(t.bytes.buffer))},s=r.widthBytes||new Uint8Array("width".length),u=r.heightBytes||new Uint8Array("height".length),c=r.videocodecidBytes||new Uint8Array("videocodecid".length);if(!r.widthBytes){for(n=0;n<"width".length;n++)s[n]="width".charCodeAt(n);for(n=0;n<"height".length;n++)u[n]="height".charCodeAt(n);for(n=0;n<"videocodecid".length;n++)c[n]="videocodecid".charCodeAt(n);r.widthBytes=s,r.heightBytes=u,r.videocodecidBytes=c}switch(this.keyFrame=!1,t){case r.VIDEO_TAG:this.length=16,o*=6;break;case r.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case r.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(o),this.view=new DataView(this.bytes.buffer),this.bytes[0]=t,this.position=this.length,this.keyFrame=e,this.pts=0,this.dts=0,this.writeBytes=function(t,e,n){var r,i=e||0;r=i+(n=n||t.byteLength),a(this,n),this.bytes.set(t.subarray(i,r),this.position),this.position+=n,this.length=Math.max(this.length,this.position)},this.writeByte=function(t){a(this,1),this.bytes[this.position]=t,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(t){a(this,2),this.view.setUint16(this.position,t),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(t){return this.bytes[this.length-t]},this.nalUnitSize=function(){return 0===i?0:this.length-(i+4)},this.startNalUnit=function(){if(i>0)throw new Error("Attempted to create new NAL wihout closing the old one");i=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(t){var e,n;this.length===i+4?this.length-=4:i>0&&(e=i+4,n=this.length-e,this.position=i,this.view.setUint32(this.position,n),this.position=this.length,t&&t.push(this.bytes.subarray(e,e+n))),i=0},this.writeMetaDataDouble=function(t,e){var n;if(a(this,2+t.length+9),this.view.setUint16(this.position,t.length),this.position+=2,"width"===t)this.bytes.set(s,this.position),this.position+=5;else if("height"===t)this.bytes.set(u,this.position),this.position+=6;else if("videocodecid"===t)this.bytes.set(c,this.position),this.position+=12;else for(n=0;n<t.length;n++)this.bytes[this.position]=t.charCodeAt(n),this.position++;this.position++,this.view.setFloat64(this.position,e),this.position+=8,this.length=Math.max(this.length,this.position),++i},this.writeMetaDataBoolean=function(t,e){var n;for(a(this,2),this.view.setUint16(this.position,t.length),this.position+=2,n=0;n<t.length;n++)a(this,1),this.bytes[this.position]=t.charCodeAt(n),this.position++;a(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,e?1:0),this.position++,this.length=Math.max(this.length,this.position),++i},this.finalize=function(){var t,n;switch(this.bytes[0]){case r.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||e?16:32),this.bytes[12]=e?0:1,t=this.pts-this.dts,this.bytes[13]=(16711680&t)>>>16,this.bytes[14]=(65280&t)>>>8,this.bytes[15]=(255&t)>>>0;break;case r.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=e?0:1;break;case r.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,i),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position}return n=this.length-11,this.bytes[1]=(16711680&n)>>>16,this.bytes[2]=(65280&n)>>>8,this.bytes[3]=(255&n)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,a(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=r.frameTime(this.bytes),this}}).AUDIO_TAG=8,r.VIDEO_TAG=9,r.METADATA_TAG=18,r.isAudioFrame=function(t){return r.AUDIO_TAG===t[0]},r.isVideoFrame=function(t){return r.VIDEO_TAG===t[0]},r.isMetaData=function(t){return r.METADATA_TAG===t[0]},r.isKeyFrame=function(t){return r.isVideoFrame(t)?23===t[11]:!!r.isAudioFrame(t)||!!r.isMetaData(t)},r.frameTime=function(t){var e=t[4]<<16;return e|=t[5]<<8,(e|=t[6]<<0)|t[7]<<24},e.exports=r},{}],12:[function(t,e,n){e.exports={tag:t(11),Transmuxer:t(14),getFlvHeader:t(10)}},{10:10,11:11,14:14}],13:[function(t,e,n){"use strict";e.exports=function(){var t=this;this.list=[],this.push=function(t){this.list.push({bytes:t.bytes,dts:t.dts,pts:t.pts,keyFrame:t.keyFrame,metaDataTag:t.metaDataTag})},Object.defineProperty(this,"length",{get:function(){return t.list.length}})}},{}],14:[function(t,e,n){"use strict";var r,i,o,a,s,u,c=t(42),l=t(11),f=t(18),h=t(3),d=t(4).H264Stream,p=t(9),m=t(13);a=function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts?t.timelineStartInfo.pts=e.pts:t.timelineStartInfo.pts=Math.min(t.timelineStartInfo.pts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts?t.timelineStartInfo.dts=e.dts:t.timelineStartInfo.dts=Math.min(t.timelineStartInfo.dts,e.dts))},s=function(t,e){var n=new l(l.METADATA_TAG);return n.dts=e,n.pts=e,n.writeMetaDataDouble("videocodecid",7),n.writeMetaDataDouble("width",t.width),n.writeMetaDataDouble("height",t.height),n},u=function(t,e){var n,r=new l(l.VIDEO_TAG,!0);for(r.dts=e,r.pts=e,r.writeByte(1),r.writeByte(t.profileIdc),r.writeByte(t.profileCompatibility),r.writeByte(t.levelIdc),r.writeByte(255),r.writeByte(225),r.writeShort(t.sps[0].length),r.writeBytes(t.sps[0]),r.writeByte(t.pps.length),n=0;n<t.pps.length;++n)r.writeShort(t.pps[n].length),r.writeBytes(t.pps[n]);return r},(o=function(t){var e,n=[],r=[];o.prototype.init.call(this),this.push=function(e){a(t,e),t&&(t.audioobjecttype=e.audioobjecttype,t.channelcount=e.channelcount,t.samplerate=e.samplerate,t.samplingfrequencyindex=e.samplingfrequencyindex,t.samplesize=e.samplesize,t.extraData=t.audioobjecttype<<11|t.samplingfrequencyindex<<7|t.channelcount<<3),e.pts=Math.round(e.pts/90),e.dts=Math.round(e.dts/90),n.push(e)},this.flush=function(){var i,o,a,s=new m;if(0!==n.length){for(a=-1/0;n.length;)i=n.shift(),r.length&&i.pts>=r[0]&&(a=r.shift(),this.writeMetaDataTags(s,a)),(t.extraData!==e||i.pts-a>=1e3)&&(this.writeMetaDataTags(s,i.pts),e=t.extraData,a=i.pts),(o=new l(l.AUDIO_TAG)).pts=i.pts,o.dts=i.dts,o.writeBytes(i.data),s.push(o.finalize());r.length=0,e=null,this.trigger("data",{track:t,tags:s.list}),this.trigger("done","AudioSegmentStream")}else this.trigger("done","AudioSegmentStream")},this.writeMetaDataTags=function(e,n){var r;(r=new l(l.METADATA_TAG)).pts=n,r.dts=n,r.writeMetaDataDouble("audiocodecid",10),r.writeMetaDataBoolean("stereo",2===t.channelcount),r.writeMetaDataDouble("audiosamplerate",t.samplerate),r.writeMetaDataDouble("audiosamplesize",16),e.push(r.finalize()),(r=new l(l.AUDIO_TAG,!0)).pts=n,r.dts=n,r.view.setUint16(r.position,t.extraData),r.position+=2,r.length=Math.max(r.length,r.position),e.push(r.finalize())},this.onVideoKeyFrame=function(t){r.push(t)}}).prototype=new c,(i=function(t){var e,n,r=[];i.prototype.init.call(this),this.finishFrame=function(r,i){if(i){if(e&&t&&t.newMetadata&&(i.keyFrame||0===r.length)){var o=s(e,i.dts).finalize(),a=u(t,i.dts).finalize();o.metaDataTag=a.metaDataTag=!0,r.push(o),r.push(a),t.newMetadata=!1,this.trigger("keyframe",i.dts)}i.endNalUnit(),r.push(i.finalize()),n=null}},this.push=function(e){a(t,e),e.pts=Math.round(e.pts/90),e.dts=Math.round(e.dts/90),r.push(e)},this.flush=function(){for(var i,o=new m;r.length&&"access_unit_delimiter_rbsp"!==r[0].nalUnitType;)r.shift();if(0!==r.length){for(;r.length;)"seq_parameter_set_rbsp"===(i=r.shift()).nalUnitType?(t.newMetadata=!0,e=i.config,t.width=e.width,t.height=e.height,t.sps=[i.data],t.profileIdc=e.profileIdc,t.levelIdc=e.levelIdc,t.profileCompatibility=e.profileCompatibility,n.endNalUnit()):"pic_parameter_set_rbsp"===i.nalUnitType?(t.newMetadata=!0,t.pps=[i.data],n.endNalUnit()):"access_unit_delimiter_rbsp"===i.nalUnitType?(n&&this.finishFrame(o,n),(n=new l(l.VIDEO_TAG)).pts=i.pts,n.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(n.keyFrame=!0),n.endNalUnit()),n.startNalUnit(),n.writeBytes(i.data);n&&this.finishFrame(o,n),this.trigger("data",{track:t,tags:o.list}),this.trigger("done","VideoSegmentStream")}else this.trigger("done","VideoSegmentStream")}}).prototype=new c,(r=function(t){var e,n,a,s,u,c,l,m,g,y,b,v,w=this;r.prototype.init.call(this),t=t||{},this.metadataStream=new f.MetadataStream,t.metadataStream=this.metadataStream,e=new f.TransportPacketStream,n=new f.TransportParseStream,a=new f.ElementaryStream,s=new f.TimestampRolloverStream("video"),u=new f.TimestampRolloverStream("audio"),c=new f.TimestampRolloverStream("timed-metadata"),l=new h,m=new d,v=new p(t),e.pipe(n).pipe(a),a.pipe(s).pipe(m),a.pipe(u).pipe(l),a.pipe(c).pipe(this.metadataStream).pipe(v),b=new f.CaptionStream,m.pipe(b).pipe(v),a.on("data",(function(t){var e,n,r;if("metadata"===t.type){for(e=t.tracks.length;e--;)"video"===t.tracks[e].type?n=t.tracks[e]:"audio"===t.tracks[e].type&&(r=t.tracks[e]);n&&!g&&(v.numberOfTracks++,g=new i(n),m.pipe(g).pipe(v)),r&&!y&&(v.numberOfTracks++,y=new o(r),l.pipe(y).pipe(v),g&&g.on("keyframe",y.onVideoKeyFrame))}})),this.push=function(t){e.push(t)},this.flush=function(){e.flush()},this.resetCaptions=function(){b.reset()},v.on("data",(function(t){w.trigger("data",t)})),v.on("done",(function(){w.trigger("done")}))}).prototype=new c,e.exports=r},{11:11,13:13,18:18,3:3,4:4,42:42,9:9}],15:[function(t,e,n){"use strict";var r={codecs:t(5),mp4:t(26),flv:t(12),mp2t:t(17),partial:t(32)};r.mp4.tools=t(37),r.flv.tools=t(36),r.mp2t.tools=t(38),e.exports=r},{12:12,17:17,26:26,32:32,36:36,37:37,38:38,5:5}],16:[function(t,e,n){"use strict";var r=t(42),i=t(35),o=function(){o.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new l(0,0),new l(0,1),new l(1,0),new l(1,1)],this.reset(),this.ccStreams_.forEach((function(t){t.on("data",this.trigger.bind(this,"data")),t.on("partialdone",this.trigger.bind(this,"partialdone")),t.on("done",this.trigger.bind(this,"done"))}),this)};o.prototype=new r,o.prototype.push=function(t){var e,n,r;if("sei_rbsp"===t.nalUnitType&&(e=i.parseSei(t.escapedRBSP)).payloadType===i.USER_DATA_REGISTERED_ITU_T_T35&&(n=i.parseUserData(e))){if(t.dts<this.latestDts_)return void(this.ignoreNextEqualDts_=!0);if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return void(--this.numSameDts_||(this.ignoreNextEqualDts_=!1));r=i.parseCaptionPackets(t.pts,n),this.captionPackets_=this.captionPackets_.concat(r),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},o.prototype.flushCCStreams=function(t){this.ccStreams_.forEach((function(e){return"flush"===t?e.flush():e.partialFlush()}),this)},o.prototype.flushStream=function(t){this.captionPackets_.length?(this.captionPackets_.forEach((function(t,e){t.presortIndex=e})),this.captionPackets_.sort((function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts})),this.captionPackets_.forEach((function(t){t.type<2&&this.dispatchCea608Packet(t)}),this),this.captionPackets_.length=0,this.flushCCStreams(t)):this.flushCCStreams(t)},o.prototype.flush=function(){return this.flushStream("flush")},o.prototype.partialFlush=function(){return this.flushStream("partialFlush")},o.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(t){t.reset()}))},o.prototype.dispatchCea608Packet=function(t){this.setsTextOrXDSActive(t)?this.activeCea608Channel_[t.type]=null:this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},o.prototype.setsChannel1Active=function(t){return 4096==(30720&t.ccData)},o.prototype.setsChannel2Active=function(t){return 6144==(30720&t.ccData)},o.prototype.setsTextOrXDSActive=function(t){return 256==(28928&t.ccData)||4138==(30974&t.ccData)||6186==(30974&t.ccData)};var a={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},s=function(t){return null===t?"":(t=a[t]||t,String.fromCharCode(t))},u=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],c=function(){for(var t=[],e=15;e--;)t.push("");return t},l=function(t,e){l.prototype.init.call(this),this.field_=t||0,this.dataChannel_=e||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,n,r,i,o;if((e=32639&t.ccData)!==this.lastControlCode_){if(4096==(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),r=e>>>8,i=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(e===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(e===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=c();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=c();else if(e===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=c()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(r,i))o=s((r=(3&r)<<8)|i),this[this.mode_](t.pts,o),this.column_++;else if(this.isExtCharacter(r,i))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),o=s((r=(3&r)<<8)|i),this[this.mode_](t.pts,o),this.column_++;else if(this.isMidRowCode(r,i))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14==(14&i)&&this.addFormatting(t.pts,["i"]),1==(1&i)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(r,i))this.column_+=3&i;else if(this.isPAC(r,i)){var a=u.indexOf(7968&e);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(t.pts,a)),a!==this.row_&&(this.clearFormatting(t.pts),this.row_=a),1&i&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16==(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(i)&&14==(14&i)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(r)&&(0===i&&(i=null),o=s(r),o+=s(i),this[this.mode_](t.pts,o),this.column_+=o.length)}else this.lastControlCode_=null}};l.prototype=new r,l.prototype.flushDisplayed=function(t){var e=this.displayed_.map((function(t){try{return t.trim()}catch(t){return console.error("Skipping malformed caption."),""}})).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},l.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=c(),this.nonDisplayed_=c(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},l.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},l.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&e<=63},l.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&e<=63},l.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&e<=47},l.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&e<=35},l.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&e<=127},l.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127},l.prototype.isNormalChar=function(t){return t>=32&&t<=127},l.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=c(),this.displayed_=c()),void 0!==e&&e!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[e-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},l.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var n=e.reduce((function(t,e){return t+"<"+e+">"}),"");this[this.mode_](t,n)},l.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce((function(t,e){return t+"</"+e+">"}),"");this.formatting_=[],this[this.mode_](t,e)}},l.prototype.popOn=function(t,e){var n=this.nonDisplayed_[this.row_];n+=e,this.nonDisplayed_[this.row_]=n},l.prototype.rollUp=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n},l.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<15;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},l.prototype.paintOn=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n},e.exports={CaptionStream:o,Cea608Stream:l}},{35:35,42:42}],17:[function(t,e,n){e.exports=t(18)},{18:18}],18:[function(t,e,n){"use strict";var r,i,o,a=t(42),s=t(16),u=t(21),c=t(22).TimestampRolloverStream;(r=function(){var t=new Uint8Array(188),e=0;r.prototype.init.call(this),this.push=function(n){var r,i=0,o=188;for(e?((r=new Uint8Array(n.byteLength+e)).set(t.subarray(0,e)),r.set(n,e),e=0):r=n;o<r.byteLength;)71!==r[i]||71!==r[o]?(i++,o++):(this.trigger("data",r.subarray(i,o)),i+=188,o+=188);i<r.byteLength&&(t.set(r.subarray(i),0),e=r.byteLength-i)},this.flush=function(){188===e&&71===t[0]&&(this.trigger("data",t),e=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){e=0,this.trigger("reset")}}).prototype=new a,(i=function(){var t,e,n,r;i.prototype.init.call(this),r=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,t=function(t,r){var i=0;r.payloadUnitStartIndicator&&(i+=t[i]+1),"pat"===r.type?e(t.subarray(i),r):n(t.subarray(i),r)},e=function(t,e){e.section_number=t[7],e.last_section_number=t[8],r.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=r.pmtPid},n=function(t,e){var n,i;if(1&t[5]){for(r.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&t[1])<<8|t[2])-4,i=12+((15&t[10])<<8|t[11]);i<n;){var o=t[i],a=(31&t[i+1])<<8|t[i+2];o===u.H264_STREAM_TYPE&&null===r.programMapTable.video?r.programMapTable.video=a:o===u.ADTS_STREAM_TYPE&&null===r.programMapTable.audio?r.programMapTable.audio=a:o===u.METADATA_STREAM_TYPE&&(r.programMapTable["timed-metadata"][a]=o),i+=5+((15&t[i+3])<<8|t[i+4])}e.programMapTable=r.programMapTable}},this.push=function(e){var n={},r=4;if(n.payloadUnitStartIndicator=!!(64&e[1]),n.pid=31&e[1],n.pid<<=8,n.pid|=e[2],(48&e[3])>>>4>1&&(r+=e[r]+1),0===n.pid)n.type="pat",t(e.subarray(r),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",t(e.subarray(r),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,r,n]):this.processPes_(e,r,n)},this.processPes_=function(t,e,n){n.pid===this.programMapTable.video?n.streamType=u.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=u.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=t.subarray(e),this.trigger("data",n)}}).prototype=new a,i.STREAM_TYPES={h264:27,adts:15},(o=function(){var t,e=this,n={data:[],size:0},r={data:[],size:0},i={data:[],size:0},a=function(t,n,r){var i,o=new Uint8Array(t.size),a={type:n},s=0,u=0,c=!1;if(t.data.length&&!(t.size<9)){for(a.trackId=t.data[0].pid,s=0;s<t.data.length;s++)i=t.data[s],o.set(i.data,u),u+=i.data.byteLength;(function(t,e){var n;e.packetLength=6+(t[4]<<8|t[5]),e.dataAlignmentIndicator=0!=(4&t[6]),192&(n=t[7])&&(e.pts=(14&t[9])<<27|(255&t[10])<<20|(254&t[11])<<12|(255&t[12])<<5|(254&t[13])>>>3,e.pts*=4,e.pts+=(6&t[13])>>>1,e.dts=e.pts,64&n&&(e.dts=(14&t[14])<<27|(255&t[15])<<20|(254&t[16])<<12|(255&t[17])<<5|(254&t[18])>>>3,e.dts*=4,e.dts+=(6&t[18])>>>1)),e.data=t.subarray(9+t[8])})(o,a),c="video"===n||a.packetLength<=t.size,(r||c)&&(t.size=0,t.data.length=0),c&&e.trigger("data",a)}};o.prototype.init.call(this),this.push=function(o){({pat:function(){},pes:function(){var t,e;switch(o.streamType){case u.H264_STREAM_TYPE:t=n,e="video";break;case u.ADTS_STREAM_TYPE:t=r,e="audio";break;case u.METADATA_STREAM_TYPE:t=i,e="timed-metadata";break;default:return}o.payloadUnitStartIndicator&&a(t,e,!0),t.data.push(o),t.size+=o.data.byteLength},pmt:function(){var n={type:"metadata",tracks:[]};null!==(t=o.programMapTable).video&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),e.trigger("data",n)}})[o.type]()},this.reset=function(){n.size=0,n.data.length=0,r.size=0,r.data.length=0,this.trigger("reset")},this.flushStreams_=function(){a(n,"video"),a(r,"audio"),a(i,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}}).prototype=new a;var l={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:r,TransportParseStream:i,ElementaryStream:o,TimestampRolloverStream:c,CaptionStream:s.CaptionStream,Cea608Stream:s.Cea608Stream,MetadataStream:t(19)};for(var f in u)u.hasOwnProperty(f)&&(l[f]=u[f]);e.exports=l},{16:16,19:19,21:21,22:22,42:42}],19:[function(t,e,n){"use strict";var r,i=t(42),o=t(21),a=function(t,e,n){var r,i="";for(r=e;r<n;r++)i+="%"+("00"+t[r].toString(16)).slice(-2);return i},s=function(t,e,n){return decodeURIComponent(a(t,e,n))},u=function(t,e,n){return unescape(a(t,e,n))},c=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},l={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=s(t.data,1,e),t.value=s(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=s(t.data,1,e),t.url=s(t.data,e+1,t.data.length);break}},PRIV:function(t){var e;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=u(t.data,0,e);break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};(r=function(t){var e,n={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},i=0,a=[],s=0;if(r.prototype.init.call(this),this.dispatchType=o.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(e=0;e<n.descriptor.length;e++)this.dispatchType+=("00"+n.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,r,o,u,f;if("timed-metadata"===t.type){if(t.dataAlignmentIndicator&&(s=0,a.length=0),0===a.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))return void(n.debug&&console.log("Skipping unrecognized metadata packet"));if(a.push(t),s+=t.data.byteLength,1===a.length&&(i=c(t.data.subarray(6,10)),i+=10),!(s<i)){for(e={data:new Uint8Array(i),frames:[],pts:a[0].pts,dts:a[0].dts},f=0;f<i;)e.data.set(a[0].data.subarray(0,i-f),f),f+=a[0].data.byteLength,s-=a[0].data.byteLength,a.shift();r=10,64&e.data[5]&&(r+=4,r+=c(e.data.subarray(10,14)),i-=c(e.data.subarray(16,20)));do{if((o=c(e.data.subarray(r+4,r+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((u={id:String.fromCharCode(e.data[r],e.data[r+1],e.data[r+2],e.data[r+3]),data:e.data.subarray(r+10,r+o+10)}).key=u.id,l[u.id]&&(l[u.id](u),"com.apple.streaming.transportStreamTimestamp"===u.owner)){var h=u.data,d=(1&h[3])<<30|h[4]<<22|h[5]<<14|h[6]<<6|h[7]>>>2;d*=4,d+=3&h[7],u.timeStamp=d,void 0===e.pts&&void 0===e.dts&&(e.pts=u.timeStamp,e.dts=u.timeStamp),this.trigger("timestamp",u)}e.frames.push(u),r+=10,r+=o}while(r<i);this.trigger("data",e)}}}}).prototype=new i,e.exports=r},{21:21,42:42}],20:[function(t,e,n){"use strict";var r=t(21),i=function(t){var e=31&t[1];return(e<<=8)|t[2]},o=function(t){return!!(64&t[1])},a=function(t){var e=0;return(48&t[3])>>>4>1&&(e+=t[4]+1),e},s=function(t){switch(t){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};e.exports={parseType:function(t,e){var n=i(t);return 0===n?"pat":n===e?"pmt":e?"pes":null},parsePat:function(t){var e=o(t),n=4+a(t);return e&&(n+=t[n]+1),(31&t[n+10])<<8|t[n+11]},parsePmt:function(t){var e={},n=o(t),r=4+a(t);if(n&&(r+=t[r]+1),1&t[r+5]){var i;i=3+((15&t[r+1])<<8|t[r+2])-4;for(var s=12+((15&t[r+10])<<8|t[r+11]);s<i;){var u=r+s;e[(31&t[u+1])<<8|t[u+2]]=t[u],s+=5+((15&t[u+3])<<8|t[u+4])}return e}},parsePayloadUnitStartIndicator:o,parsePesType:function(t,e){switch(e[i(t)]){case r.H264_STREAM_TYPE:return"video";case r.ADTS_STREAM_TYPE:return"audio";case r.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(t){if(!o(t))return null;var e=4+a(t);if(e>=t.byteLength)return null;var n,r=null;return 192&(n=t[e+7])&&((r={}).pts=(14&t[e+9])<<27|(255&t[e+10])<<20|(254&t[e+11])<<12|(255&t[e+12])<<5|(254&t[e+13])>>>3,r.pts*=4,r.pts+=(6&t[e+13])>>>1,r.dts=r.pts,64&n&&(r.dts=(14&t[e+14])<<27|(255&t[e+15])<<20|(254&t[e+16])<<12|(255&t[e+17])<<5|(254&t[e+18])>>>3,r.dts*=4,r.dts+=(6&t[e+18])>>>1)),r},videoPacketContainsKeyFrame:function(t){for(var e=4+a(t),n=t.subarray(e),r=0,i=0,o=!1;i<n.byteLength-3;i++)if(1===n[i+2]){r=i+5;break}for(;r<n.byteLength;)switch(n[r]){case 0:if(0!==n[r-1]){r+=2;break}if(0!==n[r-2]){r++;break}i+3!==r-2&&"slice_layer_without_partitioning_rbsp_idr"===s(31&n[i+3])&&(o=!0);do{r++}while(1!==n[r]&&r<n.length);i=r-2,r+=3;break;case 1:if(0!==n[r-1]||0!==n[r-2]){r+=3;break}"slice_layer_without_partitioning_rbsp_idr"===s(31&n[i+3])&&(o=!0),i=r-2,r+=3;break;default:r+=3}return n=n.subarray(i),r-=i,i=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===s(31&n[i+3])&&(o=!0),o}}},{21:21}],21:[function(t,e,n){"use strict";e.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},{}],22:[function(t,e,n){"use strict";var r=t(42),i=function(t,e){var n=1;for(t>e&&(n=-1);Math.abs(e-t)>4294967296;)t+=8589934592*n;return t},o=function(t){var e,n;o.prototype.init.call(this),this.type_=t||"shared",this.push=function(t){"shared"!==this.type_&&t.type!==this.type_||(void 0===n&&(n=t.dts),t.dts=i(t.dts,n),t.pts=i(t.pts,n),e=t.dts,this.trigger("data",t))},this.flush=function(){n=e,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){n=void 0,e=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};o.prototype=new r,e.exports={TimestampRolloverStream:o,handleRollover:i}},{42:42}],23:[function(t,e,n){var r=t(8),i=t(40);e.exports={prefixWithSilence:function(t,e,n,o){var a,s,u,c,l=0,f=0,h=0,d=0;if(e.length&&(a=i.audioTsToVideoTs(t.baseMediaDecodeTime,t.samplerate),l=Math.ceil(i.ONE_SECOND_IN_TS/(t.samplerate/1024)),n&&o&&(f=a-Math.max(n,o),d=(h=Math.floor(f/l))*l),!(h<1||d>i.ONE_SECOND_IN_TS/2))){for((s=r()[t.samplerate])||(s=e[0].data),u=0;u<h;u++)c=e[0],e.splice(0,0,{data:s,dts:c.dts-l,pts:c.pts-l});t.baseMediaDecodeTime-=Math.floor(i.videoTsToAudioTs(d,t.samplerate))}},trimAdtsFramesByEarliestDts:function(t,e,n){return e.minSegmentDts>=n?t:(e.minSegmentDts=1/0,t.filter((function(t){return t.dts>=n&&(e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.minSegmentPts=e.minSegmentDts,!0)})))},generateSampleTable:function(t){var e,n,r=[];for(e=0;e<t.length;e++)n=t[e],r.push({size:n.data.byteLength,duration:1024});return r},concatenateFrameData:function(t){var e,n,r=0,i=new Uint8Array(function(t){var e,n=0;for(e=0;e<t.length;e++)n+=t[e].data.byteLength;return n}(t));for(e=0;e<t.length;e++)n=t[e],i.set(n.data,r),r+=n.data.byteLength;return i}}},{40:40,8:8}],24:[function(t,e,n){"use strict";var r=t(35).discardEmulationPreventionBytes,i=t(16).CaptionStream,o=t(37),a=function(t,e){for(var n=t,r=0;r<e.length;r++){var i=e[r];if(n<i.size)return i;n-=i.size}return null},s=function(t,e,n){var i,o,s,u,c=new DataView(t.buffer,t.byteOffset,t.byteLength),l=[];for(o=0;o+4<t.length;o+=s)if(s=c.getUint32(o),o+=4,!(s<=0))switch(31&t[o]){case 6:var f=t.subarray(o+1,o+1+s),h=a(o,e);if(i={nalUnitType:"sei_rbsp",size:s,data:f,escapedRBSP:r(f),trackId:n},h)i.pts=h.pts,i.dts=h.dts,u=h;else{if(!u){console.log("We've encountered a nal unit without data. See mux.js#233.");break}i.pts=u.pts,i.dts=u.dts}l.push(i)}return l},u=function(t,e){var n=o.findBox(t,["moof","traf"]),r=o.findBox(t,["mdat"]),i={},a=[];return r.forEach((function(t,e){var r=n[e];a.push({mdat:t,traf:r})})),a.forEach((function(t){var n,r,a=t.mdat,u=t.traf,c=o.findBox(u,["tfhd"]),l=o.parseTfhd(c[0]),f=l.trackId,h=o.findBox(u,["tfdt"]),d=h.length>0?o.parseTfdt(h[0]).baseMediaDecodeTime:0,p=o.findBox(u,["trun"]);e===f&&p.length>0&&(n=function(t,e,n){var r=e,i=n.defaultSampleDuration||0,a=n.defaultSampleSize||0,s=n.trackId,u=[];return t.forEach((function(t){var e=o.parseTrun(t).samples;e.forEach((function(t){void 0===t.duration&&(t.duration=i),void 0===t.size&&(t.size=a),t.trackId=s,t.dts=r,void 0===t.compositionTimeOffset&&(t.compositionTimeOffset=0),t.pts=r+t.compositionTimeOffset,r+=t.duration})),u=u.concat(e)})),u}(p,d,l),r=s(a,n,f),i[f]||(i[f]=[]),i[f]=i[f].concat(r))})),i};e.exports=function(){var t,e,n,r,o,a,s=!1;this.isInitialized=function(){return s},this.init=function(e){t=new i,s=!0,a=!!e&&e.isPartial,t.on("data",(function(t){t.startTime=t.startPts/r,t.endTime=t.endPts/r,o.captions.push(t),o.captionStreams[t.stream]=!0}))},this.isNewInit=function(t,e){return!(t&&0===t.length||e&&"object"==typeof e&&0===Object.keys(e).length||n===t[0]&&r===e[n])},this.parse=function(t,i,a){var s;if(!this.isInitialized())return null;if(!i||!a)return null;if(this.isNewInit(i,a))n=i[0],r=a[n];else if(null===n||!r)return e.push(t),null;for(;e.length>0;){var c=e.shift();this.parse(c,i,a)}return null!==(s=function(t,e,n){return null===e?null:{seiNals:u(t,e)[e],timescale:n}}(t,n,r))&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),o):null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach((function(e){t.push(e)}))},this.flushStream=function(){if(!this.isInitialized())return null;a?t.partialFlush():t.flush()},this.clearParsedCaptions=function(){o.captions=[],o.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){e=[],n=null,r=null,o?this.clearParsedCaptions():o={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}},{16:16,35:35,37:37}],25:[function(t,e,n){var r=function(t,e){var n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return n.dataOffset=e,n.compositionTimeOffset=t.pts-t.dts,n.duration=t.duration,n.size=4*t.length,n.size+=t.byteLength,t.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n};e.exports={groupNalsIntoFrames:function(t){var e,n,r=[],i=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,r.byteLength=0,e=0;e<t.length;e++)"access_unit_delimiter_rbsp"===(n=t[e]).nalUnitType?(r.length&&(r.duration=n.dts-r.dts,i.byteLength+=r.byteLength,i.nalCount+=r.length,i.duration+=r.duration,i.push(r)),(r=[n]).byteLength=n.data.byteLength,r.pts=n.pts,r.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(r.keyFrame=!0),r.duration=n.dts-r.dts,r.byteLength+=n.data.byteLength,r.push(n));return i.length&&(!r.duration||r.duration<=0)&&(r.duration=i[i.length-1].duration),i.byteLength+=r.byteLength,i.nalCount+=r.length,i.duration+=r.duration,i.push(r),i},groupFramesIntoGops:function(t){var e,n,r=[],i=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=t[0].pts,i.dts=t[0].dts,e=0;e<t.length;e++)(n=t[e]).keyFrame?(r.length&&(i.push(r),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration),(r=[n]).nalCount=n.length,r.byteLength=n.byteLength,r.pts=n.pts,r.dts=n.dts,r.duration=n.duration):(r.duration+=n.duration,r.nalCount+=n.length,r.byteLength+=n.byteLength,r.push(n));return i.length&&r.duration<=0&&(r.duration=i[i.length-1].duration),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration,i.push(r),i},extendFirstKeyFrame:function(t){var e;return!t[0][0].keyFrame&&t.length>1&&(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t},generateSampleTable:function(t,e){var n,i,o,a,s,u=e||0,c=[];for(n=0;n<t.length;n++)for(a=t[n],i=0;i<a.length;i++)s=a[i],u+=(o=r(s,u)).size,c.push(o);return c},concatenateNalData:function(t){var e,n,r,i,o,a,s=0,u=t.byteLength,c=t.nalCount,l=new Uint8Array(u+4*c),f=new DataView(l.buffer);for(e=0;e<t.length;e++)for(i=t[e],n=0;n<i.length;n++)for(o=i[n],r=0;r<o.length;r++)a=o[r],f.setUint32(s,a.data.byteLength),s+=4,l.set(a.data,s),s+=a.data.byteLength;return l},generateSampleTableForFrame:function(t,e){var n,i=[];return n=r(t,e||0),i.push(n),i},concatenateNalDataForFrame:function(t){var e,n,r=0,i=t.byteLength,o=t.length,a=new Uint8Array(i+4*o),s=new DataView(a.buffer);for(e=0;e<t.length;e++)n=t[e],s.setUint32(r,n.data.byteLength),r+=4,a.set(n.data,r),r+=n.data.byteLength;return a}}},{}],26:[function(t,e,n){e.exports={generator:t(27),probe:t(28),Transmuxer:t(30).Transmuxer,AudioSegmentStream:t(30).AudioSegmentStream,VideoSegmentStream:t(30).VideoSegmentStream,CaptionParser:t(24)}},{24:24,27:27,28:28,30:30}],27:[function(t,e,n){"use strict";var r,i,o,a,s,u,c,l,f,h,d,p,m,g,y,b,v,w,T,S,x,E,M,I,A,k,N,L,D,C,O,_,P,j,R,U,z=Math.pow(2,32)-1;!function(){var t;if(M={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(t in M)M.hasOwnProperty(t)&&(M[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);I=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),k=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),A=new Uint8Array([0,0,0,1]),N=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),L=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),D={video:N,audio:L},_=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),O=new Uint8Array([0,0,0,0,0,0,0,0]),P=new Uint8Array([0,0,0,0,0,0,0,0]),j=P,R=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),U=P,C=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),r=function(t){var e,n,r=[],i=0;for(e=1;e<arguments.length;e++)r.push(arguments[e]);for(e=r.length;e--;)i+=r[e].byteLength;for(n=new Uint8Array(i+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(t,4),e=0,i=8;e<r.length;e++)n.set(r[e],i),i+=r[e].byteLength;return n},i=function(){return r(M.dinf,r(M.dref,_))},o=function(t){return r(M.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},a=function(){return r(M.ftyp,I,A,I,k)},b=function(t){return r(M.hdlr,D[t])},s=function(t){return r(M.mdat,t)},y=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(e[12]=t.samplerate>>>24&255,e[13]=t.samplerate>>>16&255,e[14]=t.samplerate>>>8&255,e[15]=255&t.samplerate),r(M.mdhd,e)},g=function(t){return r(M.mdia,y(t),b(t.type),c(t))},u=function(t){return r(M.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},c=function(t){return r(M.minf,"video"===t.type?r(M.vmhd,C):r(M.smhd,O),i(),w(t))},l=function(t,e){for(var n=[],i=e.length;i--;)n[i]=S(e[i]);return r.apply(null,[M.moof,u(t)].concat(n))},f=function(t){for(var e=t.length,n=[];e--;)n[e]=p(t[e]);return r.apply(null,[M.moov,d(4294967295)].concat(n).concat(h(t)))},h=function(t){for(var e=t.length,n=[];e--;)n[e]=x(t[e]);return r.apply(null,[M.mvex].concat(n))},d=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return r(M.mvhd,e)},v=function(t){var e,n,i=t.samples||[],o=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)e=i[n].flags,o[n+4]=e.dependsOn<<4|e.isDependedOn<<2|e.hasRedundancy;return r(M.sdtp,o)},w=function(t){return r(M.stbl,T(t),r(M.stts,U),r(M.stsc,j),r(M.stsz,R),r(M.stco,P))},function(){var t,e;T=function(n){return r(M.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===n.type?t(n):e(n))},t=function(t){var e,n,i=t.sps||[],o=t.pps||[],a=[],s=[];for(e=0;e<i.length;e++)a.push((65280&i[e].byteLength)>>>8),a.push(255&i[e].byteLength),a=a.concat(Array.prototype.slice.call(i[e]));for(e=0;e<o.length;e++)s.push((65280&o[e].byteLength)>>>8),s.push(255&o[e].byteLength),s=s.concat(Array.prototype.slice.call(o[e]));if(n=[M.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),r(M.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([i.length],a,[o.length],s))),r(M.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],t.sarRatio){var u=t.sarRatio[0],c=t.sarRatio[1];n.push(r(M.pasp,new Uint8Array([(4278190080&u)>>24,(16711680&u)>>16,(65280&u)>>8,255&u,(4278190080&c)>>24,(16711680&c)>>16,(65280&c)>>8,255&c])))}return r.apply(null,n)},e=function(t){return r(M.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),o(t))}}(),m=function(t){var e=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return r(M.tkhd,e)},S=function(t){var e,n,i,o,a,s;return e=r(M.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(t.baseMediaDecodeTime/(z+1)),s=Math.floor(t.baseMediaDecodeTime%(z+1)),n=r(M.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),"audio"===t.type?(i=E(t,92),r(M.traf,e,n,i)):(o=v(t),i=E(t,o.length+92),r(M.traf,e,n,i,o))},p=function(t){return t.duration=t.duration||4294967295,r(M.trak,m(t),g(t))},x=function(t){var e=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(e[e.length-1]=0),r(M.trex,e)},function(){var t,e,n;n=function(t,e){var n=0,r=0,i=0,o=0;return t.length&&(void 0!==t[0].duration&&(n=1),void 0!==t[0].size&&(r=2),void 0!==t[0].flags&&(i=4),void 0!==t[0].compositionTimeOffset&&(o=8)),[0,0,n|r|i|o,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},e=function(t,e){var i,o,a,s,u,c;for(e+=20+16*(s=t.samples||[]).length,a=n(s,e),(o=new Uint8Array(a.length+16*s.length)).set(a),i=a.length,c=0;c<s.length;c++)u=s[c],o[i++]=(4278190080&u.duration)>>>24,o[i++]=(16711680&u.duration)>>>16,o[i++]=(65280&u.duration)>>>8,o[i++]=255&u.duration,o[i++]=(4278190080&u.size)>>>24,o[i++]=(16711680&u.size)>>>16,o[i++]=(65280&u.size)>>>8,o[i++]=255&u.size,o[i++]=u.flags.isLeading<<2|u.flags.dependsOn,o[i++]=u.flags.isDependedOn<<6|u.flags.hasRedundancy<<4|u.flags.paddingValue<<1|u.flags.isNonSyncSample,o[i++]=61440&u.flags.degradationPriority,o[i++]=15&u.flags.degradationPriority,o[i++]=(4278190080&u.compositionTimeOffset)>>>24,o[i++]=(16711680&u.compositionTimeOffset)>>>16,o[i++]=(65280&u.compositionTimeOffset)>>>8,o[i++]=255&u.compositionTimeOffset;return r(M.trun,o)},t=function(t,e){var i,o,a,s,u,c;for(e+=20+8*(s=t.samples||[]).length,a=n(s,e),(i=new Uint8Array(a.length+8*s.length)).set(a),o=a.length,c=0;c<s.length;c++)u=s[c],i[o++]=(4278190080&u.duration)>>>24,i[o++]=(16711680&u.duration)>>>16,i[o++]=(65280&u.duration)>>>8,i[o++]=255&u.duration,i[o++]=(4278190080&u.size)>>>24,i[o++]=(16711680&u.size)>>>16,i[o++]=(65280&u.size)>>>8,i[o++]=255&u.size;return r(M.trun,i)},E=function(n,r){return"audio"===n.type?t(n,r):e(n,r)}}(),e.exports={ftyp:a,mdat:s,moof:l,moov:f,initSegment:function(t){var e,n=a(),r=f(t);return(e=new Uint8Array(n.byteLength+r.byteLength)).set(n),e.set(r,n.byteLength),e}}},{}],28:[function(t,e,n){"use strict";var r,i,o,a,s,u,c=t(39).toUnsigned,l=t(39).toHexString,f=t(37);r=function(t){return f.findBox(t,["moov","trak"]).reduce((function(t,e){var n,r,i,o,a;return(n=f.findBox(e,["tkhd"])[0])?(r=n[0],o=c(n[i=0===r?12:20]<<24|n[i+1]<<16|n[i+2]<<8|n[i+3]),(a=f.findBox(e,["mdia","mdhd"])[0])?(i=0===(r=a[0])?12:20,t[o]=c(a[i]<<24|a[i+1]<<16|a[i+2]<<8|a[i+3]),t):null):null}),{})},i=function(t,e){var n,r,i;return n=f.findBox(e,["moof","traf"]),r=[].concat.apply([],n.map((function(e){return f.findBox(e,["tfhd"]).map((function(n){var r,i;return r=c(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),i=t[r]||9e4,(f.findBox(e,["tfdt"]).map((function(t){var e,n;return e=t[0],n=c(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),1===e&&(n*=Math.pow(2,32),n+=c(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),n}))[0]||1/0)/i}))}))),i=Math.min.apply(null,r),isFinite(i)?i:0},o=function(t,e){var n,r=f.findBox(e,["moof","traf"]),i=0,o=0;if(r&&r.length)for(var a=f.parseTraf(r[0]),s=0;s<a.boxes.length;s++)"tfhd"===a.boxes[s].type?n=a.boxes[s].trackId:"tfdt"===a.boxes[s].type?i=a.boxes[s].baseMediaDecodeTime:"trun"===a.boxes[s].type&&a.boxes[s].samples.length&&(o=a.boxes[s].samples[0].compositionTimeOffset||0);return(i+o)/(t[n]||9e4)},a=function(t){var e=f.findBox(t,["moov","trak"]),n=[];return e.forEach((function(t){var e=f.findBox(t,["mdia","hdlr"]),r=f.findBox(t,["tkhd"]);e.forEach((function(t,e){var i,o,a=f.parseType(t.subarray(8,12)),s=r[e];"vide"===a&&(o=0===(i=new DataView(s.buffer,s.byteOffset,s.byteLength)).getUint8(0)?i.getUint32(12):i.getUint32(20),n.push(o))}))})),n},u=function(t){var e=0===t[0]?12:20;return c(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])},s=function(t){var e=f.findBox(t,["moov","trak"]),n=[];return e.forEach((function(t){var e,r,i={},o=f.findBox(t,["tkhd"])[0];o&&(r=(e=new DataView(o.buffer,o.byteOffset,o.byteLength)).getUint8(0),i.id=0===r?e.getUint32(12):e.getUint32(20));var a=f.findBox(t,["mdia","hdlr"])[0];if(a){var s=f.parseType(a.subarray(8,12));i.type="vide"===s?"video":"soun"===s?"audio":s}var c=f.findBox(t,["mdia","minf","stbl","stsd"])[0];if(c){var h=c.subarray(8);i.codec=f.parseType(h.subarray(4,8));var d,p=f.findBox(h,[i.codec])[0];p&&(/^[a-z]vc[1-9]$/i.test(i.codec)?(d=p.subarray(78),"avcC"===f.parseType(d.subarray(4,8))&&d.length>11?(i.codec+=".",i.codec+=l(d[9]),i.codec+=l(d[10]),i.codec+=l(d[11])):i.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(i.codec)&&(d=p.subarray(28),"esds"===f.parseType(d.subarray(4,8))&&d.length>20&&0!==d[19]?(i.codec+="."+l(d[19]),i.codec+="."+l(d[20]>>>2&63).replace(/^0/,"")):i.codec="mp4a.40.2"))}var m=f.findBox(t,["mdia","mdhd"])[0];m&&(i.timescale=u(m)),n.push(i)})),n},e.exports={findBox:f.findBox,parseType:f.parseType,timescale:r,startTime:i,compositionStartTime:o,videoTrackIds:a,tracks:s,getTimescaleFromMediaHeader:u}},{37:37,39:39}],29:[function(t,e,n){var r=t(40).ONE_SECOND_IN_TS;e.exports={clearDtsInfo:function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},calculateTrackBaseMediaDecodeTime:function(t,e){var n,i=t.minSegmentDts;return e||(i-=t.timelineStartInfo.dts),n=t.timelineStartInfo.baseMediaDecodeTime,n+=i,n=Math.max(0,n),"audio"===t.type&&(n*=t.samplerate/r,n=Math.floor(n)),n},collectDtsInfo:function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))}}},{40:40}],30:[function(t,e,n){"use strict";var r,i,o,a,s=t(42),u=t(27),c=t(25),l=t(23),f=t(29),h=t(18),d=t(40),p=t(3),m=t(4).H264Stream,g=t(1),y=t(2).isLikelyAacData,b=t(40).ONE_SECOND_IN_TS,v=t(6),w=t(7),T=function(t,e){var n;if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},S=function(t,e,n,r,i,o){return{start:{dts:t,pts:t+(n-e)},end:{dts:t+(r-e),pts:t+(i-n)},prependedContentDuration:o,baseMediaDecodeTime:t}};(i=function(t,e){var n=[],r=0,o=0,a=0,s=1/0;e=e||{},i.prototype.init.call(this),this.push=function(e){f.collectDtsInfo(t,e),t&&v.forEach((function(n){t[n]=e[n]})),n.push(e)},this.setEarliestDts=function(t){o=t},this.setVideoBaseMediaDecodeTime=function(t){s=t},this.setAudioAppendStart=function(t){a=t},this.flush=function(){var i,c,h,d,p;0!==n.length?(i=l.trimAdtsFramesByEarliestDts(n,t,o),t.baseMediaDecodeTime=f.calculateTrackBaseMediaDecodeTime(t,e.keepOriginalTimestamps),l.prefixWithSilence(t,i,a,s),t.samples=l.generateSampleTable(i),h=u.mdat(l.concatenateFrameData(i)),n=[],c=u.moof(r,[t]),d=new Uint8Array(c.byteLength+h.byteLength),r++,d.set(c),d.set(h,c.byteLength),f.clearDtsInfo(t),p=Math.ceil(1024*b/t.samplerate),i.length&&this.trigger("timingInfo",{start:i[0].pts,end:i[0].pts+i.length*p}),this.trigger("data",{track:t,boxes:d}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){f.clearDtsInfo(t),n=[],this.trigger("reset")}}).prototype=new s,(r=function(t,e){var n,i,o=0,a=[],s=[];e=e||{},r.prototype.init.call(this),delete t.minPTS,this.gopCache_=[],this.push=function(e){f.collectDtsInfo(t,e),"seq_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.config,t.sps=[e.data],w.forEach((function(e){t[e]=n[e]}),this)),"pic_parameter_set_rbsp"!==e.nalUnitType||i||(i=e.data,t.pps=[e.data]),a.push(e)},this.flush=function(){for(var n,r,i,l,h,d,p,m,g=0;a.length&&"access_unit_delimiter_rbsp"!==a[0].nalUnitType;)a.shift();if(0===a.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=c.groupNalsIntoFrames(a),(i=c.groupFramesIntoGops(n))[0][0].keyFrame||((r=this.getGopForFusion_(a[0],t))?(g=r.duration,i.unshift(r),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.pts=r.pts,i.dts=r.dts,i.duration+=r.duration):i=c.extendFirstKeyFrame(i)),s.length){var y;if(!(y=e.alignGopsAtEnd?this.alignGopsAtEnd_(i):this.alignGopsAtStart_(i)))return this.gopCache_.unshift({gop:i.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");f.clearDtsInfo(t),i=y}f.collectDtsInfo(t,i),t.samples=c.generateSampleTable(i),h=u.mdat(c.concatenateNalData(i)),t.baseMediaDecodeTime=f.calculateTrackBaseMediaDecodeTime(t,e.keepOriginalTimestamps),this.trigger("processedGopsInfo",i.map((function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}}))),p=i[0],m=i[i.length-1],this.trigger("segmentTimingInfo",S(t.baseMediaDecodeTime,p.dts,p.pts,m.dts+m.duration,m.pts+m.duration,g)),this.trigger("timingInfo",{start:i[0].pts,end:i[i.length-1].pts+i[i.length-1].duration}),this.gopCache_.unshift({gop:i.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.trigger("baseMediaDecodeTime",t.baseMediaDecodeTime),this.trigger("timelineStartInfo",t.timelineStartInfo),l=u.moof(o,[t]),d=new Uint8Array(l.byteLength+h.byteLength),o++,d.set(l),d.set(h,l.byteLength),this.trigger("data",{track:t,boxes:d}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),a=[],this.gopCache_.length=0,s.length=0,this.trigger("reset")},this.resetStream_=function(){f.clearDtsInfo(t),n=void 0,i=void 0},this.getGopForFusion_=function(e){var n,r,i,o,a,s=1/0;for(a=0;a<this.gopCache_.length;a++)i=(o=this.gopCache_[a]).gop,t.pps&&T(t.pps[0],o.pps[0])&&t.sps&&T(t.sps[0],o.sps[0])&&(i.dts<t.timelineStartInfo.dts||(n=e.dts-i.dts-i.duration)>=-1e4&&n<=45e3&&(!r||s>n)&&(r=o,s=n));return r?r.gop:null},this.alignGopsAtStart_=function(t){var e,n,r,i,o,a,u,c;for(o=t.byteLength,a=t.nalCount,u=t.duration,e=n=0;e<s.length&&n<t.length&&(r=s[e],i=t[n],r.pts!==i.pts);)i.pts>r.pts?e++:(n++,o-=i.byteLength,a-=i.nalCount,u-=i.duration);return 0===n?t:n===t.length?null:((c=t.slice(n)).byteLength=o,c.duration=u,c.nalCount=a,c.pts=c[0].pts,c.dts=c[0].dts,c)},this.alignGopsAtEnd_=function(t){var e,n,r,i,o,a,u;for(e=s.length-1,n=t.length-1,o=null,a=!1;e>=0&&n>=0;){if(r=s[e],i=t[n],r.pts===i.pts){a=!0;break}r.pts>i.pts?e--:(e===s.length-1&&(o=n),n--)}if(!a&&null===o)return null;if(0===(u=a?n:o))return t;var c=t.slice(u),l=c.reduce((function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t}),{byteLength:0,duration:0,nalCount:0});return c.byteLength=l.byteLength,c.duration=l.duration,c.nalCount=l.nalCount,c.pts=c[0].pts,c.dts=c[0].dts,c},this.alignGopsWith=function(t){s=t}}).prototype=new s,(a=function(t,e){this.numberOfTracks=0,this.metadataStream=e,void 0!==(t=t||{}).remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,"boolean"==typeof t.keepOriginalTimestamps?this.keepOriginalTimestamps=t.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,a.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track,this.pendingBoxes.push(t.boxes)),void("audio"===t.track.type&&(this.audioTrack=t.track,this.pendingBoxes.unshift(t.boxes))))}}).prototype=new s,a.prototype.flush=function(t){var e,n,r,i,o=0,a={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return void(++this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,w.forEach((function(t){a.info[t]=this.videoTrack[t]}),this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,v.forEach((function(t){a.info[t]=this.audioTrack[t]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,r=u.initSegment(this.pendingTracks),a.initSegment=new Uint8Array(r.byteLength),a.initSegment.set(r),a.data=new Uint8Array(this.pendingBytes),i=0;i<this.pendingBoxes.length;i++)a.data.set(this.pendingBoxes[i],o),o+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)(e=this.pendingCaptions[i]).startTime=d.metadataTsToSeconds(e.startPts,s,this.keepOriginalTimestamps),e.endTime=d.metadataTsToSeconds(e.endPts,s,this.keepOriginalTimestamps),a.captionStreams[e.stream]=!0,a.captions.push(e);for(i=0;i<this.pendingMetadata.length;i++)(n=this.pendingMetadata[i]).cueTime=d.metadataTsToSeconds(n.pts,s,this.keepOriginalTimestamps),a.metadata.push(n);for(a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),i=0;i<a.captions.length;i++)e=a.captions[i],this.trigger("caption",e);for(i=0;i<a.metadata.length;i++)n=a.metadata[i],this.trigger("id3Frame",n)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},a.prototype.setRemux=function(t){this.remuxTracks=t},(o=function(t){var e,n,s=this,u=!0;o.prototype.init.call(this),t=t||{},this.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="aac",r.metadataStream=new h.MetadataStream,r.aacStream=new g,r.audioTimestampRolloverStream=new h.TimestampRolloverStream("audio"),r.timedMetadataTimestampRolloverStream=new h.TimestampRolloverStream("timed-metadata"),r.adtsStream=new p,r.coalesceStream=new a(t,r.metadataStream),r.headOfPipeline=r.aacStream,r.aacStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.aacStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.metadataStream.on("timestamp",(function(t){r.aacStream.setTimestamp(t.timeStamp)})),r.aacStream.on("data",(function(o){"timed-metadata"!==o.type||r.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:s.baseMediaDecodeTime},codec:"adts",type:"audio"},r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new i(n,t),r.audioSegmentStream.on("timingInfo",s.trigger.bind(s,"audioTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream)),s.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!e})})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var o={};this.transmuxPipeline_=o,o.type="ts",o.metadataStream=new h.MetadataStream,o.packetStream=new h.TransportPacketStream,o.parseStream=new h.TransportParseStream,o.elementaryStream=new h.ElementaryStream,o.timestampRolloverStream=new h.TimestampRolloverStream,o.adtsStream=new p,o.h264Stream=new m,o.captionStream=new h.CaptionStream,o.coalesceStream=new a(t,o.metadataStream),o.headOfPipeline=o.packetStream,o.packetStream.pipe(o.parseStream).pipe(o.elementaryStream).pipe(o.timestampRolloverStream),o.timestampRolloverStream.pipe(o.h264Stream),o.timestampRolloverStream.pipe(o.adtsStream),o.timestampRolloverStream.pipe(o.metadataStream).pipe(o.coalesceStream),o.h264Stream.pipe(o.captionStream).pipe(o.coalesceStream),o.elementaryStream.on("data",(function(a){var u;if("metadata"===a.type){for(u=a.tracks.length;u--;)e||"video"!==a.tracks[u].type?n||"audio"!==a.tracks[u].type||((n=a.tracks[u]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime):(e=a.tracks[u]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime;e&&!o.videoSegmentStream&&(o.coalesceStream.numberOfTracks++,o.videoSegmentStream=new r(e,t),o.videoSegmentStream.on("timelineStartInfo",(function(e){n&&!t.keepOriginalTimestamps&&(n.timelineStartInfo=e,o.audioSegmentStream.setEarliestDts(e.dts-s.baseMediaDecodeTime))})),o.videoSegmentStream.on("processedGopsInfo",s.trigger.bind(s,"gopInfo")),o.videoSegmentStream.on("segmentTimingInfo",s.trigger.bind(s,"videoSegmentTimingInfo")),o.videoSegmentStream.on("baseMediaDecodeTime",(function(t){n&&o.audioSegmentStream.setVideoBaseMediaDecodeTime(t)})),o.videoSegmentStream.on("timingInfo",s.trigger.bind(s,"videoTimingInfo")),o.h264Stream.pipe(o.videoSegmentStream).pipe(o.coalesceStream)),n&&!o.audioSegmentStream&&(o.coalesceStream.numberOfTracks++,o.audioSegmentStream=new i(n,t),o.audioSegmentStream.on("timingInfo",s.trigger.bind(s,"audioTimingInfo")),o.adtsStream.pipe(o.audioSegmentStream).pipe(o.coalesceStream)),s.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!e})}})),o.coalesceStream.on("data",this.trigger.bind(this,"data")),o.coalesceStream.on("id3Frame",(function(t){t.dispatchType=o.metadataStream.dispatchType,s.trigger("id3Frame",t)})),o.coalesceStream.on("caption",this.trigger.bind(this,"caption")),o.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(r){var i=this.transmuxPipeline_;t.keepOriginalTimestamps||(this.baseMediaDecodeTime=r),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,f.clearDtsInfo(n),i.audioTimestampRolloverStream&&i.audioTimestampRolloverStream.discontinuity()),e&&(i.videoSegmentStream&&(i.videoSegmentStream.gopCache_=[]),e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,f.clearDtsInfo(e),i.captionStream.reset()),i.timestampRolloverStream&&i.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.setRemux=function(e){var n=this.transmuxPipeline_;t.remux=e,n&&n.coalesceStream&&n.coalesceStream.setRemux(e)},this.alignGopsWith=function(t){e&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(u){var e=y(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),u=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){u=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new s,e.exports={Transmuxer:o,VideoSegmentStream:r,AudioSegmentStream:i,AUDIO_PROPERTIES:v,VIDEO_PROPERTIES:w,generateVideoSegmentTimingInfo:S}},{1:1,18:18,2:2,23:23,25:25,27:27,29:29,3:3,4:4,40:40,42:42,6:6,7:7}],31:[function(t,e,n){"use strict";var r=t(42),i=t(27),o=t(23),a=t(29),s=t(40).ONE_SECOND_IN_TS,u=t(6),c=function(t,e){var n=[],r=0,l=0,f=0,h=1/0,d=null,p=null;e=e||{},c.prototype.init.call(this),this.push=function(e){a.collectDtsInfo(t,e),t&&u.forEach((function(n){t[n]=e[n]})),n.push(e)},this.setEarliestDts=function(t){l=t},this.setVideoBaseMediaDecodeTime=function(t){h=t},this.setAudioAppendStart=function(t){f=t},this.processFrames_=function(){var u,c,m,g,y;0!==n.length&&0!==(u=o.trimAdtsFramesByEarliestDts(n,t,l)).length&&(t.baseMediaDecodeTime=a.calculateTrackBaseMediaDecodeTime(t,e.keepOriginalTimestamps),o.prefixWithSilence(t,u,f,h),t.samples=o.generateSampleTable(u),m=i.mdat(o.concatenateFrameData(u)),n=[],c=i.moof(r,[t]),r++,t.initSegment=i.initSegment([t]),(g=new Uint8Array(c.byteLength+m.byteLength)).set(c),g.set(m,c.byteLength),a.clearDtsInfo(t),null===d&&(p=d=u[0].pts),p+=u.length*(1024*s/t.samplerate),y={start:d},this.trigger("timingInfo",y),this.trigger("data",{track:t,boxes:g}))},this.flush=function(){this.processFrames_(),this.trigger("timingInfo",{start:d,end:p}),this.resetTiming_(),this.trigger("done","AudioSegmentStream")},this.partialFlush=function(){this.processFrames_(),this.trigger("partialdone","AudioSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","AudioSegmentStream")},this.resetTiming_=function(){a.clearDtsInfo(t),d=null,p=null},this.reset=function(){this.resetTiming_(),n=[],this.trigger("reset")}};c.prototype=new r,e.exports=c},{23:23,27:27,29:29,40:40,42:42,6:6}],32:[function(t,e,n){e.exports={Transmuxer:t(33)}},{33:33}],33:[function(t,e,n){var r=t(42),i=t(18),o=t(5),a=t(31),s=t(34),u=t(29),c=t(2).isLikelyAacData,l=t(3),f=t(1),h=t(40),d=function(t){return t.prototype=new r,t.prototype.init.call(t),t},p=function(t){var e={type:"ts",tracks:{audio:null,video:null},packet:new i.TransportPacketStream,parse:new i.TransportParseStream,elementary:new i.ElementaryStream,timestampRollover:new i.TimestampRolloverStream,adts:new o.Adts,h264:new o.h264.H264Stream,captionStream:new i.CaptionStream,metadataStream:new i.MetadataStream};return e.headOfPipeline=e.packet,e.packet.pipe(e.parse).pipe(e.elementary).pipe(e.timestampRollover),e.timestampRollover.pipe(e.h264),e.h264.pipe(e.captionStream),e.timestampRollover.pipe(e.metadataStream),e.timestampRollover.pipe(e.adts),e.elementary.on("data",(function(n){if("metadata"===n.type){for(var r=0;r<n.tracks.length;r++)e.tracks[n.tracks[r].type]||(e.tracks[n.tracks[r].type]=n.tracks[r],e.tracks[n.tracks[r].type].timelineStartInfo.baseMediaDecodeTime=t.baseMediaDecodeTime);e.tracks.video&&!e.videoSegmentStream&&(e.videoSegmentStream=new s(e.tracks.video,t),e.videoSegmentStream.on("timelineStartInfo",(function(n){e.tracks.audio&&!t.keepOriginalTimestamps&&e.audioSegmentStream.setEarliestDts(n.dts-t.baseMediaDecodeTime)})),e.videoSegmentStream.on("timingInfo",e.trigger.bind(e,"videoTimingInfo")),e.videoSegmentStream.on("data",(function(t){e.trigger("data",{type:"video",data:t})})),e.videoSegmentStream.on("done",e.trigger.bind(e,"done")),e.videoSegmentStream.on("partialdone",e.trigger.bind(e,"partialdone")),e.videoSegmentStream.on("endedtimeline",e.trigger.bind(e,"endedtimeline")),e.h264.pipe(e.videoSegmentStream)),e.tracks.audio&&!e.audioSegmentStream&&(e.audioSegmentStream=new a(e.tracks.audio,t),e.audioSegmentStream.on("data",(function(t){e.trigger("data",{type:"audio",data:t})})),e.audioSegmentStream.on("done",e.trigger.bind(e,"done")),e.audioSegmentStream.on("partialdone",e.trigger.bind(e,"partialdone")),e.audioSegmentStream.on("endedtimeline",e.trigger.bind(e,"endedtimeline")),e.audioSegmentStream.on("timingInfo",e.trigger.bind(e,"audioTimingInfo")),e.adts.pipe(e.audioSegmentStream)),e.trigger("trackinfo",{hasAudio:!!e.tracks.audio,hasVideo:!!e.tracks.video})}})),e.captionStream.on("data",(function(n){var r;r=e.tracks.video&&e.tracks.video.timelineStartInfo.pts||0,n.startTime=h.metadataTsToSeconds(n.startPts,r,t.keepOriginalTimestamps),n.endTime=h.metadataTsToSeconds(n.endPts,r,t.keepOriginalTimestamps),e.trigger("caption",n)})),(e=d(e)).metadataStream.on("data",e.trigger.bind(e,"id3Frame")),e},m=function(t){var e={type:"aac",tracks:{audio:null},metadataStream:new i.MetadataStream,aacStream:new f,audioRollover:new i.TimestampRolloverStream("audio"),timedMetadataRollover:new i.TimestampRolloverStream("timed-metadata"),adtsStream:new l(!0)};return e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioRollover).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataRollover).pipe(e.metadataStream),e.metadataStream.on("timestamp",(function(t){e.aacStream.setTimestamp(t.timeStamp)})),e.aacStream.on("data",(function(n){"timed-metadata"!==n.type||e.audioSegmentStream||(e.tracks.audio=e.tracks.audio||{timelineStartInfo:{baseMediaDecodeTime:t.baseMediaDecodeTime},codec:"adts",type:"audio"},e.audioSegmentStream=new a(e.tracks.audio,t),e.audioSegmentStream.on("data",(function(t){e.trigger("data",{type:"audio",data:t})})),e.audioSegmentStream.on("partialdone",e.trigger.bind(e,"partialdone")),e.audioSegmentStream.on("done",e.trigger.bind(e,"done")),e.audioSegmentStream.on("endedtimeline",e.trigger.bind(e,"endedtimeline")),e.audioSegmentStream.on("timingInfo",e.trigger.bind(e,"audioTimingInfo")),e.adtsStream.pipe(e.audioSegmentStream),e.trigger("trackinfo",{hasAudio:!!e.tracks.audio,hasVideo:!!e.tracks.video}))})),(e=d(e)).metadataStream.on("data",e.trigger.bind(e,"id3Frame")),e},g=function(t,e){t.on("data",e.trigger.bind(e,"data")),t.on("done",e.trigger.bind(e,"done")),t.on("partialdone",e.trigger.bind(e,"partialdone")),t.on("endedtimeline",e.trigger.bind(e,"endedtimeline")),t.on("audioTimingInfo",e.trigger.bind(e,"audioTimingInfo")),t.on("videoTimingInfo",e.trigger.bind(e,"videoTimingInfo")),t.on("trackinfo",e.trigger.bind(e,"trackinfo")),t.on("id3Frame",(function(n){n.dispatchType=t.metadataStream.dispatchType,n.cueTime=h.videoTsToSeconds(n.pts),e.trigger("id3Frame",n)})),t.on("caption",(function(t){e.trigger("caption",t)}))},y=function(t){var e=null,n=!0;t=t||{},y.prototype.init.call(this),t.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.push=function(r){if(n){var i=c(r);!i||e&&"aac"===e.type?i||e&&"ts"===e.type||(e=p(t),g(e,this)):(e=m(t),g(e,this)),n=!1}e.headOfPipeline.push(r)},this.flush=function(){e&&(n=!0,e.headOfPipeline.flush())},this.partialFlush=function(){e&&e.headOfPipeline.partialFlush()},this.endTimeline=function(){e&&e.headOfPipeline.endTimeline()},this.reset=function(){e&&e.headOfPipeline.reset()},this.setBaseMediaDecodeTime=function(n){t.keepOriginalTimestamps||(t.baseMediaDecodeTime=n),e&&(e.tracks.audio&&(e.tracks.audio.timelineStartInfo.dts=void 0,e.tracks.audio.timelineStartInfo.pts=void 0,u.clearDtsInfo(e.tracks.audio),e.audioRollover&&e.audioRollover.discontinuity()),e.tracks.video&&(e.videoSegmentStream&&(e.videoSegmentStream.gopCache_=[]),e.tracks.video.timelineStartInfo.dts=void 0,e.tracks.video.timelineStartInfo.pts=void 0,u.clearDtsInfo(e.tracks.video)),e.timestampRollover&&e.timestampRollover.discontinuity())},this.setRemux=function(n){t.remux=n,e&&e.coalesceStream&&e.coalesceStream.setRemux(n)},this.setAudioAppendStart=function(t){e&&e.tracks.audio&&e.audioSegmentStream&&e.audioSegmentStream.setAudioAppendStart(t)},this.alignGopsWith=function(t){}};y.prototype=new r,e.exports=y},{1:1,18:18,2:2,29:29,3:3,31:31,34:34,40:40,42:42,5:5}],34:[function(t,e,n){"use strict";var r=t(42),i=t(27),o=t(29),a=t(25),s=t(7),u=function(t,e){var n,r,c,l=0,f=[],h=[],d=null,p=null,m=!0;e=e||{},u.prototype.init.call(this),this.push=function(e){o.collectDtsInfo(t,e),void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),"seq_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.config,t.sps=[e.data],s.forEach((function(e){t[e]=n[e]}),this)),"pic_parameter_set_rbsp"!==e.nalUnitType||r||(r=e.data,t.pps=[e.data]),f.push(e)},this.processNals_=function(n){var r;for(f=h.concat(f);f.length&&"access_unit_delimiter_rbsp"!==f[0].nalUnitType;)f.shift();if(0!==f.length){var s=a.groupNalsIntoFrames(f);if(s.length){if(h=s[s.length-1],n&&(s.pop(),s.duration-=h.duration,s.nalCount-=h.length,s.byteLength-=h.byteLength),!s.length)return void(f=[]);if(this.trigger("timelineStartInfo",t.timelineStartInfo),m){if(!(c=a.groupFramesIntoGops(s))[0][0].keyFrame){if(!(c=a.extendFirstKeyFrame(c))[0][0].keyFrame)return f=[].concat.apply([],s).concat(h),void(h=[]);(s=[].concat.apply([],c)).duration=c.duration}m=!1}for(null===d&&(d=s[0].pts,p=d),p+=s.duration,this.trigger("timingInfo",{start:d,end:p}),r=0;r<s.length;r++){var u=s[r];t.samples=a.generateSampleTableForFrame(u);var g=i.mdat(a.concatenateNalDataForFrame(u));o.clearDtsInfo(t),o.collectDtsInfo(t,u),t.baseMediaDecodeTime=o.calculateTrackBaseMediaDecodeTime(t,e.keepOriginalTimestamps);var y=i.moof(l,[t]);l++,t.initSegment=i.initSegment([t]);var b=new Uint8Array(y.byteLength+g.byteLength);b.set(y),b.set(g,y.byteLength),this.trigger("data",{track:t,boxes:b,sequence:l,videoFrameDts:u.dts,videoFramePts:u.pts})}f=[]}}},this.resetTimingAndConfig_=function(){n=void 0,r=void 0,d=null,p=null},this.partialFlush=function(){this.processNals_(!0),this.trigger("partialdone","VideoSegmentStream")},this.flush=function(){this.processNals_(!1),this.resetTimingAndConfig_(),this.trigger("done","VideoSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","VideoSegmentStream")},this.reset=function(){this.resetTimingAndConfig_(),h=[],f=[],m=!0,this.trigger("reset")}};u.prototype=new r,e.exports=u},{25:25,27:27,29:29,42:42,7:7}],35:[function(t,e,n){"use strict";e.exports={parseSei:function(t){for(var e=0,n={payloadType:-1,payloadSize:0},r=0,i=0;e<t.byteLength&&128!==t[e];){for(;255===t[e];)r+=255,e++;for(r+=t[e++];255===t[e];)i+=255,e++;if(i+=t[e++],!n.payload&&4===r){if("GA94"===String.fromCharCode(t[e+3],t[e+4],t[e+5],t[e+6])){n.payloadType=r,n.payloadSize=i,n.payload=t.subarray(e,e+i);break}n.payload=void 0}e+=i,r=0,i=0}return n},parseUserData:function(t){return 181!==t.payload[0]||49!=(t.payload[1]<<8|t.payload[2])||"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])||3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},parseCaptionPackets:function(t,e){var n,r,i,o,a=[];if(!(64&e[0]))return a;for(r=31&e[0],n=0;n<r;n++)o={type:3&e[2+(i=3*n)],pts:t},4&e[i+2]&&(o.ccData=e[i+3]<<8|e[i+4],a.push(o));return a},discardEmulationPreventionBytes:function(t){for(var e,n,r=t.byteLength,i=[],o=1;o<r-2;)0===t[o]&&0===t[o+1]&&3===t[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return t;e=r-i.length,n=new Uint8Array(e);var a=0;for(o=0;o<e;a++,o++)a===i[0]&&(a++,i.shift()),n[o]=t[a];return n},USER_DATA_REGISTERED_ITU_T_T35:4}},{}],36:[function(t,e,n){"use strict";var r={8:"audio",9:"video",18:"metadata"},i=function(t){return"0x"+("00"+t.toString(16)).slice(-2).toUpperCase()},o=function(t){for(var e,n=[];t.byteLength>0;)e=0,n.push(i(t[e++])),t=t.subarray(1);return n.join(" ")},a=function(t,e){var n=t[0]&parseInt("00001111",2);return(e=e||{}).frameType=["Unknown","Keyframe (for AVC, a seekable frame)","Inter frame (for AVC, a nonseekable frame)","Disposable inter frame (H.263 only)","Generated keyframe (reserved for server use only)","Video info/command frame"][(t[0]&parseInt("11110000",2))>>>4],e.codecID=n,7===n?function(t,e){var n=t[1]&parseInt("01111111",2)<<16|t[2]<<8|t[3];return(e=e||{}).avcPacketType=["AVC Sequence Header","AVC NALU","AVC End-of-Sequence"][t[0]],e.CompositionTime=t[1]&parseInt("10000000",2)?-n:n,1===t[0]?e.nalUnitTypeRaw=o(t.subarray(4,100)):e.data=o(t.subarray(4)),e}(t.subarray(1),e):e},s=function(t,e){var n=(t[0]&parseInt("11110000",2))>>>4;return(e=e||{}).soundFormat=["Linear PCM, platform endian","ADPCM","MP3","Linear PCM, little endian","Nellymoser 16-kHz mono","Nellymoser 8-kHz mono","Nellymoser","G.711 A-law logarithmic PCM","G.711 mu-law logarithmic PCM","reserved","AAC","Speex","MP3 8-Khz","Device-specific sound"][n],e.soundRate=["5.5-kHz","11-kHz","22-kHz","44-kHz"][(t[0]&parseInt("00001100",2))>>>2],e.soundSize=(t[0]&parseInt("00000010",2))>>>1?"16-bit":"8-bit",e.soundType=t[0]&parseInt("00000001",2)?"Stereo":"Mono",10===n?function(t,e){return(e=e||{}).aacPacketType=["AAC Sequence Header","AAC Raw"][t[0]],e.data=o(t.subarray(1)),e}(t.subarray(1),e):e},u=function(t){var e=function(t){return{tagType:r[t[0]],dataSize:t[1]<<16|t[2]<<8|t[3],timestamp:t[7]<<24|t[4]<<16|t[5]<<8|t[6],streamID:t[8]<<16|t[9]<<8|t[10]}}(t);switch(t[0]){case 8:s(t.subarray(11),e);break;case 9:a(t.subarray(11),e)}return e};e.exports={inspectTag:u,inspect:function(t){var e,n,r=9,i=[];for(r+=4;r<t.byteLength;)e=t[r+1]<<16,e|=t[r+2]<<8,e|=t[r+3],e+=11,n=t.subarray(r,r+e),i.push(u(n)),r+=e+4;return i},textify:function(t){return JSON.stringify(t,null,2)}}},{}],37:[function(t,e,n){"use strict";var r,i,o=t(39).toUnsigned,a=function(t){return new Date(1e3*t-20828448e5)},s=function(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}},u=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),(e+=String.fromCharCode(t[2]))+String.fromCharCode(t[3])},c=function(t,e){var n,r,i,a,s,l=[];if(!e.length)return null;for(n=0;n<t.byteLength;)r=o(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]),i=u(t.subarray(n+4,n+8)),a=r>1?n+r:t.byteLength,i===e[0]&&(1===e.length?l.push(t.subarray(n+8,a)):(s=c(t.subarray(n+8,a),e.slice(1))).length&&(l=l.concat(s))),n=a;return l},l=function(t){var e,n,r=new DataView(t.buffer,t.byteOffset,t.byteLength),i=[];for(e=0;e+4<t.length;e+=n)if(n=r.getUint32(e),e+=4,n<=0)i.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&t[e]){case 1:i.push("slice_layer_without_partitioning_rbsp");break;case 5:i.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:i.push("sei_rbsp");break;case 7:i.push("seq_parameter_set_rbsp");break;case 8:i.push("pic_parameter_set_rbsp");break;case 9:i.push("access_unit_delimiter_rbsp");break;default:i.push("UNKNOWN NAL - "+t[e]&31)}return i},f={avc1:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{dataReferenceIndex:e.getUint16(6),width:e.getUint16(24),height:e.getUint16(26),horizresolution:e.getUint16(28)+e.getUint16(30)/16,vertresolution:e.getUint16(32)+e.getUint16(34)/16,frameCount:e.getUint16(40),depth:e.getUint16(74),config:r(t.subarray(78,t.byteLength))}},avcC:function(t){var e,n,r,i,o=new DataView(t.buffer,t.byteOffset,t.byteLength),a={configurationVersion:t[0],avcProfileIndication:t[1],profileCompatibility:t[2],avcLevelIndication:t[3],lengthSizeMinusOne:3&t[4],sps:[],pps:[]},s=31&t[5];for(r=6,i=0;i<s;i++)n=o.getUint16(r),r+=2,a.sps.push(new Uint8Array(t.subarray(r,r+n))),r+=n;for(e=t[r],r++,i=0;i<e;i++)n=o.getUint16(r),r+=2,a.pps.push(new Uint8Array(t.subarray(r,r+n))),r+=n;return a},btrt:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{bufferSizeDB:e.getUint32(0),maxBitrate:e.getUint32(4),avgBitrate:e.getUint32(8)}},esds:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),esId:t[6]<<8|t[7],streamPriority:31&t[8],decoderConfig:{objectProfileIndication:t[11],streamType:t[12]>>>2&63,bufferSize:t[13]<<16|t[14]<<8|t[15],maxBitrate:t[16]<<24|t[17]<<16|t[18]<<8|t[19],avgBitrate:t[20]<<24|t[21]<<16|t[22]<<8|t[23],decoderConfigDescriptor:{tag:t[24],length:t[25],audioObjectType:t[26]>>>3&31,samplingFrequencyIndex:(7&t[26])<<1|t[27]>>>7&1,channelConfiguration:t[27]>>>3&15}}}},ftyp:function(t){for(var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={majorBrand:u(t.subarray(0,4)),minorVersion:e.getUint32(4),compatibleBrands:[]},r=8;r<t.byteLength;)n.compatibleBrands.push(u(t.subarray(r,r+4))),r+=4;return n},dinf:function(t){return{boxes:r(t)}},dref:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),dataReferences:r(t.subarray(8))}},hdlr:function(t){var e={version:new DataView(t.buffer,t.byteOffset,t.byteLength).getUint8(0),flags:new Uint8Array(t.subarray(1,4)),handlerType:u(t.subarray(8,12)),name:""},n=8;for(n=24;n<t.byteLength;n++){if(0===t[n]){n++;break}e.name+=String.fromCharCode(t[n])}return e.name=decodeURIComponent(escape(e.name)),e},mdat:function(t){return{byteLength:t.byteLength,nals:l(t)}},mdhd:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r=4,i={version:n.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),language:""};return 1===i.version?(r+=4,i.creationTime=a(n.getUint32(r)),r+=8,i.modificationTime=a(n.getUint32(r)),r+=4,i.timescale=n.getUint32(r),r+=8,i.duration=n.getUint32(r)):(i.creationTime=a(n.getUint32(r)),r+=4,i.modificationTime=a(n.getUint32(r)),r+=4,i.timescale=n.getUint32(r),r+=4,i.duration=n.getUint32(r)),r+=4,e=n.getUint16(r),i.language+=String.fromCharCode(96+(e>>10)),i.language+=String.fromCharCode(96+((992&e)>>5)),i.language+=String.fromCharCode(96+(31&e)),i},mdia:function(t){return{boxes:r(t)}},mfhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sequenceNumber:t[4]<<24|t[5]<<16|t[6]<<8|t[7]}},minf:function(t){return{boxes:r(t)}},mp4a:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={dataReferenceIndex:e.getUint16(6),channelcount:e.getUint16(16),samplesize:e.getUint16(18),samplerate:e.getUint16(24)+e.getUint16(26)/65536};return t.byteLength>28&&(n.streamDescriptor=r(t.subarray(28))[0]),n},moof:function(t){return{boxes:r(t)}},moov:function(t){return{boxes:r(t)}},mvex:function(t){return{boxes:r(t)}},mvhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,r={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===r.version?(n+=4,r.creationTime=a(e.getUint32(n)),n+=8,r.modificationTime=a(e.getUint32(n)),n+=4,r.timescale=e.getUint32(n),n+=8,r.duration=e.getUint32(n)):(r.creationTime=a(e.getUint32(n)),n+=4,r.modificationTime=a(e.getUint32(n)),n+=4,r.timescale=e.getUint32(n),n+=4,r.duration=e.getUint32(n)),n+=4,r.rate=e.getUint16(n)+e.getUint16(n+2)/16,n+=4,r.volume=e.getUint8(n)+e.getUint8(n+1)/8,n+=2,n+=2,n+=8,r.matrix=new Uint32Array(t.subarray(n,n+36)),n+=36,n+=24,r.nextTrackId=e.getUint32(n),r},pdin:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),rate:e.getUint32(4),initialDelay:e.getUint32(8)}},sdtp:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]};for(e=4;e<t.byteLength;e++)n.samples.push({dependsOn:(48&t[e])>>4,isDependedOn:(12&t[e])>>2,hasRedundancy:3&t[e]});return n},sidx:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},i=n.getUint16(22);for(e=24;i;e+=12,i--)r.references.push({referenceType:(128&t[e])>>>7,referencedSize:2147483647&n.getUint32(e),subsegmentDuration:n.getUint32(e+4),startsWithSap:!!(128&t[e+8]),sapType:(112&t[e+8])>>>4,sapDeltaTime:268435455&n.getUint32(e+8)});return r},smhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),balance:t[4]+t[5]/256}},stbl:function(t){return{boxes:r(t)}},stco:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),chunkOffsets:[]},i=n.getUint32(4);for(e=8;i;e+=4,i--)r.chunkOffsets.push(n.getUint32(e));return r},stsc:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r=n.getUint32(4),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleToChunks:[]};for(e=8;r;e+=12,r--)i.sampleToChunks.push({firstChunk:n.getUint32(e),samplesPerChunk:n.getUint32(e+4),sampleDescriptionIndex:n.getUint32(e+8)});return i},stsd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleDescriptions:r(t.subarray(8))}},stsz:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleSize:n.getUint32(4),entries:[]};for(e=12;e<t.byteLength;e+=4)r.entries.push(n.getUint32(e));return r},stts:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),timeToSamples:[]},i=n.getUint32(4);for(e=8;i;e+=8,i--)r.timeToSamples.push({sampleCount:n.getUint32(e),sampleDelta:n.getUint32(e+4)});return r},styp:function(t){return f.ftyp(t)},tfdt:function(t){var e={version:t[0],flags:new Uint8Array(t.subarray(1,4)),baseMediaDecodeTime:o(t[4]<<24|t[5]<<16|t[6]<<8|t[7])};return 1===e.version&&(e.baseMediaDecodeTime*=Math.pow(2,32),e.baseMediaDecodeTime+=o(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),e},tfhd:function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:n.getUint32(4)},i=1&r.flags[2],o=2&r.flags[2],a=8&r.flags[2],s=16&r.flags[2],u=32&r.flags[2],c=65536&r.flags[0],l=131072&r.flags[0];return e=8,i&&(e+=4,r.baseDataOffset=n.getUint32(12),e+=4),o&&(r.sampleDescriptionIndex=n.getUint32(e),e+=4),a&&(r.defaultSampleDuration=n.getUint32(e),e+=4),s&&(r.defaultSampleSize=n.getUint32(e),e+=4),u&&(r.defaultSampleFlags=n.getUint32(e)),c&&(r.durationIsEmpty=!0),!i&&l&&(r.baseDataOffsetIsMoof=!0),r},tkhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,r={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===r.version?(n+=4,r.creationTime=a(e.getUint32(n)),n+=8,r.modificationTime=a(e.getUint32(n)),n+=4,r.trackId=e.getUint32(n),n+=4,n+=8,r.duration=e.getUint32(n)):(r.creationTime=a(e.getUint32(n)),n+=4,r.modificationTime=a(e.getUint32(n)),n+=4,r.trackId=e.getUint32(n),n+=4,n+=4,r.duration=e.getUint32(n)),n+=4,n+=8,r.layer=e.getUint16(n),n+=2,r.alternateGroup=e.getUint16(n),n+=2,r.volume=e.getUint8(n)+e.getUint8(n+1)/8,n+=2,n+=2,r.matrix=new Uint32Array(t.subarray(n,n+36)),n+=36,r.width=e.getUint16(n)+e.getUint16(n+2)/65536,n+=4,r.height=e.getUint16(n)+e.getUint16(n+2)/65536,r},traf:function(t){return{boxes:r(t)}},trak:function(t){return{boxes:r(t)}},trex:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:e.getUint32(4),defaultSampleDescriptionIndex:e.getUint32(8),defaultSampleDuration:e.getUint32(12),defaultSampleSize:e.getUint32(16),sampleDependsOn:3&t[20],sampleIsDependedOn:(192&t[21])>>6,sampleHasRedundancy:(48&t[21])>>4,samplePaddingValue:(14&t[21])>>1,sampleIsDifferenceSample:!!(1&t[21]),sampleDegradationPriority:e.getUint16(22)}},trun:function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},r=new DataView(t.buffer,t.byteOffset,t.byteLength),i=1&n.flags[2],o=4&n.flags[2],a=1&n.flags[1],u=2&n.flags[1],c=4&n.flags[1],l=8&n.flags[1],f=r.getUint32(4),h=8;for(i&&(n.dataOffset=r.getInt32(h),h+=4),o&&f&&(e={flags:s(t.subarray(h,h+4))},h+=4,a&&(e.duration=r.getUint32(h),h+=4),u&&(e.size=r.getUint32(h),h+=4),l&&(1===n.version?e.compositionTimeOffset=r.getInt32(h):e.compositionTimeOffset=r.getUint32(h),h+=4),n.samples.push(e),f--);f--;)e={},a&&(e.duration=r.getUint32(h),h+=4),u&&(e.size=r.getUint32(h),h+=4),c&&(e.flags=s(t.subarray(h,h+4)),h+=4),l&&(1===n.version?e.compositionTimeOffset=r.getInt32(h):e.compositionTimeOffset=r.getUint32(h),h+=4),n.samples.push(e);return n},"url ":function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4))}},vmhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),graphicsmode:e.getUint16(4),opcolor:new Uint16Array([e.getUint16(6),e.getUint16(8),e.getUint16(10)])}}};r=function(t){for(var e,n,r,i,o,a=0,s=[],c=new ArrayBuffer(t.length),l=new Uint8Array(c),h=0;h<t.length;++h)l[h]=t[h];for(e=new DataView(c);a<t.byteLength;)n=e.getUint32(a),r=u(t.subarray(a+4,a+8)),i=n>1?a+n:t.byteLength,(o=(f[r]||function(t){return{data:t}})(t.subarray(a+8,i))).size=n,o.type=r,s.push(o),a=i;return s},i=function(t,e){var n;return e=e||0,n=new Array(2*e+1).join(" "),t.map((function(t,r){return n+t.type+"\n"+Object.keys(t).filter((function(t){return"type"!==t&&"boxes"!==t})).map((function(e){var r=n+"  "+e+": ",i=t[e];if(i instanceof Uint8Array||i instanceof Uint32Array){var o=Array.prototype.slice.call(new Uint8Array(i.buffer,i.byteOffset,i.byteLength)).map((function(t){return" "+("00"+t.toString(16)).slice(-2)})).join("").match(/.{1,24}/g);return o?1===o.length?r+"<"+o.join("").slice(1)+">":r+"<\n"+o.map((function(t){return n+"  "+t})).join("\n")+"\n"+n+"  >":r+"<>"}return r+JSON.stringify(i,null,2).split("\n").map((function(t,e){return 0===e?t:n+"  "+t})).join("\n")})).join("\n")+(t.boxes?"\n"+i(t.boxes,e+1):"")})).join("\n")},e.exports={inspect:r,textify:i,parseType:u,findBox:c,parseTraf:f.traf,parseTfdt:f.tfdt,parseHdlr:f.hdlr,parseTfhd:f.tfhd,parseTrun:f.trun,parseSidx:f.sidx}},{39:39}],38:[function(t,e,n){"use strict";var r=t(21),i=t(22).handleRollover,o={};o.ts=t(20),o.aac=t(2);var a=t(40).ONE_SECOND_IN_TS,s=function(t,e){for(var n,r=0,i=188;i<t.byteLength;)if(71!==t[r]||71!==t[i])r++,i++;else{switch(n=t.subarray(r,i),o.ts.parseType(n,e.pid)){case"pat":e.pid||(e.pid=o.ts.parsePat(n));break;case"pmt":e.table||(e.table=o.ts.parsePmt(n))}if(e.pid&&e.table)return;r+=188,i+=188}},u=function(t,e,n){for(var r,i,a,s,u=0,c=188,l=!1;c<=t.byteLength;)if(71!==t[u]||71!==t[c]&&c!==t.byteLength)u++,c++;else{switch(r=t.subarray(u,c),o.ts.parseType(r,e.pid)){case"pes":i=o.ts.parsePesType(r,e.table),a=o.ts.parsePayloadUnitStartIndicator(r),"audio"===i&&a&&(s=o.ts.parsePesTime(r))&&(s.type="audio",n.audio.push(s),l=!0)}if(l)break;u+=188,c+=188}for(u=(c=t.byteLength)-188,l=!1;u>=0;)if(71!==t[u]||71!==t[c]&&c!==t.byteLength)u--,c--;else{switch(r=t.subarray(u,c),o.ts.parseType(r,e.pid)){case"pes":i=o.ts.parsePesType(r,e.table),a=o.ts.parsePayloadUnitStartIndicator(r),"audio"===i&&a&&(s=o.ts.parsePesTime(r))&&(s.type="audio",n.audio.push(s),l=!0)}if(l)break;u-=188,c-=188}},c=function(t,e,n){for(var r,i,a,s,u,c,l,f=0,h=188,d=!1,p={data:[],size:0};h<t.byteLength;)if(71!==t[f]||71!==t[h])f++,h++;else{switch(r=t.subarray(f,h),o.ts.parseType(r,e.pid)){case"pes":if(i=o.ts.parsePesType(r,e.table),a=o.ts.parsePayloadUnitStartIndicator(r),"video"===i&&(a&&!d&&(s=o.ts.parsePesTime(r))&&(s.type="video",n.video.push(s),d=!0),!n.firstKeyFrame)){if(a&&0!==p.size){for(u=new Uint8Array(p.size),c=0;p.data.length;)l=p.data.shift(),u.set(l,c),c+=l.byteLength;if(o.ts.videoPacketContainsKeyFrame(u)){var m=o.ts.parsePesTime(u);m?(n.firstKeyFrame=m,n.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}p.size=0}p.data.push(r),p.size+=r.byteLength}}if(d&&n.firstKeyFrame)break;f+=188,h+=188}for(f=(h=t.byteLength)-188,d=!1;f>=0;)if(71!==t[f]||71!==t[h])f--,h--;else{switch(r=t.subarray(f,h),o.ts.parseType(r,e.pid)){case"pes":i=o.ts.parsePesType(r,e.table),a=o.ts.parsePayloadUnitStartIndicator(r),"video"===i&&a&&(s=o.ts.parsePesTime(r))&&(s.type="video",n.video.push(s),d=!0)}if(d)break;f-=188,h-=188}},l=function(t){var e={pid:null,table:null},n={};for(var i in s(t,e),e.table)if(e.table.hasOwnProperty(i))switch(e.table[i]){case r.H264_STREAM_TYPE:n.video=[],c(t,e,n),0===n.video.length&&delete n.video;break;case r.ADTS_STREAM_TYPE:n.audio=[],u(t,e,n),0===n.audio.length&&delete n.audio}return n};e.exports={inspect:function(t,e){var n;return(n=o.aac.isLikelyAacData(t)?function(t){for(var e,n=!1,r=0,i=null,s=null,u=0,c=0;t.length-c>=3;){switch(o.aac.parseType(t,c)){case"timed-metadata":if(t.length-c<10){n=!0;break}if((u=o.aac.parseId3TagSize(t,c))>t.length){n=!0;break}null===s&&(e=t.subarray(c,c+u),s=o.aac.parseAacTimestamp(e)),c+=u;break;case"audio":if(t.length-c<7){n=!0;break}if((u=o.aac.parseAdtsSize(t,c))>t.length){n=!0;break}null===i&&(e=t.subarray(c,c+u),i=o.aac.parseSampleRate(e)),r++,c+=u;break;default:c++}if(n)return null}if(null===i||null===s)return null;var l=a/i;return{audio:[{type:"audio",dts:s,pts:s},{type:"audio",dts:s+1024*r*l,pts:s+1024*r*l}]}}(t):l(t))&&(n.audio||n.video)?(function(t,e){if(t.audio&&t.audio.length){var n=e;void 0===n&&(n=t.audio[0].dts),t.audio.forEach((function(t){t.dts=i(t.dts,n),t.pts=i(t.pts,n),t.dtsTime=t.dts/a,t.ptsTime=t.pts/a}))}if(t.video&&t.video.length){var r=e;if(void 0===r&&(r=t.video[0].dts),t.video.forEach((function(t){t.dts=i(t.dts,r),t.pts=i(t.pts,r),t.dtsTime=t.dts/a,t.ptsTime=t.pts/a})),t.firstKeyFrame){var o=t.firstKeyFrame;o.dts=i(o.dts,r),o.pts=i(o.pts,r),o.dtsTime=o.dts/a,o.ptsTime=o.dts/a}}}(n,e),n):null},parseAudioPes_:u}},{2:2,20:20,21:21,22:22,40:40}],39:[function(t,e,n){e.exports={toUnsigned:function(t){return t>>>0},toHexString:function(t){return("00"+t.toString(16)).slice(-2)}}},{}],40:[function(t,e,n){var r,i,o,a,s,u,c;r=function(t){return 9e4*t},i=function(t,e){return t*e},o=function(t){return t/9e4},a=function(t,e){return t/e},s=function(t,e){return r(a(t,e))},u=function(t,e){return i(o(t),e)},c=function(t,e,n){return o(n?t:t-e)},e.exports={ONE_SECOND_IN_TS:9e4,secondsToVideoTs:r,secondsToAudioTs:i,videoTsToSeconds:o,audioTsToSeconds:a,audioTsToVideoTs:s,videoTsToAudioTs:u,metadataTsToSeconds:c}},{}],41:[function(t,e,n){"use strict";var r;r=function(t){var e=t.byteLength,n=0,r=0;this.length=function(){return 8*e},this.bitsAvailable=function(){return 8*e+r},this.loadWord=function(){var i=t.byteLength-e,o=new Uint8Array(4),a=Math.min(4,e);if(0===a)throw new Error("no bytes available");o.set(t.subarray(i,i+a)),n=new DataView(o.buffer).getUint32(0),r=8*a,e-=a},this.skipBits=function(t){var i;r>t?(n<<=t,r-=t):(t-=r,t-=8*(i=Math.floor(t/8)),e-=i,this.loadWord(),n<<=t,r-=t)},this.readBits=function(t){var i=Math.min(r,t),o=n>>>32-i;return(r-=i)>0?n<<=i:e>0&&this.loadWord(),(i=t-i)>0?o<<i|this.readBits(i):o},this.skipLeadingZeros=function(){var t;for(t=0;t<r;++t)if(0!=(n&2147483648>>>t))return n<<=t,r-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},e.exports=r},{}],42:[function(t,e,n){"use strict";var r=function(){this.init=function(){var t={};this.on=function(e,n){t[e]||(t[e]=[]),t[e]=t[e].concat(n)},this.off=function(e,n){var r;return!!t[e]&&(r=t[e].indexOf(n),t[e]=t[e].slice(),t[e].splice(r,1),r>-1)},this.trigger=function(e){var n,r,i,o;if(n=t[e])if(2===arguments.length)for(i=n.length,r=0;r<i;++r)n[r].call(this,arguments[1]);else{for(o=[],r=arguments.length,r=1;r<arguments.length;++r)o.push(arguments[r]);for(i=n.length,r=0;r<i;++r)n[r].apply(this,o)}},this.dispose=function(){t={}}}};r.prototype.pipe=function(t){return this.on("data",(function(e){t.push(e)})),this.on("done",(function(e){t.flush(e)})),this.on("partialdone",(function(e){t.partialFlush(e)})),this.on("endedtimeline",(function(e){t.endTimeline(e)})),this.on("reset",(function(e){t.reset(e)})),t},r.prototype.push=function(t){this.trigger("data",t)},r.prototype.flush=function(t){this.trigger("done",t)},r.prototype.partialFlush=function(t){this.trigger("partialdone",t)},r.prototype.endTimeline=function(t){this.trigger("endedtimeline",t)},r.prototype.reset=function(t){this.trigger("reset",t)},e.exports=r},{}]},{},[15])(15)},function(t,e,n){"use strict";
/** @license React v16.13.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(97),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function w(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||b}function T(){}function S(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||b}w.prototype.isReactComponent={},w.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(y(85));this.updater.enqueueSetState(this,t,e,"setState")},w.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},T.prototype=w.prototype;var x=S.prototype=new T;x.constructor=S,r(x,w.prototype),x.isPureReactComponent=!0;var E={current:null},M=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};function A(t,e,n){var r,i={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)M.call(e,r)&&!I.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:t,key:a,ref:s,props:i,_owner:E.current}}function k(t){return"object"==typeof t&&null!==t&&t.$$typeof===o}var N=/\/+/g,L=[];function D(t,e,n,r){if(L.length){var i=L.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function C(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>L.length&&L.push(t)}function O(t,e,n){return null==t?0:function t(e,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case a:u=!0}}if(u)return r(i,e,""===n?"."+_(e,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=n+_(s=e[c],c);u+=t(s,l,r,i)}else if(null===e||"object"!=typeof e?l=null:l="function"==typeof(l=g&&e[g]||e["@@iterator"])?l:null,"function"==typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=t(s=s.value,l=n+_(s,c++),r,i);else if("object"===s)throw r=""+e,Error(y(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return u}(t,"",e,n)}function _(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function P(t,e){t.func.call(t.context,e,t.count++)}function j(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?R(t,r,n,(function(t){return t})):null!=t&&(k(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(N,"$&/")+"/")+n)),r.push(t))}function R(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(N,"$&/")+"/"),O(t,j,e=D(e,o,r,i)),C(e)}var U={current:null};function z(){var t=U.current;if(null===t)throw Error(y(321));return t}var B={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:function(t,e,n){if(null==t)return t;var r=[];return R(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;O(t,P,e=D(null,null,e,n)),C(e)},count:function(t){return O(t,(function(){return null}),null)},toArray:function(t){var e=[];return R(t,e,null,(function(t){return t})),e},only:function(t){if(!k(t))throw Error(y(143));return t}},e.Component=w,e.Fragment=s,e.Profiler=c,e.PureComponent=S,e.StrictMode=u,e.Suspense=d,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,e.cloneElement=function(t,e,n){if(null==t)throw Error(y(267,t));var i=r({},t.props),a=t.key,s=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,u=E.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(l in e)M.call(e,l)&&!I.hasOwnProperty(l)&&(i[l]=void 0===e[l]&&void 0!==c?c[l]:e[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:o,type:t.type,key:a,ref:s,props:i,_owner:u}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:f,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:t},t.Consumer=t},e.createElement=A,e.createFactory=function(t){var e=A.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:h,render:t}},e.isValidElement=k,e.lazy=function(t){return{$$typeof:m,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:p,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return z().useCallback(t,e)},e.useContext=function(t,e){return z().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return z().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return z().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return z().useLayoutEffect(t,e)},e.useMemo=function(t,e){return z().useMemo(t,e)},e.useReducer=function(t,e,n){return z().useReducer(t,e,n)},e.useRef=function(t){return z().useRef(t)},e.useState=function(t){return z().useState(t)},e.version="16.13.1"},function(t,e,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,u=a(t),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(t,e,n){"use strict";var r=n(99);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){var r=n(101),i=n(140);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},function(t,e,n){var r=n(32),i=n(102),o=n(107),a=n(137);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},function(t,e,n){var r=n(32),i=n(33),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(a.test(t)||!o.test(t)||null!=e&&t in Object(e))}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(9))},function(t,e,n){var r=n(34),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(108),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)})),e}));t.exports=a},function(t,e,n){var r=n(109);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var r=n(110);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},function(t,e,n){var r=n(111),i=n(132),o=n(134),a=n(135),s=n(136);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(112),i=n(124),o=n(131);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(113),i=n(120),o=n(121),a=n(122),s=n(123);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(19);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e,n){var r=n(115),i=n(116),o=n(62),a=n(118),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?h:s).test(a(t))}},function(t,e,n){var r=n(60),i=n(62);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){var r,i=n(117),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},function(t,e,n){var r=n(35)["__core-js_shared__"];t.exports=r},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(19),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(19),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(19);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var r=n(125),i=n(126),o=n(128),a=n(129),s=n(130);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(20),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(20);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(20);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(20);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(61)(n(35),"Map");t.exports=r},function(t,e,n){var r=n(21);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(21);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(21);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(21);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var r=n(138);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(34),i=n(139),o=n(32),a=n(33),s=r?r.prototype:void 0,u=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var r=n(33);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,n){(function(){"use strict";var t,r,i,o,a,s={}.hasOwnProperty;t=n(142),r=n(36).defaults,o=function(t){return"string"==typeof t&&(t.indexOf("&")>=0||t.indexOf(">")>=0||t.indexOf("<")>=0)},a=function(t){return"<![CDATA["+i(t)+"]]>"},i=function(t){return t.replace("]]>","]]]]><![CDATA[>")},e.Builder=function(){function e(t){var e,n,i;for(e in this.options={},n=r[.2])s.call(n,e)&&(i=n[e],this.options[e]=i);for(e in t)s.call(t,e)&&(i=t[e],this.options[e]=i)}return e.prototype.buildObject=function(e){var n,i,u,c,l,f;return n=this.options.attrkey,i=this.options.charkey,1===Object.keys(e).length&&this.options.rootName===r[.2].rootName?e=e[l=Object.keys(e)[0]]:l=this.options.rootName,f=this,u=function(t,e){var r,c,l,h,d,p;if("object"!=typeof e)f.options.cdata&&o(e)?t.raw(a(e)):t.txt(e);else if(Array.isArray(e)){for(h in e)if(s.call(e,h))for(d in c=e[h])l=c[d],t=u(t.ele(d),l).up()}else for(d in e)if(s.call(e,d))if(c=e[d],d===n){if("object"==typeof c)for(r in c)p=c[r],t=t.att(r,p)}else if(d===i)t=f.options.cdata&&o(c)?t.raw(a(c)):t.txt(c);else if(Array.isArray(c))for(h in c)s.call(c,h)&&(t="string"==typeof(l=c[h])?f.options.cdata&&o(l)?t.ele(d).raw(a(l)).up():t.ele(d,l).up():u(t.ele(d),l).up());else"object"==typeof c?t=u(t.ele(d),c).up():"string"==typeof c&&f.options.cdata&&o(c)?t=t.ele(d).raw(a(c)).up():(null==c&&(c=""),t=t.ele(d,c.toString()).up());return t},c=t.create(l,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),u(c,e).end(this.options.renderOpts)},e}()}).call(this)},function(t,e,n){(function(){var e,r,i,o,a,s,u,c,l,f;f=n(12),c=f.assign,l=f.isFunction,i=n(63),o=n(64),a=n(148),u=n(50),s=n(149),e=n(4),r=n(23),t.exports.create=function(t,e,n,r){var i,a;if(null==t)throw new Error("Root element needs a name.");return r=c({},e,n,r),a=(i=new o(r)).element(t),r.headless||(i.declaration(r),null==r.pubID&&null==r.sysID||i.dtd(r)),a},t.exports.begin=function(t,e,n){var r;return l(t)&&(e=(r=[t,e])[0],n=r[1],t={}),e?new a(t,e,n):new o(t)},t.exports.stringWriter=function(t){return new u(t)},t.exports.streamWriter=function(t,e){return new s(t,e)},t.exports.implementation=new i,t.exports.nodeType=e,t.exports.writerState=r}).call(this)},function(t,e,n){(function(){var e,r;e=n(144),r=n(145),t.exports=function(){function t(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new e,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}return Object.defineProperty(t.prototype,"parameterNames",{get:function(){return new r(Object.keys(this.defaultParams))}}),t.prototype.getParameter=function(t){return this.params.hasOwnProperty(t)?this.params[t]:null},t.prototype.canSetParameter=function(t,e){return!0},t.prototype.setParameter=function(t,e){return null!=e?this.params[t]=e:delete this.params[t]},t}()}).call(this)},function(t,e){(function(){t.exports=function(){function t(){}return t.prototype.handleError=function(t){throw new Error(t)},t}()}).call(this)},function(t,e){(function(){t.exports=function(){function t(t){this.arr=t||[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this.arr.length}}),t.prototype.item=function(t){return this.arr[t]||null},t.prototype.contains=function(t){return-1!==this.arr.indexOf(t)},t}()}).call(this)},function(t,e){(function(){t.exports=function(){function t(t){this.nodes=t}return Object.defineProperty(t.prototype,"length",{get:function(){return this.nodes.length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.item=function(t){return this.nodes[t]||null},t}()}).call(this)},function(t,e){(function(){t.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(this)},function(t,e,n){(function(){var e,r,i,o,a,s,u,c,l,f,h,d,p,m,g,y,b,v,w,T,S,x,E,M={}.hasOwnProperty;E=n(12),S=E.isObject,T=E.isFunction,x=E.isPlainObject,w=E.getValue,e=n(4),d=n(64),p=n(37),o=n(39),a=n(40),g=n(47),v=n(48),m=n(49),f=n(41),h=n(42),s=n(43),c=n(44),u=n(45),l=n(46),i=n(65),b=n(67),y=n(50),r=n(23),t.exports=function(){function t(t,n,r){var i;this.name="?xml",this.type=e.Document,t||(t={}),i={},t.writer?x(t.writer)&&(i=t.writer,t.writer=new y):t.writer=new y,this.options=t,this.writer=t.writer,this.writerOptions=this.writer.filterOptions(i),this.stringify=new b(t),this.onDataCallback=n||function(){},this.onEndCallback=r||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return t.prototype.createChildNode=function(t){var n,r,i,o,a,s,u,c;switch(t.type){case e.CData:this.cdata(t.value);break;case e.Comment:this.comment(t.value);break;case e.Element:for(r in i={},u=t.attribs)M.call(u,r)&&(n=u[r],i[r]=n.value);this.node(t.name,i);break;case e.Dummy:this.dummy();break;case e.Raw:this.raw(t.value);break;case e.Text:this.text(t.value);break;case e.ProcessingInstruction:this.instruction(t.target,t.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+t.constructor.name)}for(a=0,s=(c=t.children).length;a<s;a++)o=c[a],this.createChildNode(o),o.type===e.Element&&this.up();return this},t.prototype.dummy=function(){return this},t.prototype.node=function(t,e,n){var r;if(null==t)throw new Error("Missing node name.");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node. "+this.debugInfo(t));return this.openCurrent(),t=w(t),null==e&&(e={}),e=w(e),S(e)||(n=(r=[e,n])[0],e=r[1]),this.currentNode=new p(this,t,e),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=n&&this.text(n),this},t.prototype.element=function(t,n,r){var i,o,a,s,u,c;if(this.currentNode&&this.currentNode.type===e.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(t)||S(t)||T(t))for(s=this.options.noValidation,this.options.noValidation=!0,(c=new d(this.options).element("TEMP_ROOT")).element(t),this.options.noValidation=s,o=0,a=(u=c.children).length;o<a;o++)i=u[o],this.createChildNode(i),i.type===e.Element&&this.up();else this.node(t,n,r);return this},t.prototype.attribute=function(t,e){var n,r;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(t));if(null!=t&&(t=w(t)),S(t))for(n in t)M.call(t,n)&&(r=t[n],this.attribute(n,r));else T(e)&&(e=e.apply()),this.options.keepNullAttributes&&null==e?this.currentNode.attribs[t]=new i(this,t,""):null!=e&&(this.currentNode.attribs[t]=new i(this,t,e));return this},t.prototype.text=function(t){var e;return this.openCurrent(),e=new v(this,t),this.onData(this.writer.text(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.cdata=function(t){var e;return this.openCurrent(),e=new o(this,t),this.onData(this.writer.cdata(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.comment=function(t){var e;return this.openCurrent(),e=new a(this,t),this.onData(this.writer.comment(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.raw=function(t){var e;return this.openCurrent(),e=new g(this,t),this.onData(this.writer.raw(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.instruction=function(t,e){var n,r,i,o,a;if(this.openCurrent(),null!=t&&(t=w(t)),null!=e&&(e=w(e)),Array.isArray(t))for(n=0,o=t.length;n<o;n++)r=t[n],this.instruction(r);else if(S(t))for(r in t)M.call(t,r)&&(i=t[r],this.instruction(r,i));else T(e)&&(e=e.apply()),a=new m(this,t,e),this.onData(this.writer.processingInstruction(a,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},t.prototype.declaration=function(t,e,n){var r;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return r=new f(this,t,e,n),this.onData(this.writer.declaration(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.doctype=function(t,e,n){if(this.openCurrent(),null==t)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new h(this,e,n),this.currentNode.rootNodeName=t,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},t.prototype.dtdElement=function(t,e){var n;return this.openCurrent(),n=new u(this,t,e),this.onData(this.writer.dtdElement(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.attList=function(t,e,n,r,i){var o;return this.openCurrent(),o=new s(this,t,e,n,r,i),this.onData(this.writer.dtdAttList(o,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.entity=function(t,e){var n;return this.openCurrent(),n=new c(this,!1,t,e),this.onData(this.writer.dtdEntity(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.pEntity=function(t,e){var n;return this.openCurrent(),n=new c(this,!0,t,e),this.onData(this.writer.dtdEntity(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.notation=function(t,e){var n;return this.openCurrent(),n=new l(this,t,e),this.onData(this.writer.dtdNotation(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},t.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},t.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},t.prototype.openNode=function(t){var n,i,o,a;if(!t.isOpen){if(this.root||0!==this.currentLevel||t.type!==e.Element||(this.root=t),i="",t.type===e.Element){for(o in this.writerOptions.state=r.OpenTag,i=this.writer.indent(t,this.writerOptions,this.currentLevel)+"<"+t.name,a=t.attribs)M.call(a,o)&&(n=a[o],i+=this.writer.attribute(n,this.writerOptions,this.currentLevel));i+=(t.children?">":"/>")+this.writer.endline(t,this.writerOptions,this.currentLevel),this.writerOptions.state=r.InsideTag}else this.writerOptions.state=r.OpenTag,i=this.writer.indent(t,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+t.rootNodeName,t.pubID&&t.sysID?i+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(i+=' SYSTEM "'+t.sysID+'"'),t.children?(i+=" [",this.writerOptions.state=r.InsideTag):(this.writerOptions.state=r.CloseTag,i+=">"),i+=this.writer.endline(t,this.writerOptions,this.currentLevel);return this.onData(i,this.currentLevel),t.isOpen=!0}},t.prototype.closeNode=function(t){var n;if(!t.isClosed)return n="",this.writerOptions.state=r.CloseTag,n=t.type===e.Element?this.writer.indent(t,this.writerOptions,this.currentLevel)+"</"+t.name+">"+this.writer.endline(t,this.writerOptions,this.currentLevel):this.writer.indent(t,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(t,this.writerOptions,this.currentLevel),this.writerOptions.state=r.None,this.onData(n,this.currentLevel),t.isClosed=!0},t.prototype.onData=function(t,e){return this.documentStarted=!0,this.onDataCallback(t,e+1)},t.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},t.prototype.debugInfo=function(t){return null==t?"":"node: <"+t+">"},t.prototype.ele=function(){return this.element.apply(this,arguments)},t.prototype.nod=function(t,e,n){return this.node(t,e,n)},t.prototype.txt=function(t){return this.text(t)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.com=function(t){return this.comment(t)},t.prototype.ins=function(t,e){return this.instruction(t,e)},t.prototype.dec=function(t,e,n){return this.declaration(t,e,n)},t.prototype.dtd=function(t,e,n){return this.doctype(t,e,n)},t.prototype.e=function(t,e,n){return this.element(t,e,n)},t.prototype.n=function(t,e,n){return this.node(t,e,n)},t.prototype.t=function(t){return this.text(t)},t.prototype.d=function(t){return this.cdata(t)},t.prototype.c=function(t){return this.comment(t)},t.prototype.r=function(t){return this.raw(t)},t.prototype.i=function(t,e){return this.instruction(t,e)},t.prototype.att=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},t.prototype.a=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},t.prototype.ent=function(t,e){return this.entity(t,e)},t.prototype.pent=function(t,e){return this.pEntity(t,e)},t.prototype.not=function(t,e){return this.notation(t,e)},t}()}).call(this)},function(t,e,n){(function(){var e,r,i,o={}.hasOwnProperty;e=n(4),i=n(68),r=n(23),t.exports=function(t){function n(t,e){this.stream=t,n.__super__.constructor.call(this,e)}return function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.endline=function(t,e,i){return t.isLastRootNode&&e.state===r.CloseTag?"":n.__super__.endline.call(this,t,e,i)},n.prototype.document=function(t,e){var n,r,i,o,a,s,u,c,l;for(r=i=0,a=(u=t.children).length;i<a;r=++i)(n=u[r]).isLastRootNode=r===t.children.length-1;for(e=this.filterOptions(e),l=[],o=0,s=(c=t.children).length;o<s;o++)n=c[o],l.push(this.writeChildNode(n,e,0));return l},n.prototype.attribute=function(t,e,r){return this.stream.write(n.__super__.attribute.call(this,t,e,r))},n.prototype.cdata=function(t,e,r){return this.stream.write(n.__super__.cdata.call(this,t,e,r))},n.prototype.comment=function(t,e,r){return this.stream.write(n.__super__.comment.call(this,t,e,r))},n.prototype.declaration=function(t,e,r){return this.stream.write(n.__super__.declaration.call(this,t,e,r))},n.prototype.docType=function(t,e,n){var i,o,a,s;if(n||(n=0),this.openNode(t,e,n),e.state=r.OpenTag,this.stream.write(this.indent(t,e,n)),this.stream.write("<!DOCTYPE "+t.root().name),t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(t,e,n)),e.state=r.InsideTag,o=0,a=(s=t.children).length;o<a;o++)i=s[o],this.writeChildNode(i,e,n+1);e.state=r.CloseTag,this.stream.write("]")}return e.state=r.CloseTag,this.stream.write(e.spaceBeforeSlash+">"),this.stream.write(this.endline(t,e,n)),e.state=r.None,this.closeNode(t,e,n)},n.prototype.element=function(t,n,i){var a,s,u,c,l,f,h,d,p;for(h in i||(i=0),this.openNode(t,n,i),n.state=r.OpenTag,this.stream.write(this.indent(t,n,i)+"<"+t.name),d=t.attribs)o.call(d,h)&&(a=d[h],this.attribute(a,n,i));if(c=0===(u=t.children.length)?null:t.children[0],0===u||t.children.every((function(t){return(t.type===e.Text||t.type===e.Raw)&&""===t.value})))n.allowEmpty?(this.stream.write(">"),n.state=r.CloseTag,this.stream.write("</"+t.name+">")):(n.state=r.CloseTag,this.stream.write(n.spaceBeforeSlash+"/>"));else if(!n.pretty||1!==u||c.type!==e.Text&&c.type!==e.Raw||null==c.value){for(this.stream.write(">"+this.endline(t,n,i)),n.state=r.InsideTag,l=0,f=(p=t.children).length;l<f;l++)s=p[l],this.writeChildNode(s,n,i+1);n.state=r.CloseTag,this.stream.write(this.indent(t,n,i)+"</"+t.name+">")}else this.stream.write(">"),n.state=r.InsideTag,n.suppressPrettyCount++,!0,this.writeChildNode(c,n,i+1),n.suppressPrettyCount--,!1,n.state=r.CloseTag,this.stream.write("</"+t.name+">");return this.stream.write(this.endline(t,n,i)),n.state=r.None,this.closeNode(t,n,i)},n.prototype.processingInstruction=function(t,e,r){return this.stream.write(n.__super__.processingInstruction.call(this,t,e,r))},n.prototype.raw=function(t,e,r){return this.stream.write(n.__super__.raw.call(this,t,e,r))},n.prototype.text=function(t,e,r){return this.stream.write(n.__super__.text.call(this,t,e,r))},n.prototype.dtdAttList=function(t,e,r){return this.stream.write(n.__super__.dtdAttList.call(this,t,e,r))},n.prototype.dtdElement=function(t,e,r){return this.stream.write(n.__super__.dtdElement.call(this,t,e,r))},n.prototype.dtdEntity=function(t,e,r){return this.stream.write(n.__super__.dtdEntity.call(this,t,e,r))},n.prototype.dtdNotation=function(t,e,r){return this.stream.write(n.__super__.dtdNotation.call(this,t,e,r))},n}(i)}).call(this)},function(t,e,n){(function(){"use strict";var t,r,i,o,a,s,u,c,l=function(t,e){return function(){return t.apply(e,arguments)}},f={}.hasOwnProperty;u=n(151),i=n(25),t=n(166),s=n(75),c=n(73).setImmediate,r=n(36).defaults,o=function(t){return"object"==typeof t&&null!=t&&0===Object.keys(t).length},a=function(t,e,n){var r,i;for(r=0,i=t.length;r<i;r++)e=(0,t[r])(e,n);return e},e.Parser=function(n){function i(t){var n,i,o;if(this.parseStringPromise=l(this.parseStringPromise,this),this.parseString=l(this.parseString,this),this.reset=l(this.reset,this),this.assignOrPush=l(this.assignOrPush,this),this.processAsync=l(this.processAsync,this),!(this instanceof e.Parser))return new e.Parser(t);for(n in this.options={},i=r[.2])f.call(i,n)&&(o=i[n],this.options[n]=o);for(n in t)f.call(t,n)&&(o=t[n],this.options[n]=o);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(s.normalize)),this.reset()}return function(t,e){for(var n in e)f.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(i,n),i.prototype.processAsync=function(){var t,e;try{return this.remaining.length<=this.options.chunkSize?(t=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(t),this.saxParser.close()):(t=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(t),c(this.processAsync))}catch(t){if(e=t,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(e)}},i.prototype.assignOrPush=function(t,e,n){return e in t?(t[e]instanceof Array||(t[e]=[t[e]]),t[e].push(n)):this.options.explicitArray?t[e]=[n]:t[e]=n},i.prototype.reset=function(){var t,e,n,r,i;return this.removeAllListeners(),this.saxParser=u.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=(i=this,function(t){if(i.saxParser.resume(),!i.saxParser.errThrown)return i.saxParser.errThrown=!0,i.emit("error",t)}),this.saxParser.onend=function(t){return function(){if(!t.saxParser.ended)return t.saxParser.ended=!0,t.emit("end",t.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,r=[],t=this.options.attrkey,e=this.options.charkey,this.saxParser.onopentag=function(n){return function(i){var o,s,u,c,l;if((u={})[e]="",!n.options.ignoreAttrs)for(o in l=i.attributes)f.call(l,o)&&(t in u||n.options.mergeAttrs||(u[t]={}),s=n.options.attrValueProcessors?a(n.options.attrValueProcessors,i.attributes[o],o):i.attributes[o],c=n.options.attrNameProcessors?a(n.options.attrNameProcessors,o):o,n.options.mergeAttrs?n.assignOrPush(u,c,s):u[t][c]=s);return u["#name"]=n.options.tagNameProcessors?a(n.options.tagNameProcessors,i.name):i.name,n.options.xmlns&&(u[n.options.xmlnskey]={uri:i.uri,local:i.local}),r.push(u)}}(this),this.saxParser.onclosetag=function(t){return function(){var n,i,s,u,c,l,h,d,p,m;if(l=r.pop(),c=l["#name"],t.options.explicitChildren&&t.options.preserveChildrenOrder||delete l["#name"],!0===l.cdata&&(n=l.cdata,delete l.cdata),p=r[r.length-1],l[e].match(/^\s*$/)&&!n?(i=l[e],delete l[e]):(t.options.trim&&(l[e]=l[e].trim()),t.options.normalize&&(l[e]=l[e].replace(/\s{2,}/g," ").trim()),l[e]=t.options.valueProcessors?a(t.options.valueProcessors,l[e],c):l[e],1===Object.keys(l).length&&e in l&&!t.EXPLICIT_CHARKEY&&(l=l[e])),o(l)&&(l=""!==t.options.emptyTag?t.options.emptyTag:i),null!=t.options.validator&&(m="/"+function(){var t,e,n;for(n=[],t=0,e=r.length;t<e;t++)u=r[t],n.push(u["#name"]);return n}().concat(c).join("/"),function(){var e;try{l=t.options.validator(m,p&&p[c],l)}catch(n){return e=n,t.emit("error",e)}}()),t.options.explicitChildren&&!t.options.mergeAttrs&&"object"==typeof l)if(t.options.preserveChildrenOrder){if(p){for(s in p[t.options.childkey]=p[t.options.childkey]||[],h={},l)f.call(l,s)&&(h[s]=l[s]);p[t.options.childkey].push(h),delete l["#name"],1===Object.keys(l).length&&e in l&&!t.EXPLICIT_CHARKEY&&(l=l[e])}}else u={},t.options.attrkey in l&&(u[t.options.attrkey]=l[t.options.attrkey],delete l[t.options.attrkey]),!t.options.charsAsChildren&&t.options.charkey in l&&(u[t.options.charkey]=l[t.options.charkey],delete l[t.options.charkey]),Object.getOwnPropertyNames(l).length>0&&(u[t.options.childkey]=l),l=u;return r.length>0?t.assignOrPush(p,c,l):(t.options.explicitRoot&&(d=l,(l={})[c]=d),t.resultObject=l,t.saxParser.ended=!0,t.emit("end",t.resultObject))}}(this),n=function(t){return function(n){var i,o;if(o=r[r.length-1])return o[e]+=n,t.options.explicitChildren&&t.options.preserveChildrenOrder&&t.options.charsAsChildren&&(t.options.includeWhiteChars||""!==n.replace(/\\n/g,"").trim())&&(o[t.options.childkey]=o[t.options.childkey]||[],(i={"#name":"__text__"})[e]=n,t.options.normalize&&(i[e]=i[e].replace(/\s{2,}/g," ").trim()),o[t.options.childkey].push(i)),o}}(this),this.saxParser.ontext=n,this.saxParser.oncdata=function(t){var e;if(e=n(t))return e.cdata=!0}},i.prototype.parseString=function(e,n){var r;null!=n&&"function"==typeof n&&(this.on("end",(function(t){return this.reset(),n(null,t)})),this.on("error",(function(t){return this.reset(),n(t)})));try{return""===(e=e.toString()).trim()?(this.emit("end",null),!0):(e=t.stripBOM(e),this.options.async?(this.remaining=e,c(this.processAsync),this.saxParser):this.saxParser.write(e).close())}catch(t){if(r=t,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",r),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw r}},i.prototype.parseStringPromise=function(t){return new Promise((e=this,function(n,r){return e.parseString(t,(function(t,e){return t?r(t):n(e)}))}));var e},i}(i),e.parseString=function(t,n,r){var i,o;return null!=r?("function"==typeof r&&(i=r),"object"==typeof n&&(o=n)):("function"==typeof n&&(i=n),o={}),new e.Parser(o).parseString(t,i)},e.parseStringPromise=function(t,n){var r;return"object"==typeof n&&(r=n),new e.Parser(r).parseStringPromise(t)}}).call(this)},function(t,e,n){(function(t){!function(e){e.parser=function(t,e){return new o(t,e)},e.SAXParser=o,e.SAXStream=s,e.createStream=function(t,e){return new s(t,e)},e.MAX_BUFFER_LENGTH=65536;var r,i=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function o(t,n){if(!(this instanceof o))return new o(t,n);!function(t){for(var e=0,n=i.length;e<n;e++)t[i[e]]=""}(this),this.q=this.c="",this.bufferCheckPosition=e.MAX_BUFFER_LENGTH,this.opt=n||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!t,this.noscript=!(!t&&!this.opt.noscript),this.state=S.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=this.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(c)),this.trackPosition=!1!==this.opt.position,this.trackPosition&&(this.position=this.line=this.column=0),E(this,"onready")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){}return e.prototype=t,new e}),Object.keys||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}),o.prototype={end:function(){N(this)},write:function(t){if(this.error)throw this.error;if(this.closed)return k(this,"Cannot write after close. Assign an onready handler.");if(null===t)return N(this);"object"==typeof t&&(t=t.toString());var n=0,r="";for(;r=U(t,n++),this.c=r,r;)switch(this.trackPosition&&(this.position++,"\n"===r?(this.line++,this.column=0):this.column++),this.state){case S.BEGIN:if(this.state=S.BEGIN_WHITESPACE,"\ufeff"===r)continue;R(this,r);continue;case S.BEGIN_WHITESPACE:R(this,r);continue;case S.TEXT:if(this.sawRoot&&!this.closedRoot){for(var o=n-1;r&&"<"!==r&&"&"!==r;)(r=U(t,n++))&&this.trackPosition&&(this.position++,"\n"===r?(this.line++,this.column=0):this.column++);this.textNode+=t.substring(o,n-1)}"<"!==r||this.sawRoot&&this.closedRoot&&!this.strict?(p(r)||this.sawRoot&&!this.closedRoot||L(this,"Text data outside of root node."),"&"===r?this.state=S.TEXT_ENTITY:this.textNode+=r):(this.state=S.OPEN_WAKA,this.startTagPosition=this.position);continue;case S.SCRIPT:"<"===r?this.state=S.SCRIPT_ENDING:this.script+=r;continue;case S.SCRIPT_ENDING:"/"===r?this.state=S.CLOSE_TAG:(this.script+="<"+r,this.state=S.SCRIPT);continue;case S.OPEN_WAKA:if("!"===r)this.state=S.SGML_DECL,this.sgmlDecl="";else if(p(r));else if(y(l,r))this.state=S.OPEN_TAG,this.tagName=r;else if("/"===r)this.state=S.CLOSE_TAG,this.tagName="";else if("?"===r)this.state=S.PROC_INST,this.procInstName=this.procInstBody="";else{if(L(this,"Unencoded <"),this.startTagPosition+1<this.position){var a=this.position-this.startTagPosition;r=new Array(a).join(" ")+r}this.textNode+="<"+r,this.state=S.TEXT}continue;case S.SGML_DECL:"[CDATA["===(this.sgmlDecl+r).toUpperCase()?(M(this,"onopencdata"),this.state=S.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+r==="--"?(this.state=S.COMMENT,this.comment="",this.sgmlDecl=""):"DOCTYPE"===(this.sgmlDecl+r).toUpperCase()?(this.state=S.DOCTYPE,(this.doctype||this.sawRoot)&&L(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===r?(M(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=S.TEXT):m(r)?(this.state=S.SGML_DECL_QUOTED,this.sgmlDecl+=r):this.sgmlDecl+=r;continue;case S.SGML_DECL_QUOTED:r===this.q&&(this.state=S.SGML_DECL,this.q=""),this.sgmlDecl+=r;continue;case S.DOCTYPE:">"===r?(this.state=S.TEXT,M(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=r,"["===r?this.state=S.DOCTYPE_DTD:m(r)&&(this.state=S.DOCTYPE_QUOTED,this.q=r));continue;case S.DOCTYPE_QUOTED:this.doctype+=r,r===this.q&&(this.q="",this.state=S.DOCTYPE);continue;case S.DOCTYPE_DTD:this.doctype+=r,"]"===r?this.state=S.DOCTYPE:m(r)&&(this.state=S.DOCTYPE_DTD_QUOTED,this.q=r);continue;case S.DOCTYPE_DTD_QUOTED:this.doctype+=r,r===this.q&&(this.state=S.DOCTYPE_DTD,this.q="");continue;case S.COMMENT:"-"===r?this.state=S.COMMENT_ENDING:this.comment+=r;continue;case S.COMMENT_ENDING:"-"===r?(this.state=S.COMMENT_ENDED,this.comment=A(this.opt,this.comment),this.comment&&M(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+r,this.state=S.COMMENT);continue;case S.COMMENT_ENDED:">"!==r?(L(this,"Malformed comment"),this.comment+="--"+r,this.state=S.COMMENT):this.state=S.TEXT;continue;case S.CDATA:"]"===r?this.state=S.CDATA_ENDING:this.cdata+=r;continue;case S.CDATA_ENDING:"]"===r?this.state=S.CDATA_ENDING_2:(this.cdata+="]"+r,this.state=S.CDATA);continue;case S.CDATA_ENDING_2:">"===r?(this.cdata&&M(this,"oncdata",this.cdata),M(this,"onclosecdata"),this.cdata="",this.state=S.TEXT):"]"===r?this.cdata+="]":(this.cdata+="]]"+r,this.state=S.CDATA);continue;case S.PROC_INST:"?"===r?this.state=S.PROC_INST_ENDING:p(r)?this.state=S.PROC_INST_BODY:this.procInstName+=r;continue;case S.PROC_INST_BODY:if(!this.procInstBody&&p(r))continue;"?"===r?this.state=S.PROC_INST_ENDING:this.procInstBody+=r;continue;case S.PROC_INST_ENDING:">"===r?(M(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=S.TEXT):(this.procInstBody+="?"+r,this.state=S.PROC_INST_BODY);continue;case S.OPEN_TAG:y(f,r)?this.tagName+=r:(D(this),">"===r?_(this):"/"===r?this.state=S.OPEN_TAG_SLASH:(p(r)||L(this,"Invalid character in tag name"),this.state=S.ATTRIB));continue;case S.OPEN_TAG_SLASH:">"===r?(_(this,!0),P(this)):(L(this,"Forward-slash in opening tag not followed by >"),this.state=S.ATTRIB);continue;case S.ATTRIB:if(p(r))continue;">"===r?_(this):"/"===r?this.state=S.OPEN_TAG_SLASH:y(l,r)?(this.attribName=r,this.attribValue="",this.state=S.ATTRIB_NAME):L(this,"Invalid attribute name");continue;case S.ATTRIB_NAME:"="===r?this.state=S.ATTRIB_VALUE:">"===r?(L(this,"Attribute without value"),this.attribValue=this.attribName,O(this),_(this)):p(r)?this.state=S.ATTRIB_NAME_SAW_WHITE:y(f,r)?this.attribName+=r:L(this,"Invalid attribute name");continue;case S.ATTRIB_NAME_SAW_WHITE:if("="===r)this.state=S.ATTRIB_VALUE;else{if(p(r))continue;L(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",M(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===r?_(this):y(l,r)?(this.attribName=r,this.state=S.ATTRIB_NAME):(L(this,"Invalid attribute name"),this.state=S.ATTRIB)}continue;case S.ATTRIB_VALUE:if(p(r))continue;m(r)?(this.q=r,this.state=S.ATTRIB_VALUE_QUOTED):(L(this,"Unquoted attribute value"),this.state=S.ATTRIB_VALUE_UNQUOTED,this.attribValue=r);continue;case S.ATTRIB_VALUE_QUOTED:if(r!==this.q){"&"===r?this.state=S.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=r;continue}O(this),this.q="",this.state=S.ATTRIB_VALUE_CLOSED;continue;case S.ATTRIB_VALUE_CLOSED:p(r)?this.state=S.ATTRIB:">"===r?_(this):"/"===r?this.state=S.OPEN_TAG_SLASH:y(l,r)?(L(this,"No whitespace between attributes"),this.attribName=r,this.attribValue="",this.state=S.ATTRIB_NAME):L(this,"Invalid attribute name");continue;case S.ATTRIB_VALUE_UNQUOTED:if(!g(r)){"&"===r?this.state=S.ATTRIB_VALUE_ENTITY_U:this.attribValue+=r;continue}O(this),">"===r?_(this):this.state=S.ATTRIB;continue;case S.CLOSE_TAG:if(this.tagName)">"===r?P(this):y(f,r)?this.tagName+=r:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=S.SCRIPT):(p(r)||L(this,"Invalid tagname in closing tag"),this.state=S.CLOSE_TAG_SAW_WHITE);else{if(p(r))continue;b(l,r)?this.script?(this.script+="</"+r,this.state=S.SCRIPT):L(this,"Invalid tagname in closing tag."):this.tagName=r}continue;case S.CLOSE_TAG_SAW_WHITE:if(p(r))continue;">"===r?P(this):L(this,"Invalid characters in closing tag");continue;case S.TEXT_ENTITY:case S.ATTRIB_VALUE_ENTITY_Q:case S.ATTRIB_VALUE_ENTITY_U:var s,u;switch(this.state){case S.TEXT_ENTITY:s=S.TEXT,u="textNode";break;case S.ATTRIB_VALUE_ENTITY_Q:s=S.ATTRIB_VALUE_QUOTED,u="attribValue";break;case S.ATTRIB_VALUE_ENTITY_U:s=S.ATTRIB_VALUE_UNQUOTED,u="attribValue"}";"===r?(this[u]+=j(this),this.entity="",this.state=s):y(this.entity.length?d:h,r)?this.entity+=r:(L(this,"Invalid character in entity name"),this[u]+="&"+this.entity+r,this.entity="",this.state=s);continue;default:throw new Error(this,"Unknown state: "+this.state)}this.position>=this.bufferCheckPosition&&function(t){for(var n=Math.max(e.MAX_BUFFER_LENGTH,10),r=0,o=0,a=i.length;o<a;o++){var s=t[i[o]].length;if(s>n)switch(i[o]){case"textNode":I(t);break;case"cdata":M(t,"oncdata",t.cdata),t.cdata="";break;case"script":M(t,"onscript",t.script),t.script="";break;default:k(t,"Max buffer length exceeded: "+i[o])}r=Math.max(r,s)}var u=e.MAX_BUFFER_LENGTH-r;t.bufferCheckPosition=u+t.position}(this);return this}
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var t;I(t=this),""!==t.cdata&&(M(t,"oncdata",t.cdata),t.cdata=""),""!==t.script&&(M(t,"onscript",t.script),t.script="")}};try{r=n(154).Stream}catch(t){r=function(){}}var a=e.EVENTS.filter((function(t){return"error"!==t&&"end"!==t}));function s(t,e){if(!(this instanceof s))return new s(t,e);r.apply(this),this._parser=new o(t,e),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(t){n.emit("error",t),n._parser.error=null},this._decoder=null,a.forEach((function(t){Object.defineProperty(n,"on"+t,{get:function(){return n._parser["on"+t]},set:function(e){if(!e)return n.removeAllListeners(t),n._parser["on"+t]=e,e;n.on(t,e)},enumerable:!0,configurable:!1})}))}s.prototype=Object.create(r.prototype,{constructor:{value:s}}),s.prototype.write=function(e){if("function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(e)){if(!this._decoder){var r=n(54).StringDecoder;this._decoder=new r("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},s.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},s.prototype.on=function(t,e){var n=this;return n._parser["on"+t]||-1===a.indexOf(t)||(n._parser["on"+t]=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t),n.emit.apply(n,e)}),r.prototype.on.call(n,t,e)};var u="http://www.w3.org/XML/1998/namespace",c={xml:u,xmlns:"http://www.w3.org/2000/xmlns/"},l=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,f=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,h=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,d=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function p(t){return" "===t||"\n"===t||"\r"===t||"\t"===t}function m(t){return'"'===t||"'"===t}function g(t){return">"===t||p(t)}function y(t,e){return t.test(e)}function b(t,e){return!y(t,e)}var v,w,T,S=0;for(var x in e.STATE={BEGIN:S++,BEGIN_WHITESPACE:S++,TEXT:S++,TEXT_ENTITY:S++,OPEN_WAKA:S++,SGML_DECL:S++,SGML_DECL_QUOTED:S++,DOCTYPE:S++,DOCTYPE_QUOTED:S++,DOCTYPE_DTD:S++,DOCTYPE_DTD_QUOTED:S++,COMMENT_STARTING:S++,COMMENT:S++,COMMENT_ENDING:S++,COMMENT_ENDED:S++,CDATA:S++,CDATA_ENDING:S++,CDATA_ENDING_2:S++,PROC_INST:S++,PROC_INST_BODY:S++,PROC_INST_ENDING:S++,OPEN_TAG:S++,OPEN_TAG_SLASH:S++,ATTRIB:S++,ATTRIB_NAME:S++,ATTRIB_NAME_SAW_WHITE:S++,ATTRIB_VALUE:S++,ATTRIB_VALUE_QUOTED:S++,ATTRIB_VALUE_CLOSED:S++,ATTRIB_VALUE_UNQUOTED:S++,ATTRIB_VALUE_ENTITY_Q:S++,ATTRIB_VALUE_ENTITY_U:S++,CLOSE_TAG:S++,CLOSE_TAG_SAW_WHITE:S++,SCRIPT:S++,SCRIPT_ENDING:S++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach((function(t){var n=e.ENTITIES[t],r="number"==typeof n?String.fromCharCode(n):n;e.ENTITIES[t]=r})),e.STATE)e.STATE[e.STATE[x]]=x;function E(t,e,n){t[e]&&t[e](n)}function M(t,e,n){t.textNode&&I(t),E(t,e,n)}function I(t){t.textNode=A(t.opt,t.textNode),t.textNode&&E(t,"ontext",t.textNode),t.textNode=""}function A(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function k(t,e){return I(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,E(t,"onerror",e),t}function N(t){return t.sawRoot&&!t.closedRoot&&L(t,"Unclosed root tag"),t.state!==S.BEGIN&&t.state!==S.BEGIN_WHITESPACE&&t.state!==S.TEXT&&k(t,"Unexpected end"),I(t),t.c="",t.closed=!0,E(t,"onend"),o.call(t,t.strict,t.opt),t}function L(t,e){if("object"!=typeof t||!(t instanceof o))throw new Error("bad call to strictFail");t.strict&&k(t,e)}function D(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,n=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(n.ns=e.ns),t.attribList.length=0,M(t,"onopentagstart",n)}function C(t,e){var n=t.indexOf(":")<0?["",t]:t.split(":"),r=n[0],i=n[1];return e&&"xmlns"===t&&(r="xmlns",i=""),{prefix:r,local:i}}function O(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName))t.attribName=t.attribValue="";else{if(t.opt.xmlns){var e=C(t.attribName,!0),n=e.prefix,r=e.local;if("xmlns"===n)if("xml"===r&&t.attribValue!==u)L(t,"xml: prefix must be bound to "+u+"\nActual: "+t.attribValue);else if("xmlns"===r&&"http://www.w3.org/2000/xmlns/"!==t.attribValue)L(t,"xmlns: prefix must be bound to http://www.w3.org/2000/xmlns/\nActual: "+t.attribValue);else{var i=t.tag,o=t.tags[t.tags.length-1]||t;i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[r]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,M(t,"onattribute",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=""}}function _(t,e){if(t.opt.xmlns){var n=t.tag,r=C(t.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(L(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName)),n.uri=r.prefix);var i=t.tags[t.tags.length-1]||t;n.ns&&i.ns!==n.ns&&Object.keys(n.ns).forEach((function(e){M(t,"onopennamespace",{prefix:e,uri:n.ns[e]})}));for(var o=0,a=t.attribList.length;o<a;o++){var s=t.attribList[o],u=s[0],c=s[1],l=C(u,!0),f=l.prefix,h=l.local,d=""===f?"":n.ns[f]||"",p={name:u,value:c,prefix:f,local:h,uri:d};f&&"xmlns"!==f&&!d&&(L(t,"Unbound namespace prefix: "+JSON.stringify(f)),p.uri=f),t.tag.attributes[u]=p,M(t,"onattribute",p)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),M(t,"onopentag",t.tag),e||(t.noscript||"script"!==t.tagName.toLowerCase()?t.state=S.TEXT:t.state=S.SCRIPT,t.tag=null,t.tagName=""),t.attribName=t.attribValue="",t.attribList.length=0}function P(t){if(!t.tagName)return L(t,"Weird empty close tag."),t.textNode+="</>",void(t.state=S.TEXT);if(t.script){if("script"!==t.tagName)return t.script+="</"+t.tagName+">",t.tagName="",void(t.state=S.SCRIPT);M(t,"onscript",t.script),t.script=""}var e=t.tags.length,n=t.tagName;t.strict||(n=n[t.looseCase]());for(var r=n;e--;){if(t.tags[e].name===r)break;L(t,"Unexpected close tag")}if(e<0)return L(t,"Unmatched closing tag: "+t.tagName),t.textNode+="</"+t.tagName+">",void(t.state=S.TEXT);t.tagName=n;for(var i=t.tags.length;i-- >e;){var o=t.tag=t.tags.pop();t.tagName=t.tag.name,M(t,"onclosetag",t.tagName);var a={};for(var s in o.ns)a[s]=o.ns[s];var u=t.tags[t.tags.length-1]||t;t.opt.xmlns&&o.ns!==u.ns&&Object.keys(o.ns).forEach((function(e){var n=o.ns[e];M(t,"onclosenamespace",{prefix:e,uri:n})}))}0===e&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName="",t.attribList.length=0,t.state=S.TEXT}function j(t){var e,n=t.entity,r=n.toLowerCase(),i="";return t.ENTITIES[n]?t.ENTITIES[n]:t.ENTITIES[r]?t.ENTITIES[r]:("#"===(n=r).charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),i=(e=parseInt(n,16)).toString(16)):(n=n.slice(1),i=(e=parseInt(n,10)).toString(10))),n=n.replace(/^0+/,""),isNaN(e)||i.toLowerCase()!==n?(L(t,"Invalid character entity"),"&"+t.entity+";"):String.fromCodePoint(e))}function R(t,e){"<"===e?(t.state=S.OPEN_WAKA,t.startTagPosition=t.position):p(e)||(L(t,"Non-whitespace before first tag."),t.textNode=e,t.state=S.TEXT)}function U(t,e){var n="";return e<t.length&&(n=t.charAt(e)),n}S=e.STATE,String.fromCodePoint||(v=String.fromCharCode,w=Math.floor,T=function(){var t,e,n=16384,r=[],i=-1,o=arguments.length;if(!o)return"";for(var a="";++i<o;){var s=Number(arguments[i]);if(!isFinite(s)||s<0||s>1114111||w(s)!==s)throw RangeError("Invalid code point: "+s);s<=65535?r.push(s):(t=55296+((s-=65536)>>10),e=s%1024+56320,r.push(t,e)),(i+1===o||r.length>n)&&(a+=v.apply(null,r),r.length=0)}return a},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:T,configurable:!0,writable:!0}):String.fromCodePoint=T)}(e)}).call(this,n(24).Buffer)},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=c(t),a=r[0],s=r[1],u=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;2===s&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,u[l++]=255&e);1===s&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(l(t,a,a+16383>s?s:a+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,d=t[e+f];for(f+=h,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+t[e+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=c}return(d?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+d]=255&a,d+=p,a/=256,c-=8);t[n+d-p]|=128*m}},function(t,e,n){t.exports=i;var r=n(25).EventEmitter;function i(){r.call(this)}n(14)(i,r),i.Readable=n(51),i.Writable=n(162),i.Duplex=n(163),i.Transform=n(164),i.PassThrough=n(165),i.Stream=i,i.prototype.pipe=function(t,e){var n=this;function i(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",s),n.on("close",u));var a=!1;function s(){a||(a=!0,t.end())}function u(){a||(a=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){if(l(),0===r.listenerCount(this,"error"))throw t}function l(){n.removeListener("data",i),t.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",u),n.removeListener("error",c),t.removeListener("error",c),n.removeListener("end",l),n.removeListener("close",l),t.removeListener("close",l)}return n.on("error",c),t.on("error",c),n.on("end",l),n.on("close",l),t.on("close",l),t.emit("pipe",n),t}},function(t,e){},function(t,e,n){"use strict";var r=n(52).Buffer,i=n(157);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var e,n,i,o=r.allocUnsafe(t>>>0),a=this.head,s=0;a;)e=a.data,n=o,i=s,e.copy(n,i),s+=a.data.length,a=a.next;return o},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,o,a,s,u=1,c={},l=!1,f=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){p(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},r=function(t){o.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,r=function(t){var e=f.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(p,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&p(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),r=function(e){t.postMessage(a+e,"*")}),h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return c[u]=i,r(u),u++},h.clearImmediate=d}function d(t){delete c[t]}function p(t){if(l)setTimeout(p,0,t);else{var e=c[t];if(e){l=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{d(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(9),n(11))},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(this,n(9))},function(t,e,n){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var r=n(24),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){"use strict";t.exports=o;var r=n(74),i=Object.create(n(17));function o(t){if(!(this instanceof o))return new o(t);r.call(this,t)}i.inherits=n(14),i.inherits(o,r),o.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(53)},function(t,e,n){t.exports=n(15)},function(t,e,n){t.exports=n(51).Transform},function(t,e,n){t.exports=n(51).PassThrough},function(t,e){(function(){"use strict";e.stripBOM=function(t){return"\ufeff"===t[0]?t.substring(1):t}}).call(this)},function(t,e,n){"use strict";var r=n(168),i=n(169),o=n(170),a=n(176),s=n(178),u=n(179);t.exports=function t(){var e=[],n=a(),b={},v=!1,w=-1;return T.data=function(t,e){if(s(t))return 2===arguments.length?(m("data",v),b[t]=e,T):l.call(b,t)&&b[t]||null;if(t)return m("data",v),b=t,T;return b},T.freeze=S,T.attachers=e,T.use=function(t){var n;if(m("use",v),null==t);else if("function"==typeof t)s.apply(null,arguments);else{if("object"!=typeof t)throw new Error("Expected usable value, not `"+t+"`");"length"in t?a(t):i(t)}n&&(b.settings=r(b.settings||{},n));return T;function i(t){a(t.plugins),t.settings&&(n=r(n||{},t.settings))}function o(t){if("function"==typeof t)s(t);else{if("object"!=typeof t)throw new Error("Expected usable value, not `"+t+"`");"length"in t?s.apply(null,t):i(t)}}function a(t){var e,n;if(null==t);else{if("object"!=typeof t||!("length"in t))throw new Error("Expected a list of plugins, not `"+t+"`");for(e=t.length,n=-1;++n<e;)o(t[n])}}function s(t,n){var i=x(t);i?(u(i[1])&&u(n)&&(n=r(i[1],n)),i[1]=n):e.push(c.call(arguments))}},T.parse=function(t){var e,n=o(t);if(S(),d("parse",e=T.Parser),h(e))return new e(String(n),n).parse();return e(String(n),n)},T.stringify=function(t,e){var n,r=o(e);if(S(),p("stringify",n=T.Compiler),g(t),h(n))return new n(t,r).compile();return n(t,r)},T.run=E,T.runSync=function(t,e){var n,r=!1;return E(t,e,(function(t,e){r=!0,i(t),n=e})),y("runSync","run",r),n},T.process=M,T.processSync=function(t){var e,n=!1;return S(),d("processSync",T.Parser),p("processSync",T.Compiler),M(e=o(t),(function(t){n=!0,i(t)})),y("processSync","process",n),e},T;function T(){for(var n=t(),i=e.length,o=-1;++o<i;)n.use.apply(null,e[o]);return n.data(r(!0,{},b)),n}function S(){var t,r,i,o;if(v)return T;for(;++w<e.length;)r=(t=e[w])[0],null,!1!==(i=t[1])&&(!0===i&&(t[1]=void 0),"function"==typeof(o=r.apply(T,t.slice(1)))&&n.use(o));return v=!0,w=1/0,T}function x(t){for(var n,r=e.length,i=-1;++i<r;)if((n=e[i])[0]===t)return n}function E(t,e,r){if(g(t),S(),r||"function"!=typeof e||(r=e,e=null),!r)return new Promise(i);function i(i,a){n.run(t,o(e),(function(e,n,o){n=n||t,e?a(e):i?i(n):r(null,n,o)}))}i(null,r)}function M(t,e){if(S(),d("process",T.Parser),p("process",T.Compiler),!e)return new Promise(n);function n(n,r){var i=o(t);f.run(T,{file:i},(function(t){t?r(t):n?n(i):e(null,i)}))}n(null,e)}}().freeze();var c=[].slice,l={}.hasOwnProperty,f=a().use((function(t,e){e.tree=t.parse(e.file)})).use((function(t,e,n){t.run(e.tree,e.file,(function(t,r,i){t?n(t):(e.tree=r,e.file=i,n())}))})).use((function(t,e){e.file.contents=t.stringify(e.tree,e.file)}));function h(t){return"function"==typeof t&&function(t){var e;for(e in t)return!0;return!1}(t.prototype)}function d(t,e){if("function"!=typeof e)throw new Error("Cannot `"+t+"` without `Parser`")}function p(t,e){if("function"!=typeof e)throw new Error("Cannot `"+t+"` without `Compiler`")}function m(t,e){if(e)throw new Error(["Cannot invoke `"+t+"` on a frozen processor.\nCreate a new ","processor first, by invoking it: use `processor()` instead of ","`processor`."].join(""))}function g(t){if(!t||!s(t.type))throw new Error("Expected node, got `"+t+"`")}function y(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===i.call(t)},u=function(t){if(!t||"[object Object]"!==i.call(t))return!1;var e,n=r.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&r.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!o)return!1;for(e in t);return void 0===e||r.call(t,e)},c=function(t,e){o&&"__proto__"===e.name?o(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},l=function(t,e){if("__proto__"===e){if(!r.call(t,e))return;if(a)return a(t,e).value}return t[e]};t.exports=function t(){var e,n,r,i,o,a,f=arguments[0],h=1,d=arguments.length,p=!1;for("boolean"==typeof f&&(p=f,f=arguments[1]||{},h=2),(null==f||"object"!=typeof f&&"function"!=typeof f)&&(f={});h<d;++h)if(null!=(e=arguments[h]))for(n in e)r=l(f,n),f!==(i=l(e,n))&&(p&&i&&(u(i)||(o=s(i)))?(o?(o=!1,a=r&&s(r)?r:[]):a=r&&u(r)?r:{},c(f,{name:n,newValue:t(p,a,i)})):void 0!==i&&c(f,{name:n,newValue:i}));return f}},function(t,e,n){"use strict";t.exports=function(t){if(t)throw t}},function(t,e,n){"use strict";var r=n(171),i=n(173);t.exports=i;var o=i.prototype;function a(t,e,n){var i=this.path,o=new r(t,e,n);return i&&(o.name=i+":"+o.name,o.file=i),o.fatal=!1,this.messages.push(o),o}o.message=a,o.info=function(){var t=this.message.apply(this,arguments);return t.fatal=null,t},o.fail=function(){var t=this.message.apply(this,arguments);throw t.fatal=!0,t},o.warn=a},function(t,e,n){"use strict";var r=n(172);function i(){}t.exports=a,i.prototype=Error.prototype,a.prototype=new i;var o=a.prototype;function a(t,e,n){var i,o,a;"string"==typeof e&&(n=e,e=null),i=function(t){var e,n=[null,null];"string"==typeof t&&(-1===(e=t.indexOf(":"))?n[1]=t:(n[0]=t.slice(0,e),n[1]=t.slice(e+1)));return n}(n),o=r(e)||"1:1",a={start:{line:null,column:null},end:{line:null,column:null}},e&&e.position&&(e=e.position),e&&(e.start?(a=e,e=e.start):a.start=e),t.stack&&(this.stack=t.stack,t=t.message),this.message=t,this.name=o,this.reason=t,this.line=e?e.line:null,this.column=e?e.column:null,this.location=a,this.source=i[0],this.ruleId=i[1]}o.file="",o.name="",o.reason="",o.message="",o.stack="",o.fatal=null,o.column=null,o.line=null},function(t,e,n){"use strict";var r={}.hasOwnProperty;function i(t){return t&&"object"==typeof t||(t={}),a(t.line)+":"+a(t.column)}function o(t){return t&&"object"==typeof t||(t={}),i(t.start)+"-"+i(t.end)}function a(t){return t&&"number"==typeof t?t:1}t.exports=function(t){if(!t||"object"!=typeof t)return null;if(r.call(t,"position")||r.call(t,"type"))return o(t.position);if(r.call(t,"start")||r.call(t,"end"))return o(t);if(r.call(t,"line")||r.call(t,"column"))return i(t);return null}},function(t,e,n){"use strict";(function(e){var r=n(76),i=n(174),o=n(175);t.exports=c;var a={}.hasOwnProperty,s=c.prototype;s.toString=function(t){var e=this.contents||"";return o(e)?e.toString(t):String(e)};var u=["history","path","basename","stem","extname","dirname"];function c(t){var n,r,i;if(t){if("string"==typeof t||o(t))t={contents:t};else if("message"in t&&"messages"in t)return t}else t={};if(!(this instanceof c))return new c(t);for(this.data={},this.messages=[],this.history=[],this.cwd=e.cwd(),r=-1,i=u.length;++r<i;)n=u[r],a.call(t,n)&&(this[n]=t[n]);for(n in t)-1===u.indexOf(n)&&(this[n]=t[n])}function l(t,e){if(-1!==t.indexOf(r.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+r.sep+"`")}function f(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function h(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}Object.defineProperty(s,"path",{get:function(){return this.history[this.history.length-1]},set:function(t){f(t,"path"),t!==this.path&&this.history.push(t)}}),Object.defineProperty(s,"dirname",{get:function(){return"string"==typeof this.path?r.dirname(this.path):void 0},set:function(t){h(this.path,"dirname"),this.path=r.join(t||"",this.basename)}}),Object.defineProperty(s,"basename",{get:function(){return"string"==typeof this.path?r.basename(this.path):void 0},set:function(t){f(t,"basename"),l(t,"basename"),this.path=r.join(this.dirname||"",t)}}),Object.defineProperty(s,"extname",{get:function(){return"string"==typeof this.path?r.extname(this.path):void 0},set:function(t){var e=t||"";if(l(e,"extname"),h(this.path,"extname"),e){if("."!==e.charAt(0))throw new Error("`extname` must start with `.`");if(-1!==e.indexOf(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=i(this.path,e)}}),Object.defineProperty(s,"stem",{get:function(){return"string"==typeof this.path?r.basename(this.path,this.extname):void 0},set:function(t){f(t,"stem"),l(t,"stem"),this.path=r.join(this.dirname||"",t+(this.extname||""))}})}).call(this,n(11))},function(t,e,n){"use strict";var r=n(76);t.exports=function(t,e){if("string"!=typeof t)return t;if(0===t.length)return t;var n=r.basename(t,r.extname(t))+e;return r.join(r.dirname(t),n)}},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){"use strict";var r=n(177);t.exports=o,o.wrap=r;var i=[].slice;function o(){var t=[],e={run:function(){var e=-1,n=i.call(arguments,0,-1),o=arguments[arguments.length-1];if("function"!=typeof o)throw new Error("Expected function as last argument, not "+o);function a(s){var u=t[++e],c=i.call(arguments,0),l=c.slice(1),f=n.length,h=-1;if(s)o(s);else{for(;++h<f;)null!==l[h]&&void 0!==l[h]||(l[h]=n[h]);n=l,u?r(u,a).apply(null,n):o.apply(null,[null].concat(n))}}a.apply(null,[null].concat(n))},use:function(n){if("function"!=typeof n)throw new Error("Expected `fn` to be a function, not "+n);return t.push(n),e}};return e}},function(t,e,n){"use strict";var r=[].slice;t.exports=function(t,e){var n;return function(){var e,a=r.call(arguments,0),s=t.length>a.length;s&&a.push(i);try{e=t.apply(null,a)}catch(t){if(s&&n)throw t;return i(t)}s||(e&&"function"==typeof e.then?e.then(o,i):e instanceof Error?i(e):o(e))};function i(){n||(n=!0,e.apply(null,arguments))}function o(t){i(null,t)}}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return"[object String]"===n.call(t)}},function(t,e,n){"use strict";var r=Object.prototype.toString;t.exports=function(t){var e;return"[object Object]"===r.call(t)&&(null===(e=Object.getPrototypeOf(t))||e===Object.getPrototypeOf({}))}},function(t,e,n){"use strict";var r=n(181),i=n(13),o=n(182);function a(t){var e=r(o);e.prototype.options=i(e.prototype.options,this.data("settings"),t),this.Parser=e}t.exports=a,a.Parser=o},function(t,e,n){"use strict";var r=n(13),i=n(14);t.exports=function(t){var e,n,o;for(n in i(s,t),i(a,s),e=s.prototype)(o=e[n])&&"object"==typeof o&&(e[n]="concat"in o?o.concat():r(o));return s;function a(e){return t.apply(this,e)}function s(){return this instanceof s?t.apply(this,arguments):new a(arguments)}}},function(t,e,n){"use strict";var r=n(13),i=n(183),o=n(184),a=n(185),s=n(186),u=n(192);function c(t,e){this.file=e,this.offset={},this.options=r(this.options),this.setOptions({}),this.inList=!1,this.inBlock=!1,this.inLink=!1,this.atStart=!0,this.toOffset=o(e).toOffset,this.unescape=a(this,"escape"),this.decode=s(this)}t.exports=c;var l=c.prototype;function f(t){var e,n=[];for(e in t)n.push(e);return n}l.setOptions=n(193),l.parse=n(196),l.options=n(78),l.exitStart=i("atStart",!0),l.enterList=i("inList",!1),l.enterLink=i("inLink",!1),l.enterBlock=i("inBlock",!1),l.interruptParagraph=[["thematicBreak"],["atxHeading"],["fencedCode"],["blockquote"],["html"],["setextHeading",{commonmark:!1}],["definition",{commonmark:!1}],["footnote",{commonmark:!1}]],l.interruptList=[["atxHeading",{pedantic:!1}],["fencedCode",{pedantic:!1}],["thematicBreak",{pedantic:!1}],["definition",{commonmark:!1}],["footnote",{commonmark:!1}]],l.interruptBlockquote=[["indentedCode",{commonmark:!0}],["fencedCode",{commonmark:!0}],["atxHeading",{commonmark:!0}],["setextHeading",{commonmark:!0}],["thematicBreak",{commonmark:!0}],["html",{commonmark:!0}],["list",{commonmark:!0}],["definition",{commonmark:!1}],["footnote",{commonmark:!1}]],l.blockTokenizers={newline:n(200),indentedCode:n(201),fencedCode:n(202),blockquote:n(203),atxHeading:n(204),thematicBreak:n(205),list:n(206),setextHeading:n(208),html:n(209),footnote:n(210),definition:n(212),table:n(213),paragraph:n(214)},l.inlineTokenizers={escape:n(215),autoLink:n(217),url:n(218),html:n(220),link:n(221),reference:n(222),strong:n(223),emphasis:n(225),deletion:n(228),code:n(230),break:n(232),text:n(234)},l.blockMethods=f(l.blockTokenizers),l.inlineMethods=f(l.inlineTokenizers),l.tokenizeBlock=u("block"),l.tokenizeInline=u("inline"),l.tokenizeFactory=u},function(t,e,n){"use strict";t.exports=function(t,e,n){return function(){var r=n||this,i=r[t];return r[t]=!e,function(){r[t]=i}}}},function(t,e,n){"use strict";function r(t){return function(e){var n=-1,r=t.length;if(e<0)return{};for(;++n<r;)if(t[n]>e)return{line:n+1,column:e-(t[n-1]||0)+1,offset:e};return{}}}function i(t){return function(e){var n=e&&e.line,r=e&&e.column;if(!isNaN(n)&&!isNaN(r)&&n-1 in t)return(t[n-2]||0)+r-1||0;return-1}}t.exports=function(t){var e=function(t){var e=[],n=t.indexOf("\n");for(;-1!==n;)e.push(n+1),n=t.indexOf("\n",n+1);return e.push(t.length+1),e}(String(t));return{toPosition:r(e),toOffset:i(e)}}},function(t,e,n){"use strict";t.exports=function(t,e){return function(n){var r,i=0,o=n.indexOf("\\"),a=t[e],s=[];for(;-1!==o;)s.push(n.slice(i,o)),i=o+1,(r=n.charAt(i))&&-1!==a.indexOf(r)||s.push("\\"),o=n.indexOf("\\",i);return s.push(n.slice(i)),s.join("")}}},function(t,e,n){"use strict";var r=n(13),i=n(55);t.exports=function(t){return o.raw=function(t,o,a){return i(t,r(a,{position:e(o),warning:n}))},o;function e(e){for(var n=t.offset,r=e.line,i=[];++r&&r in n;)i.push((n[r]||0)+1);return{start:e,indent:i}}function n(e,n,r){3!==r&&t.file.message(e,n)}function o(r,o,a){i(r,{position:e(o),warning:n,text:a,reference:a,textContext:t,referenceContext:t})}}},function(t){t.exports=JSON.parse('{"AElig":"Æ","AMP":"&","Aacute":"Á","Acirc":"Â","Agrave":"À","Aring":"Å","Atilde":"Ã","Auml":"Ä","COPY":"©","Ccedil":"Ç","ETH":"Ð","Eacute":"É","Ecirc":"Ê","Egrave":"È","Euml":"Ë","GT":">","Iacute":"Í","Icirc":"Î","Igrave":"Ì","Iuml":"Ï","LT":"<","Ntilde":"Ñ","Oacute":"Ó","Ocirc":"Ô","Ograve":"Ò","Oslash":"Ø","Otilde":"Õ","Ouml":"Ö","QUOT":"\\"","REG":"®","THORN":"Þ","Uacute":"Ú","Ucirc":"Û","Ugrave":"Ù","Uuml":"Ü","Yacute":"Ý","aacute":"á","acirc":"â","acute":"´","aelig":"æ","agrave":"à","amp":"&","aring":"å","atilde":"ã","auml":"ä","brvbar":"¦","ccedil":"ç","cedil":"¸","cent":"¢","copy":"©","curren":"¤","deg":"°","divide":"÷","eacute":"é","ecirc":"ê","egrave":"è","eth":"ð","euml":"ë","frac12":"½","frac14":"¼","frac34":"¾","gt":">","iacute":"í","icirc":"î","iexcl":"¡","igrave":"ì","iquest":"¿","iuml":"ï","laquo":"«","lt":"<","macr":"¯","micro":"µ","middot":"·","nbsp":" ","not":"¬","ntilde":"ñ","oacute":"ó","ocirc":"ô","ograve":"ò","ordf":"ª","ordm":"º","oslash":"ø","otilde":"õ","ouml":"ö","para":"¶","plusmn":"±","pound":"£","quot":"\\"","raquo":"»","reg":"®","sect":"§","shy":"­","sup1":"¹","sup2":"²","sup3":"³","szlig":"ß","thorn":"þ","times":"×","uacute":"ú","ucirc":"û","ugrave":"ù","uml":"¨","uuml":"ü","yacute":"ý","yen":"¥","yuml":"ÿ"}')},function(t){t.exports=JSON.parse('{"0":"�","128":"€","130":"‚","131":"ƒ","132":"„","133":"…","134":"†","135":"‡","136":"ˆ","137":"‰","138":"Š","139":"‹","140":"Œ","142":"Ž","145":"‘","146":"’","147":"“","148":"”","149":"•","150":"–","151":"—","152":"˜","153":"™","154":"š","155":"›","156":"œ","158":"ž","159":"Ÿ"}')},function(t,e,n){"use strict";t.exports=function(t){var e="string"==typeof t?t.charCodeAt(0):t;return e>=97&&e<=102||e>=65&&e<=70||e>=48&&e<=57}},function(t,e,n){"use strict";var r=n(77),i=n(27);t.exports=function(t){return r(t)||i(t)}},function(t,e,n){"use strict";var r;t.exports=function(t){var e,n="&"+t+";";if((r=r||document.createElement("i")).innerHTML=n,59===(e=r.textContent).charCodeAt(e.length-1)&&"semi"!==t)return!1;return e!==n&&e}},function(t,e,n){"use strict";t.exports=function(t){return function(e,n){var o,a,s,u,c,l,f=this,h=f.offset,d=[],p=f[t+"Methods"],m=f[t+"Tokenizers"],g=n.line,y=n.column;if(!e)return d;T.now=v,T.file=f.file,b("");for(;e;){for(o=-1,a=p.length,c=!1;++o<a&&(u=p[o],!(s=m[u])||s.onlyAtStart&&!f.atStart||s.notInList&&f.inList||s.notInBlock&&f.inBlock||s.notInLink&&f.inLink||(l=e.length,s.apply(f,[T,e]),!(c=l!==e.length))););c||f.file.fail(new Error("Infinite loop"),T.now())}return f.eof=v(),d;function b(t){for(var e=-1,n=t.indexOf("\n");-1!==n;)g++,e=n,n=t.indexOf("\n",n+1);-1===e?y+=t.length:y=t.length-e,g in h&&(-1!==e?y+=h[g]:y<=h[g]&&(y=h[g]+1))}function v(){var t={line:g,column:y};return t.offset=f.toOffset(t),t}function w(t){this.start=t,this.end=v()}function T(t){var n,o=function(){var t=[],e=g+1;return function(){for(var n=g+1;e<n;)t.push((h[e]||0)+1),e++;return t}}(),a=(n=v(),function(t,e){var r=t.position,i=r?r.start:n,o=[],a=r&&r.end.line,s=n.line;if(t.position=new w(i),r&&e&&r.indent){if(o=r.indent,a<s){for(;++a<s;)o.push((h[a]||0)+1);o.push(n.column)}e=o.concat(e)}return t.position.indent=e||[],t}),s=v();return function(t){e.substring(0,t.length)!==t&&f.file.fail(new Error("Incorrectly eaten value: please report this warning on http://git.io/vg5Ft"),v())}(t),u.reset=c,c.test=l,u.test=l,e=e.substring(t.length),b(t),o=o(),u;function u(t,e){return a(function(t,e){var n=e?e.children:d,o=n[n.length-1];return o&&t.type===o.type&&t.type in r&&i(o)&&i(t)&&(t=r[t.type].call(f,o,t)),t!==o&&n.push(t),f.atStart&&0!==d.length&&f.exitStart(),t}(a(t),e),o)}function c(){var n=u.apply(null,arguments);return g=s.line,y=s.column,e=t+e,n}function l(){var n=a({});return g=s.line,y=s.column,e=t+e,n.position}}}};var r={text:function(t,e){return t.value+=e.value,t},blockquote:function(t,e){if(this.options.commonmark)return e;return t.children=t.children.concat(e.children),t}};function i(t){var e,n;return"text"!==t.type||!t.position||(e=t.position.start,n=t.position.end,e.line!==n.line||n.column-e.column===t.value.length)}},function(t,e,n){"use strict";var r=n(13),i=n(194),o=n(78);t.exports=function(t){var e,n,a=this.options;if(null==t)t={};else{if("object"!=typeof t)throw new Error("Invalid value `"+t+"` for setting `options`");t=r(t)}for(e in o){if(null==(n=t[e])&&(n=a[e]),"blocks"!==e&&"boolean"!=typeof n||"blocks"===e&&"object"!=typeof n)throw new Error("Invalid value `"+n+"` for setting `options."+e+"`");t[e]=n}return this.options=t,this.escape=i(t),this}},function(t,e,n){"use strict";t.exports=a;var r=["\\","`","*","{","}","[","]","(",")","#","+","-",".","!","_",">"],i=r.concat(["~","|"]),o=i.concat(["\n",'"',"$","%","&","'",",","/",":",";","<","=","?","@","^"]);function a(t){var e=t||{};return e.commonmark?o:e.gfm?i:r}a.default=r,a.gfm=i,a.commonmark=o},function(t){t.exports=JSON.parse('["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","pre","section","source","title","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]')},function(t,e,n){"use strict";var r=n(13),i=n(197);t.exports=function(){var t,e=String(this.file),n={line:1,column:1,offset:0},a=r(n);65279===(e=e.replace(o,"\n")).charCodeAt(0)&&(e=e.slice(1),a.column++,a.offset++);t={type:"root",children:this.tokenizeBlock(e,a),position:{start:n,end:this.eof||r(n)}},this.options.position||i(t,!0);return t};var o=/\r\n|\r/g},function(t,e,n){"use strict";var r=n(28);function i(t){delete t.position}function o(t){t.position=void 0}t.exports=function(t,e){return r(t,e?i:o),t}},function(t,e,n){"use strict";t.exports=i;var r=n(199);function i(t,e,n,i){var a;function s(t,r,u){var c,l=[];return(e&&!a(t,r,u[u.length-1]||null)||!1!==(l=o(n(t,u)))[0])&&t.children&&"skip"!==l[0]&&!1===(c=o(function(t,e){var n,r=i?-1:1,o=(i?t.length:-1)+r;for(;o>-1&&o<t.length;){if(!1===(n=s(t[o],o,e))[0])return n;o="number"==typeof n[1]?n[1]:o+r}}(t.children,u.concat(t))))[0]?c:l}"function"==typeof e&&"function"!=typeof n&&(i=n,n=e,e=null),a=r(e),s(t,null,[])}function o(t){return null!==t&&"object"==typeof t&&"length"in t?t:"number"==typeof t?[!0,t]:[t]}i.CONTINUE=!0,i.SKIP="skip",i.EXIT=!1},function(t,e,n){"use strict";function r(t){if("string"==typeof t)return function(t){return function(e){return Boolean(e&&e.type===t)}}(t);if(null==t)return a;if("object"==typeof t)return("length"in t?o:i)(t);if("function"==typeof t)return t;throw new Error("Expected function, string, or object as test")}function i(t){return function(e){var n;for(n in t)if(e[n]!==t[n])return!1;return!0}}function o(t){var e=function(t){for(var e=[],n=t.length,i=-1;++i<n;)e[i]=r(t[i]);return e}(t),n=e.length;return function(){var t=-1;for(;++t<n;)if(e[t].apply(this,arguments))return!0;return!1}}function a(){return!0}t.exports=r},function(t,e,n){"use strict";var r=n(7);t.exports=function(t,e,n){var i,o,a,s,u=e.charAt(0);if("\n"!==u)return;if(n)return!0;s=1,i=e.length,o=u,a="";for(;s<i&&(u=e.charAt(s),r(u));)a+=u,"\n"===u&&(o+=a,a=""),s++;t(o)}},function(t,e,n){"use strict";var r=n(56),i=n(57);t.exports=function(t,e,n){var r,a,s,u=-1,c=e.length,l="",f="",h="",d="";for(;++u<c;)if(r=e.charAt(u),s)if(s=!1,l+=h,f+=d,h="",d="","\n"===r)h=r,d=r;else for(l+=r,f+=r;++u<c;){if(!(r=e.charAt(u))||"\n"===r){d=r,h=r;break}l+=r,f+=r}else if(" "===r&&e.charAt(u+1)===r&&e.charAt(u+2)===r&&e.charAt(u+3)===r)h+=o,u+=3,s=!0;else if("\t"===r)h+=r,s=!0;else{for(a="";"\t"===r||" "===r;)a+=r,r=e.charAt(++u);if("\n"!==r)break;h+=a+r,d+=r}if(f)return!!n||t(l)({type:"code",lang:null,value:i(f)})};var o=r(" ",4)},function(t,e,n){"use strict";var r=n(57);t.exports=function(t,e,n){var i,o,a,s,u,c,l,f,h,d,p,m=this.options,g=e.length+1,y=0,b="";if(!m.gfm)return;for(;y<g&&(" "===(a=e.charAt(y))||"\t"===a);)b+=a,y++;if(d=y,"~"!==(a=e.charAt(y))&&"`"!==a)return;y++,o=a,i=1,b+=a;for(;y<g&&(a=e.charAt(y))===o;)b+=a,i++,y++;if(i<3)return;for(;y<g&&(" "===(a=e.charAt(y))||"\t"===a);)b+=a,y++;s="",u="";for(;y<g&&"\n"!==(a=e.charAt(y))&&"~"!==a&&"`"!==a;)" "===a||"\t"===a?u+=a:(s+=u+a,u=""),y++;if((a=e.charAt(y))&&"\n"!==a)return;if(n)return!0;(p=t.now()).column+=b.length,p.offset+=b.length,b+=s,s=this.decode.raw(this.unescape(s),p),u&&(b+=u);u="",f="",h="",c="",l="";for(;y<g;)if(a=e.charAt(y),c+=f,l+=h,f="",h="","\n"===a){for(c?(f+=a,h+=a):b+=a,u="",y++;y<g&&" "===(a=e.charAt(y));)u+=a,y++;if(f+=u,h+=u.slice(d),!(u.length>=4)){for(u="";y<g&&(a=e.charAt(y))===o;)u+=a,y++;if(f+=u,h+=u,!(u.length<i)){for(u="";y<g&&(" "===(a=e.charAt(y))||"\t"===a);)f+=a,h+=a,y++;if(!a||"\n"===a)break}}}else c+=a,h+=a,y++;return t(b+=c+f)({type:"code",lang:s||null,value:r(l)})}},function(t,e,n){"use strict";var r=n(16),i=n(58);t.exports=function(t,e,n){var o,a,s,u,c,l,f,h,d,p=this.offset,m=this.blockTokenizers,g=this.interruptBlockquote,y=t.now(),b=y.line,v=e.length,w=[],T=[],S=[],x=0;for(;x<v&&(" "===(a=e.charAt(x))||"\t"===a);)x++;if(">"!==e.charAt(x))return;if(n)return!0;x=0;for(;x<v;){for(u=e.indexOf("\n",x),f=x,h=!1,-1===u&&(u=v);x<v&&(" "===(a=e.charAt(x))||"\t"===a);)x++;if(">"===e.charAt(x)?(x++,h=!0," "===e.charAt(x)&&x++):x=f,c=e.slice(x,u),!h&&!r(c)){x=f;break}if(!h&&(s=e.slice(x),i(g,m,this,[t,s,!0])))break;l=f===x?c:e.slice(f,u),S.push(x-f),w.push(l),T.push(c),x=u+1}x=-1,v=S.length,o=t(w.join("\n"));for(;++x<v;)p[b]=(p[b]||0)+S[x],b++;return d=this.enterBlock(),T=this.tokenizeBlock(T.join("\n"),y),d(),o({type:"blockquote",children:T})}},function(t,e,n){"use strict";t.exports=function(t,e,n){var r,i,o,a=this.options,s=e.length+1,u=-1,c=t.now(),l="",f="";for(;++u<s;){if(" "!==(r=e.charAt(u))&&"\t"!==r){u--;break}l+=r}o=0;for(;++u<=s;){if("#"!==(r=e.charAt(u))){u--;break}l+=r,o++}if(o>6)return;if(!o||!a.pedantic&&"#"===e.charAt(u+1))return;s=e.length+1,i="";for(;++u<s;){if(" "!==(r=e.charAt(u))&&"\t"!==r){u--;break}i+=r}if(!a.pedantic&&0===i.length&&r&&"\n"!==r)return;if(n)return!0;l+=i,i="",f="";for(;++u<s&&(r=e.charAt(u))&&"\n"!==r;)if(" "===r||"\t"===r||"#"===r){for(;" "===r||"\t"===r;)i+=r,r=e.charAt(++u);for(;"#"===r;)i+=r,r=e.charAt(++u);for(;" "===r||"\t"===r;)i+=r,r=e.charAt(++u);u--}else f+=i+r,i="";return c.column+=l.length,c.offset+=l.length,t(l+=f+i)({type:"heading",depth:o,children:this.tokenizeInline(f,c)})}},function(t,e,n){"use strict";t.exports=function(t,e,n){var r,i,o,a,s=-1,u=e.length+1,c="";for(;++s<u&&("\t"===(r=e.charAt(s))||" "===r);)c+=r;if("*"!==r&&"-"!==r&&"_"!==r)return;i=r,c+=r,o=1,a="";for(;++s<u;)if((r=e.charAt(s))===i)o++,c+=a+i,a="";else{if(" "!==r)return o>=3&&(!r||"\n"===r)?(c+=a,!!n||t(c)({type:"thematicBreak"})):void 0;a+=r}}},function(t,e,n){"use strict";var r=n(16),i=n(56),o=n(27),a=n(79),s=n(207),u=n(58);t.exports=function(t,e,n){var i,a,s,c,l,f,h,d,b,v,w,T,S,x,E,M,I,A,k,N,L,D,C,O,_=this.options.commonmark,P=this.options.pedantic,j=this.blockTokenizers,R=this.interruptList,U=0,z=e.length,B=null,F=0;for(;U<z;){if("\t"===(c=e.charAt(U)))F+=4-F%4;else{if(" "!==c)break;F++}U++}if(F>=4)return;if(c=e.charAt(U),i=_?g:m,!0===p[c])l=c,s=!1;else{for(s=!0,a="";U<z&&(c=e.charAt(U),o(c));)a+=c,U++;if(c=e.charAt(U),!a||!0!==i[c])return;B=parseInt(a,10),l=c}if(" "!==(c=e.charAt(++U))&&"\t"!==c)return;if(n)return!0;U=0,x=[],E=[],M=[];for(;U<z;){for(f=e.indexOf("\n",U),h=U,d=!1,O=!1,-1===f&&(f=z),C=U+4,F=0;U<z;){if("\t"===(c=e.charAt(U)))F+=4-F%4;else{if(" "!==c)break;F++}U++}if(F>=4&&(O=!0),I&&F>=I.indent&&(O=!0),c=e.charAt(U),b=null,!O){if(!0===p[c])b=c,U++,F++;else{for(a="";U<z&&(c=e.charAt(U),o(c));)a+=c,U++;c=e.charAt(U),U++,a&&!0===i[c]&&(b=c,F+=a.length+1)}if(b)if("\t"===(c=e.charAt(U)))F+=4-F%4,U++;else if(" "===c){for(C=U+4;U<C&&" "===e.charAt(U);)U++,F++;U===C&&" "===e.charAt(U)&&(U-=3,F-=3)}else"\n"!==c&&""!==c&&(b=null)}if(b){if(!P&&l!==b)break;d=!0}else _||O||" "!==e.charAt(h)?_&&I&&(O=F>=I.indent||F>4):O=!0,d=!1,U=h;if(w=e.slice(h,f),v=h===U?w:e.slice(U,f),("*"===b||"_"===b||"-"===b)&&j.thematicBreak.call(this,t,w,!0))break;if(T=S,S=!r(v).length,O&&I)I.value=I.value.concat(M,w),E=E.concat(M,w),M=[];else if(d)0!==M.length&&(I.value.push(""),I.trail=M.concat()),I={value:[w],indent:F,trail:[]},x.push(I),E=E.concat(M,w),M=[];else if(S){if(T)break;M.push(w)}else{if(T)break;if(u(R,j,this,[t,w,!0]))break;I.value=I.value.concat(M,w),E=E.concat(M,w),M=[]}U=f+1}L=t(E.join("\n")).reset({type:"list",ordered:s,start:B,loose:null,children:[]}),A=this.enterList(),k=this.enterBlock(),N=!1,U=-1,z=x.length;for(;++U<z;)I=x[U].value.join("\n"),D=t.now(),(I=t(I)(y(this,I,D),L)).loose&&(N=!0),I=x[U].trail.join("\n"),U!==z-1&&(I+="\n"),t(I);return A(),k(),L.loose=N,L};var c=/\n\n(?!\s*$)/,l=/^\[([ \t]|x|X)][ \t]/,f=/^([ \t]*)([*+-]|\d+[.)])( {1,4}(?! )| |\t|$|(?=\n))([^\n]*)/,h=/^([ \t]*)([*+-]|\d+[.)])([ \t]+)/,d=/^( {1,4}|\t)?/gm,p={"*":!0,"+":!0,"-":!0},m={".":!0},g={};function y(t,e,n){var r,i,o=t.offset,a=t.options.pedantic?b:v,s=null;return e=a.apply(null,arguments),t.options.gfm&&(r=e.match(l))&&(i=r[0].length,s="x"===r[1].toLowerCase(),o[n.line]+=i,e=e.slice(i)),{type:"listItem",loose:c.test(e)||"\n"===e.charAt(e.length-1),checked:s,children:t.tokenizeBlock(e,n)}}function b(t,e,n){var r=t.offset,i=n.line;return e=e.replace(h,o),i=n.line,e.replace(d,o);function o(t){return r[i]=(r[i]||0)+t.length,i++,""}}function v(t,e,n){var r,o,u,c,l,h,d,p=t.offset,m=n.line;for(c=(e=e.replace(f,(function(t,e,n,a,s){o=e+n+a,u=s,Number(n)<10&&o.length%2==1&&(n=" "+n);return(r=e+i(" ",n.length)+a)+u}))).split("\n"),(l=s(e,a(r).indent).split("\n"))[0]=u,p[m]=(p[m]||0)+o.length,m++,h=0,d=c.length;++h<d;)p[m]=(p[m]||0)+c[h].length-l[h].length,m++;return l.join("\n")}g["."]=!0,g[")"]=!0},function(t,e,n){"use strict";var r=n(16),i=n(56),o=n(79);t.exports=function(t,e){var n,a,s,u,c=t.split("\n"),l=c.length+1,f=1/0,h=[];c.unshift(i(" ",e)+"!");for(;l--;)if(a=o(c[l]),h[l]=a.stops,0!==r(c[l]).length){if(!a.indent){f=1/0;break}a.indent>0&&a.indent<f&&(f=a.indent)}if(f!==1/0)for(l=c.length;l--;){for(s=h[l],n=f;n&&!(n in s);)n--;u=0!==r(c[l]).length&&f&&n!==f?"\t":"",c[l]=u+c[l].slice(n in s?s[n]+1:0)}return c.shift(),c.join("\n")}},function(t,e,n){"use strict";t.exports=function(t,e,n){var i,o,a,s,u,c=t.now(),l=e.length,f=-1,h="";for(;++f<l;){if(" "!==(a=e.charAt(f))||f>=3){f--;break}h+=a}i="",o="";for(;++f<l;){if("\n"===(a=e.charAt(f))){f--;break}" "===a||"\t"===a?o+=a:(i+=o+a,o="")}if(c.column+=h.length,c.offset+=h.length,h+=i+o,a=e.charAt(++f),s=e.charAt(++f),"\n"!==a||!r[s])return;h+=a,o=s,u=r[s];for(;++f<l;){if((a=e.charAt(f))!==s){if("\n"!==a)return;f--;break}o+=a}if(n)return!0;return t(h+o)({type:"heading",depth:u,children:this.tokenizeInline(i,c)})};var r={};r["="]=1,r["-"]=2},function(t,e,n){"use strict";var r=n(80).openCloseTag;t.exports=function(t,e,n){var i,o,a,s,u,c,l,f=this.options.blocks,h=e.length,d=0,p=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Za-z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+f.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(r.source+"\\s*$"),/^$/,!1]];for(;d<h&&("\t"===(s=e.charAt(d))||" "===s);)d++;if("<"!==e.charAt(d))return;i=-1===(i=e.indexOf("\n",d+1))?h:i,o=e.slice(d,i),a=-1,u=p.length;for(;++a<u;)if(p[a][0].test(o)){c=p[a];break}if(!c)return;if(n)return c[2];if(d=i,!c[1].test(o))for(;d<h;){if(i=-1===(i=e.indexOf("\n",d+1))?h:i,o=e.slice(d+1,i),c[1].test(o)){o&&(d=i);break}d=i}return l=e.slice(0,d),t(l)({type:"html",value:l})}},function(t,e,n){"use strict";var r=n(7),i=n(59);t.exports=a,a.notInList=!0,a.notInBlock=!0;var o=/^( {4}|\t)?/gm;function a(t,e,n){var a,s,u,c,l,f,h,d,p,m,g,y,b=this.offset;if(this.options.footnotes){for(a=0,s=e.length,u="",c=t.now(),l=c.line;a<s&&(p=e.charAt(a),r(p));)u+=p,a++;if("["===e.charAt(a)&&"^"===e.charAt(a+1)){for(a=(u+="[^").length,h="";a<s&&"]"!==(p=e.charAt(a));)"\\"===p&&(h+=p,a++,p=e.charAt(a)),h+=p,a++;if(h&&"]"===e.charAt(a)&&":"===e.charAt(a+1)){if(n)return!0;for(m=i(h),a=(u+=h+"]:").length;a<s&&("\t"===(p=e.charAt(a))||" "===p);)u+=p,a++;for(c.column+=u.length,c.offset+=u.length,h="",f="",d="";a<s;){if("\n"===(p=e.charAt(a))){for(d=p,a++;a<s&&"\n"===(p=e.charAt(a));)d+=p,a++;for(h+=d,d="";a<s&&" "===(p=e.charAt(a));)d+=p,a++;if(0===d.length)break;h+=d}h&&(f+=h,h=""),f+=p,a++}return u+=f,f=f.replace(o,(function(t){return b[l]=(b[l]||0)+t.length,l++,""})),g=t(u),y=this.enterBlock(),f=this.tokenizeBlock(f,c),y(),g({type:"footnoteDefinition",identifier:m,children:f})}}}}},function(t,e,n){"use strict";t.exports=function(t){return String(t).replace(/\s+/g," ")}},function(t,e,n){"use strict";var r=n(7),i=n(59);t.exports=o,o.notInList=!0,o.notInBlock=!0;function o(t,e,n){for(var r,o,u,c,l,f,h,d,p=this.options.commonmark,m=0,g=e.length,y="";m<g&&(" "===(c=e.charAt(m))||"\t"===c);)y+=c,m++;if("["===(c=e.charAt(m))){for(m++,y+=c,u="";m<g&&"]"!==(c=e.charAt(m));)"\\"===c&&(u+=c,m++,c=e.charAt(m)),u+=c,m++;if(u&&"]"===e.charAt(m)&&":"===e.charAt(m+1)){for(f=u,m=(y+=u+"]:").length,u="";m<g&&("\t"===(c=e.charAt(m))||" "===c||"\n"===c);)y+=c,m++;if(u="",r=y,"<"===(c=e.charAt(m))){for(m++;m<g&&a(c=e.charAt(m));)u+=c,m++;if((c=e.charAt(m))===a.delimiter)y+="<"+u+c,m++;else{if(p)return;m-=u.length+1,u=""}}if(!u){for(;m<g&&s(c=e.charAt(m));)u+=c,m++;y+=u}if(u){for(h=u,u="";m<g&&("\t"===(c=e.charAt(m))||" "===c||"\n"===c);)u+=c,m++;if(l=null,'"'===(c=e.charAt(m))?l='"':"'"===c?l="'":"("===c&&(l=")"),l){if(!u)return;for(m=(y+=u+c).length,u="";m<g&&(c=e.charAt(m))!==l;){if("\n"===c){if(m++,"\n"===(c=e.charAt(m))||c===l)return;u+="\n"}u+=c,m++}if((c=e.charAt(m))!==l)return;o=y,y+=u+c,m++,d=u,u=""}else u="",m=y.length;for(;m<g&&("\t"===(c=e.charAt(m))||" "===c);)y+=c,m++;return(c=e.charAt(m))&&"\n"!==c?void 0:!!n||(r=t(r).test().end,h=this.decode.raw(this.unescape(h),r,{nonTerminated:!1}),d&&(o=t(o).test().end,d=this.decode.raw(this.unescape(d),o)),t(y)({type:"definition",identifier:i(f),title:d||null,url:h}))}}}}function a(t){return">"!==t&&"["!==t&&"]"!==t}function s(t){return"["!==t&&"]"!==t&&!r(t)}a.delimiter=">"},function(t,e,n){"use strict";var r=n(7);t.exports=function(t,e,n){var i,o,a,s,u,c,l,f,h,d,p,m,g,y,b,v,w,T,S,x,E,M,I,A;if(!this.options.gfm)return;i=0,T=0,c=e.length+1,l=[];for(;i<c;){if(M=e.indexOf("\n",i),I=e.indexOf("|",i+1),-1===M&&(M=e.length),-1===I||I>M){if(T<2)return;break}l.push(e.slice(i,M)),T++,i=M+1}s=l.join("\n"),o=l.splice(1,1)[0]||[],i=0,c=o.length,T--,a=!1,p=[];for(;i<c;){if("|"===(h=o.charAt(i))){if(d=null,!1===a){if(!1===A)return}else p.push(a),a=!1;A=!1}else if("-"===h)d=!0,a=a||null;else if(":"===h)a="left"===a?"center":d&&null===a?"right":"left";else if(!r(h))return;i++}!1!==a&&p.push(a);if(p.length<1)return;if(n)return!0;w=-1,x=[],E=t(s).reset({type:"table",align:p,children:x});for(;++w<T;){for(S=l[w],u={type:"tableRow",children:[]},w&&t("\n"),t(S).reset(u,E),c=S.length+1,i=0,f="",m="",g=!0,y=null,b=null;i<c;)if("\t"!==(h=S.charAt(i))&&" "!==h){if(""===h||"|"===h)if(g)t(h);else{if(h&&b){f+=h,i++;continue}!m&&!h||g||(s=m,f.length>1&&(h?(s+=f.slice(0,f.length-1),f=f.charAt(f.length-1)):(s+=f,f="")),v=t.now(),t(s)({type:"tableCell",children:this.tokenizeInline(m,v)},u)),t(f+h),f="",m=""}else if(f&&(m+=f,f=""),m+=h,"\\"===h&&i!==c-2&&(m+=S.charAt(i+1),i++),"`"===h){for(y=1;S.charAt(i+1)===h;)m+=h,i++,y++;b?y>=b&&(b=0):b=y}g=!1,i++}else m?f+=h:t(h),i++;w||t("\n"+o)}return E}},function(t,e,n){"use strict";var r=n(16),i=n(27),o=n(57),a=n(58);t.exports=function(t,e,n){var s,u,c,l,f,h=this.options,d=h.commonmark,p=h.gfm,m=this.blockTokenizers,g=this.interruptParagraph,y=e.indexOf("\n"),b=e.length;for(;y<b;){if(-1===y){y=b;break}if("\n"===e.charAt(y+1))break;if(d){for(l=0,s=y+1;s<b;){if("\t"===(c=e.charAt(s))){l=4;break}if(" "!==c)break;l++,s++}if(l>=4){y=e.indexOf("\n",y+1);continue}}if(u=e.slice(y+1),a(g,m,this,[t,u,!0]))break;if(m.list.call(this,t,u,!0)&&(this.inList||d||p&&!i(r.left(u).charAt(0))))break;if(s=y,-1!==(y=e.indexOf("\n",y+1))&&""===r(e.slice(s,y))){y=s;break}}if(u=e.slice(0,y),""===r(u))return t(u),null;if(n)return!0;return f=t.now(),u=o(u),t(u)({type:"paragraph",children:this.tokenizeInline(u,f)})}},function(t,e,n){"use strict";var r=n(216);function i(t,e,n){var r,i;if("\\"===e.charAt(0)&&(r=e.charAt(1),-1!==this.escape.indexOf(r)))return!!n||(i="\n"===r?{type:"break"}:{type:"text",value:r},t("\\"+r)(i))}t.exports=i,i.locator=r},function(t,e,n){"use strict";t.exports=function(t,e){return t.indexOf("\\",e)}},function(t,e,n){"use strict";var r=n(7),i=n(55),o=n(81);t.exports=s,s.locator=o,s.notInLink=!0;var a="mailto:".length;function s(t,e,n){var o,s,u,c,l,f,h,d,p,m,g;if("<"===e.charAt(0)){for(this,o="",s=e.length,u=0,c="",f=!1,h="",u++,o="<";u<s&&(l=e.charAt(u),!(r(l)||">"===l||"@"===l||":"===l&&"/"===e.charAt(u+1)));)c+=l,u++;if(c){if(h+=c,c="",h+=l=e.charAt(u),u++,"@"===l)f=!0;else{if(":"!==l||"/"!==e.charAt(u+1))return;h+="/",u++}for(;u<s&&(l=e.charAt(u),!r(l)&&">"!==l);)c+=l,u++;if(l=e.charAt(u),c&&">"===l)return!!n||(p=h+=c,o+=h+l,(d=t.now()).column++,d.offset++,f&&("mailto:"===h.slice(0,a).toLowerCase()?(p=p.substr(a),d.column+=a,d.offset+=a):h="mailto:"+h),m=this.inlineTokenizers,this.inlineTokenizers={text:m.text},g=this.enterLink(),p=this.tokenizeInline(p,d),this.inlineTokenizers=m,g(),t(o)({type:"link",title:null,url:i(h,{nonTerminated:!1}),children:p}))}}}},function(t,e,n){"use strict";var r=n(55),i=n(7),o=n(219);t.exports=u,u.locator=o,u.notInLink=!0;var a=["http://","https://","mailto:"],s=a.length;function u(t,e,n){var o,u,c,l,f,h,d,p,m,g,y,b;if(this.options.gfm){for(o="",l=-1,p=s;++l<p;)if(h=a[l],(d=e.slice(0,h.length)).toLowerCase()===h){o=d;break}if(o){for(l=o.length,p=e.length,m="",g=0;l<p&&(c=e.charAt(l),!i(c)&&"<"!==c)&&("."!==c&&","!==c&&":"!==c&&";"!==c&&'"'!==c&&"'"!==c&&")"!==c&&"]"!==c||(y=e.charAt(l+1))&&!i(y))&&("("!==c&&"["!==c||g++,")"!==c&&"]"!==c||!(--g<0));)m+=c,l++;if(m){if(u=o+=m,"mailto:"===h){if(-1===(f=m.indexOf("@"))||f===p-1)return;u=u.substr("mailto:".length)}return!!n||(b=this.enterLink(),u=this.tokenizeInline(u,t.now()),b(),t(o)({type:"link",title:null,url:r(o,{nonTerminated:!1}),children:u}))}}}}},function(t,e,n){"use strict";t.exports=function(t,e){var n,i=r.length,o=-1,a=-1;if(!this.options.gfm)return-1;for(;++o<i;)-1!==(n=t.indexOf(r[o],e))&&(n<a||-1===a)&&(a=n);return a};var r=["https://","http://","mailto:"]},function(t,e,n){"use strict";var r=n(77),i=n(81),o=n(80).tag;t.exports=u,u.locator=i;var a=/^<a /i,s=/^<\/a>/i;function u(t,e,n){var i,u,c=e.length;if(!("<"!==e.charAt(0)||c<3)&&(i=e.charAt(1),(r(i)||"?"===i||"!"===i||"/"===i)&&(u=e.match(o))))return!!n||(u=u[0],!this.inLink&&a.test(u)?this.inLink=!0:this.inLink&&s.test(u)&&(this.inLink=!1),t(u)({type:"html",value:u}))}},function(t,e,n){"use strict";var r=n(7),i=n(82);t.exports=u,u.locator=i;var o={}.hasOwnProperty,a={'"':'"',"'":"'"},s={};function u(t,e,n){var i,u,c,l,f,h,d,p,m,g,y,b,v,w,T,S,x,E,M,I="",A=0,k=e.charAt(0),N=this.options.pedantic,L=this.options.commonmark,D=this.options.gfm;if("!"===k&&(m=!0,I=k,k=e.charAt(++A)),"["===k&&(m||!this.inLink)){for(I+=k,T="",A++,b=e.length,w=0,(x=t.now()).column+=A,x.offset+=A;A<b;){if(h=k=e.charAt(A),"`"===k){for(u=1;"`"===e.charAt(A+1);)h+=k,A++,u++;c?u>=c&&(c=0):c=u}else if("\\"===k)A++,h+=e.charAt(A);else if(c&&!D||"["!==k){if((!c||D)&&"]"===k){if(!w){if(!N)for(;A<b&&(k=e.charAt(A+1),r(k));)h+=k,A++;if("("!==e.charAt(A+1))return;h+="(",i=!0,A++;break}w--}}else w++;T+=h,h="",A++}if(i){for(g=T,I+=T+h,A++;A<b&&(k=e.charAt(A),r(k));)I+=k,A++;if(k=e.charAt(A),p=L?s:a,T="",l=I,"<"===k){for(A++,l+="<";A<b&&">"!==(k=e.charAt(A));){if(L&&"\n"===k)return;T+=k,A++}if(">"!==e.charAt(A))return;I+="<"+T+">",S=T,A++}else{for(k=null,h="";A<b&&(k=e.charAt(A),!h||!o.call(p,k));){if(r(k)){if(!N)break;h+=k}else{if("("===k)w++;else if(")"===k){if(0===w)break;w--}T+=h,h="","\\"===k&&(T+="\\",k=e.charAt(++A)),T+=k}A++}S=T,A=(I+=T).length}for(T="";A<b&&(k=e.charAt(A),r(k));)T+=k,A++;if(k=e.charAt(A),I+=T,T&&o.call(p,k))if(A++,I+=k,T="",y=p[k],f=I,L){for(;A<b&&(k=e.charAt(A))!==y;)"\\"===k&&(T+="\\",k=e.charAt(++A)),A++,T+=k;if((k=e.charAt(A))!==y)return;for(v=T,I+=T+k,A++;A<b&&(k=e.charAt(A),r(k));)I+=k,A++}else for(h="";A<b;){if((k=e.charAt(A))===y)d&&(T+=y+h,h=""),d=!0;else if(d){if(")"===k){I+=T+y+h,v=T;break}r(k)?h+=k:(T+=y+h+k,h="",d=!1)}else T+=k;A++}if(")"===e.charAt(A))return!!n||(I+=")",S=this.decode.raw(this.unescape(S),t(l).test().end,{nonTerminated:!1}),v&&(f=t(f).test().end,v=this.decode.raw(this.unescape(v),f)),M={type:m?"image":"link",title:v||null,url:S},m?M.alt=this.decode.raw(this.unescape(g),x)||null:(E=this.enterLink(),M.children=this.tokenizeInline(g,x),E()),t(I)(M))}}}s['"']='"',s["'"]="'",s["("]=")"},function(t,e,n){"use strict";var r=n(7),i=n(82),o=n(59);t.exports=a,a.locator=i;function a(t,e,n){var i,a,s,u,c,l,f,h,d=e.charAt(0),p=0,m=e.length,g="",y="",b="link",v="shortcut";if("!"===d&&(b="image",y=d,d=e.charAt(++p)),"["===d){if(p++,y+=d,l="",this.options.footnotes&&"^"===e.charAt(p)){if("image"===b)return;y+="^",p++,b="footnote"}for(h=0;p<m;){if("["===(d=e.charAt(p)))f=!0,h++;else if("]"===d){if(!h)break;h--}"\\"===d&&(l+="\\",d=e.charAt(++p)),l+=d,p++}if(g=l,i=l,"]"===(d=e.charAt(p))){for(p++,g+=d,l="";p<m&&(d=e.charAt(p),r(d));)l+=d,p++;if(d=e.charAt(p),"footnote"!==b&&"["===d){for(a="",l+=d,p++;p<m&&"["!==(d=e.charAt(p))&&"]"!==d;)"\\"===d&&(a+="\\",d=e.charAt(++p)),a+=d,p++;"]"===(d=e.charAt(p))?(v=a?"full":"collapsed",l+=a+d,p++):a="",g+=l,l=""}else{if(!i)return;a=i}if("full"===v||!f)return g=y+g,"link"===b&&this.inLink?null:!!n||("footnote"===b&&-1!==i.indexOf(" ")?t(g)({type:"footnote",children:this.tokenizeInline(i,t.now())}):((s=t.now()).column+=y.length,s.offset+=y.length,u={type:b+"Reference",identifier:o(a="full"===v?a:i)},"link"!==b&&"image"!==b||(u.referenceType=v),"link"===b?(c=this.enterLink(),u.children=this.tokenizeInline(i,s),c()):"image"===b&&(u.alt=this.decode.raw(this.unescape(i),s)||null),t(g)(u)))}}}},function(t,e,n){"use strict";var r=n(16),i=n(7),o=n(224);t.exports=a,a.locator=o;function a(t,e,n){var o,a,s,u,c,l,f,h=0,d=e.charAt(h);if(!("*"!==d&&"_"!==d||e.charAt(++h)!==d||(a=this.options.pedantic,c=(s=d)+s,l=e.length,h++,u="",d="",a&&i(e.charAt(h)))))for(;h<l;){if(f=d,!((d=e.charAt(h))!==s||e.charAt(h+1)!==s||a&&i(f))&&(d=e.charAt(h+2))!==s){if(!r(u))return;return!!n||((o=t.now()).column+=2,o.offset+=2,t(c+u+c)({type:"strong",children:this.tokenizeInline(u,o)}))}a||"\\"!==d||(u+=d,d=e.charAt(++h)),u+=d,h++}}},function(t,e,n){"use strict";t.exports=function(t,e){var n=t.indexOf("**",e),r=t.indexOf("__",e);if(-1===r)return n;if(-1===n)return r;return r<n?r:n}},function(t,e,n){"use strict";var r=n(16),i=n(226),o=n(7),a=n(227);t.exports=s,s.locator=a;function s(t,e,n){var a,s,u,c,l,f,h,d=0,p=e.charAt(d);if(!("*"!==p&&"_"!==p||(s=this.options.pedantic,l=p,u=p,f=e.length,d++,c="",p="",s&&o(e.charAt(d)))))for(;d<f;){if(h=p,!((p=e.charAt(d))!==u||s&&o(h))){if((p=e.charAt(++d))!==u){if(!r(c)||h===u)return;if(!s&&"_"===u&&i(p)){c+=u;continue}return!!n||((a=t.now()).column++,a.offset++,t(l+c+u)({type:"emphasis",children:this.tokenizeInline(c,a)}))}c+=u}s||"\\"!==p||(c+=p,p=e.charAt(++d)),c+=p,d++}}},function(t,e,n){"use strict";t.exports=function(t){return i.test("number"==typeof t?r(t):t.charAt(0))};var r=String.fromCharCode,i=/\w/},function(t,e,n){"use strict";t.exports=function(t,e){var n=t.indexOf("*",e),r=t.indexOf("_",e);if(-1===r)return n;if(-1===n)return r;return r<n?r:n}},function(t,e,n){"use strict";var r=n(7),i=n(229);t.exports=o,o.locator=i;function o(t,e,n){var i,o,a,s="",u="",c="",l="";if(this.options.gfm&&"~"===e.charAt(0)&&"~"===e.charAt(1)&&!r(e.charAt(2)))for(i=1,o=e.length,(a=t.now()).column+=2,a.offset+=2;++i<o;){if(!("~"!==(s=e.charAt(i))||"~"!==u||c&&r(c)))return!!n||t("~~"+l+"~~")({type:"delete",children:this.tokenizeInline(l,a)});l+=u,c=u,u=s}}},function(t,e,n){"use strict";t.exports=function(t,e){return t.indexOf("~~",e)}},function(t,e,n){"use strict";var r=n(7),i=n(231);t.exports=o,o.locator=i;function o(t,e,n){for(var i,o,a,s,u,c,l,f,h=e.length,d=0,p="",m="";d<h&&"`"===e.charAt(d);)p+="`",d++;if(p){for(u=p,s=d,p="",f=e.charAt(d),a=0;d<h;){if(c=f,f=e.charAt(d+1),"`"===c?(a++,m+=c):(a=0,p+=c),a&&"`"!==f){if(a===s){u+=p+m,l=!0;break}p+=m,m=""}d++}if(!l){if(s%2!=0)return;p=""}if(n)return!0;for(i="",o="",h=p.length,d=-1;++d<h;)c=p.charAt(d),r(c)?o+=c:(o&&(i&&(i+=o),o=""),i+=c);return t(u)({type:"inlineCode",value:i})}}},function(t,e,n){"use strict";t.exports=function(t,e){return t.indexOf("`",e)}},function(t,e,n){"use strict";var r=n(233);t.exports=i,i.locator=r;function i(t,e,n){for(var r,i=e.length,o=-1,a="";++o<i;){if("\n"===(r=e.charAt(o))){if(o<2)return;return!!n||t(a+=r)({type:"break"})}if(" "!==r)return;a+=r}}},function(t,e,n){"use strict";t.exports=function(t,e){var n=t.indexOf("\n",e);for(;n>e&&" "===t.charAt(n-1);)n--;return n}},function(t,e,n){"use strict";t.exports=function(t,e,n){var r,i,o,a,s,u,c,l,f,h;if(n)return!0;r=this.inlineMethods,a=r.length,i=this.inlineTokenizers,o=-1,f=e.length;for(;++o<a;)"text"!==(l=r[o])&&i[l]&&((c=i[l].locator)||t.file.fail("Missing locator: `"+l+"`"),-1!==(u=c.call(this,e,1))&&u<f&&(f=u));s=e.slice(0,f),h=t.now(),this.decode(s,h,(function(e,n,r){t(r||e)({type:"text",value:e})}))}},function(t,e,n){var r=n(236);t.exports=function(){return function(t){return r(t,"list",(function(t,e){var n,r,i=0;for(n=0,r=e.length;n<r;n++)"list"===e[n].type&&(i+=1);for(n=0,r=t.children.length;n<r;n++){var o=t.children[n];o.index=n,o.ordered=t.ordered}t.depth=i})),t}}},function(t,e,n){"use strict";t.exports=function(t,e,n){var r=[];"function"==typeof e&&(n=e,e=null);function i(t){var o;return e&&t.type!==e||(o=n(t,r.concat())),t.children&&!1!==o?function(t,e){var n,o=t.length,a=-1;r.push(e);for(;++a<o;)if((n=t[a])&&!1===i(n))return!1;return r.pop(),!0}(t.children,t):o}i(t)}},function(t,e,n){"use strict";var r=n(28),i=/^<(area|base|br|col|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)\s*\/?>$/i,o=/^<(\/?)([a-z]+)\s*>$/;t.exports=function(t){var e,n;return r(t,"html",(function(t,r,a){n!==a&&(e=[],n=a);var s=function(t){var e=t.value.match(i);return!!e&&e[1]}(t);if(s)return a.children.splice(r,1,{type:"virtualHtml",tag:s,position:t.position}),!0;var u=function(t,e){var n=t.value.match(o);return!!n&&{tag:n[2],opening:!n[1],node:t}}(t);if(!u)return!0;var c=function(t,e){var n=t.length;for(;n--;)if(t[n].tag===e)return t.splice(n,1)[0];return!1}(e,u.tag);return c?a.children.splice(r,0,function(t,e,n){var r=n.children.indexOf(t.node),i=n.children.indexOf(e.node),o=n.children.splice(r,i-r+1).slice(1,-1);return{type:"virtualHtml",children:o,tag:t.tag,position:{start:t.node.position.start,end:e.node.position.end,indent:[]}}}(u,c,a)):u.opening||e.push(u),!0}),!0),t}},function(t,e,n){"use strict";var r=n(28);function i(t,e,n,r){if("remove"===r)n.children.splice(e,1);else if("unwrap"===r){var i=[e,1];t.children&&(i=i.concat(t.children)),Array.prototype.splice.apply(n.children,i)}}e.ofType=function(t,e){return function(e){return t.forEach((function(t){return r(e,t,n,!0)})),e};function n(t,n,r){r&&i(t,n,r,e)}},e.ifNotMatch=function(t,e){return function(t){return r(t,n,!0),t};function n(n,r,o){o&&!t(n,r,o)&&i(n,r,o,e)}}},function(t,e,n){"use strict";var r=n(0),i=n(13),o=n(240),a={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function s(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,c=e.renderers[t.type];void 0===t.position&&(t.position=n.node&&n.node.position||a);var l=t.position.start,f=[t.type,l.line,l.column,i].join("-");if(!o.isValidElementType(c))throw new Error("Renderer for type `".concat(t.type,"` not defined or is not renderable"));var h=u(t,f,e,c,n,i);return r.createElement(c,h,h.children||d()||void 0);function d(){return t.children&&t.children.map((function(n,r){return s(n,e,{node:t,props:h},r)}))}}function u(t,e,n,o,a,u){var l,f={key:e},h="string"==typeof o;n.sourcePos&&t.position&&(f["data-sourcepos"]=[(l=t.position).start.line,":",l.start.column,"-",l.end.line,":",l.end.column].map(String).join("")),n.rawSourcePos&&!h&&(f.sourcePosition=t.position),n.includeNodeIndex&&a.node&&a.node.children&&!h&&(f.index=a.node.children.indexOf(t),f.parentChildCount=a.node.children.length);var d=null!==t.identifier&&void 0!==t.identifier?n.definitions[t.identifier]||{}:null;switch(t.type){case"root":c(f,{className:n.className});break;case"text":f.nodeKey=e,f.children=t.value;break;case"heading":f.level=t.depth;break;case"list":f.start=t.start,f.ordered=t.ordered,f.tight=!t.loose,f.depth=t.depth;break;case"listItem":f.checked=t.checked,f.tight=!t.loose,f.ordered=t.ordered,f.index=t.index,f.children=function(t,e){if(t.loose)return t.children;if(e.node&&t.index>0&&e.node.children[t.index-1].loose)return t.children;return function(t){return t.children.reduce((function(t,e){return t.concat("paragraph"===e.type?e.children||[]:[e])}),[])}(t)}(t,a).map((function(e,r){return s(e,n,{node:t,props:f},r)}));break;case"definition":c(f,{identifier:t.identifier,title:t.title,url:t.url});break;case"code":c(f,{language:t.lang&&t.lang.split(/\s/,1)[0]});break;case"inlineCode":f.children=t.value,f.inline=!0;break;case"link":c(f,{title:t.title||void 0,target:"function"==typeof n.linkTarget?n.linkTarget(t.url,t.children,t.title):n.linkTarget,href:n.transformLinkUri?n.transformLinkUri(t.url,t.children,t.title):t.url});break;case"image":c(f,{alt:t.alt||void 0,title:t.title||void 0,src:n.transformImageUri?n.transformImageUri(t.url,t.children,t.title,t.alt):t.url});break;case"linkReference":c(f,i(d,{href:n.transformLinkUri?n.transformLinkUri(d.href):d.href}));break;case"imageReference":c(f,{src:n.transformImageUri&&d.href?n.transformImageUri(d.href,t.children,d.title,t.alt):d.href,title:d.title||void 0,alt:t.alt||void 0});break;case"table":case"tableHead":case"tableBody":f.columnAlignment=t.align;break;case"tableRow":f.isHeader="tableHead"===a.node.type,f.columnAlignment=a.props.columnAlignment;break;case"tableCell":c(f,{isHeader:a.props.isHeader,align:a.props.columnAlignment[u]});break;case"virtualHtml":f.tag=t.tag;break;case"html":f.isBlock=t.position.start.line!==t.position.end.line,f.escapeHtml=n.escapeHtml,f.skipHtml=n.skipHtml;break;case"parsedHtml":var p;t.children&&(p=t.children.map((function(e,r){return s(e,n,{node:t,props:f},r)}))),f.escapeHtml=n.escapeHtml,f.skipHtml=n.skipHtml,f.element=function(t,e){var n=t.element;if(Array.isArray(n)){var i=r.Fragment||"div";return r.createElement(i,null,n)}if(n.props.children||e){var o=r.Children.toArray(n.props.children).concat(e);return r.cloneElement(n,null,o)}return r.cloneElement(n,null)}(t,p);break;default:c(f,i(t,{type:void 0,position:void 0,children:void 0}))}return!h&&t.value&&(f.value=t.value),f}function c(t,e){for(var n in e)void 0!==e[n]&&(t[n]=e[n])}t.exports=s},function(t,e,n){"use strict";t.exports=n(241)},function(t,e,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,b=r?Symbol.for("react.block"):60121,v=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,T=r?Symbol.for("react.scope"):60119;function S(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case f:case h:case a:case u:case s:case p:return t;default:switch(t=t&&t.$$typeof){case l:case d:case y:case g:case c:return t;default:return e}}case o:return e}}}function x(t){return S(t)===h}e.AsyncMode=f,e.ConcurrentMode=h,e.ContextConsumer=l,e.ContextProvider=c,e.Element=i,e.ForwardRef=d,e.Fragment=a,e.Lazy=y,e.Memo=g,e.Portal=o,e.Profiler=u,e.StrictMode=s,e.Suspense=p,e.isAsyncMode=function(t){return x(t)||S(t)===f},e.isConcurrentMode=x,e.isContextConsumer=function(t){return S(t)===l},e.isContextProvider=function(t){return S(t)===c},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return S(t)===d},e.isFragment=function(t){return S(t)===a},e.isLazy=function(t){return S(t)===y},e.isMemo=function(t){return S(t)===g},e.isPortal=function(t){return S(t)===o},e.isProfiler=function(t){return S(t)===u},e.isStrictMode=function(t){return S(t)===s},e.isSuspense=function(t){return S(t)===p},e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===a||t===h||t===u||t===s||t===p||t===m||"object"==typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===g||t.$$typeof===c||t.$$typeof===l||t.$$typeof===d||t.$$typeof===v||t.$$typeof===w||t.$$typeof===T||t.$$typeof===b)},e.typeOf=S},function(t,e,n){"use strict";var r=n(28);function i(t){var e=t.children;t.children=[{type:"tableHead",align:t.align,children:[e[0]],position:e[0].position}],e.length>1&&t.children.push({type:"tableBody",align:t.align,children:e.slice(1),position:{start:e[1].position.start,end:e[e.length-1].position.end}})}t.exports=function(t){return r(t,"table",i),t}},function(t,e,n){"use strict";t.exports=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(e.children||[]).reduce((function(e,n){return"definition"===n.type&&(e[n.identifier]={href:n.url,title:n.title}),t(n,e)}),n)}},function(t,e,n){"use strict";var r=["http","https","mailto","tel"];t.exports=function(t){var e=(t||"").trim(),n=e.charAt(0);if("#"===n||"/"===n)return e;var i=e.indexOf(":");if(-1===i)return e;for(var o=r.length,a=-1;++a<o;){var s=r[a];if(i===s.length&&e.slice(0,s.length).toLowerCase()===s)return e}return-1!==(a=e.indexOf("?"))&&i>a||-1!==(a=e.indexOf("#"))&&i>a?e:"javascript:void(0)"}},function(t,e,n){"use strict";var r=n(13),i=n(0),o=parseInt((i.version||"16").slice(0,2),10)>=16,a=i.createElement;function s(t,e){return a(t,u(e),e.children)}function u(t){return t["data-sourcepos"]?{"data-sourcepos":t["data-sourcepos"]}:{}}t.exports={break:"br",paragraph:"p",emphasis:"em",strong:"strong",thematicBreak:"hr",blockquote:"blockquote",delete:"del",link:"a",image:"img",linkReference:"a",imageReference:"img",table:s.bind(null,"table"),tableHead:s.bind(null,"thead"),tableBody:s.bind(null,"tbody"),tableRow:s.bind(null,"tr"),tableCell:function(t){var e=t.align?{textAlign:t.align}:void 0,n=u(t);return a(t.isHeader?"th":"td",e?r({style:e},n):n,t.children)},root:function(t){var e=!t.className,n=e&&i.Fragment||"div";return a(n,e?null:t,t.children)},text:function(t){return o?t.children:a("span",null,t.children)},list:function(t){var e=u(t);null!==t.start&&1!==t.start&&void 0!==t.start&&(e.start=t.start.toString());return a(t.ordered?"ol":"ul",e,t.children)},listItem:function(t){var e=null;if(null!==t.checked&&void 0!==t.checked){var n=t.checked;e=a("input",{type:"checkbox",checked:n,readOnly:!0})}return a("li",u(t),e,t.children)},definition:function(){return null},heading:function(t){return a("h".concat(t.level),u(t),t.children)},inlineCode:function(t){return a("code",u(t),t.children)},code:function(t){var e=t.language&&"language-".concat(t.language),n=a("code",e?{className:e}:null,t.value);return a("pre",u(t),n)},html:function(t){if(t.skipHtml)return null;var e=t.isBlock?"div":"span";if(t.escapeHtml){var n=i.Fragment||e;return a(n,null,t.value)}var r={dangerouslySetInnerHTML:{__html:t.value}};return a(e,r)},virtualHtml:function(t){return a(t.tag,u(t),t.children)},parsedHtml:function(t){return t["data-sourcepos"]?i.cloneElement(t.element,{"data-sourcepos":t["data-sourcepos"]}):t.element}}},function(t,e,n){"use strict";e.HtmlParser="undefined"==typeof Symbol?"__RMD_HTML_PARSER__":Symbol("__RMD_HTML_PARSER__")}]);